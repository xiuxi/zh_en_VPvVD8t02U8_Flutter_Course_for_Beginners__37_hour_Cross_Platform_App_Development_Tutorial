1
10:39:20,160 --> 10:39:24,160
people if you're installing git then you're not going to have all this


2
10:39:24,160 --> 10:39:27,436
information already set up like who you are


3
10:39:27,436 --> 10:39:32,480
and there's information about how you configured it and how you tell get who


4
10:39:32,480 --> 10:39:36,560
you are and what your name is etc and that is


5
10:39:36,560 --> 10:39:41,200
using a command called git config and global for instance


6
10:39:41,200 --> 10:39:45,916
but you could actually read about read about that online so just say git config


7
10:39:45,916 --> 10:39:50,240
and then you will get a lot of information about how to do that so but


8
10:39:50,240 --> 10:39:55,120
just know that git is such a big world that if i want to explain everything


9
10:39:55,120 --> 10:39:58,880
about git we could have a course that is already


10
10:39:58,880 --> 10:40:04,560
30 hours just talking about git so just know that there's constraints for


11
10:40:04,560 --> 10:40:09,120
on me to explain like the absolute basics of get to you in order for us to


12
10:40:09,120 --> 10:40:13,840
be able to use git in this course for this particular use case so i'm gonna


13
10:40:13,840 --> 10:40:19,040
just focus on those things okay so um now that you know how to commit i


14
10:40:19,040 --> 10:40:21,756
think you're you're like very


15
10:40:21,756 --> 10:40:24,160
you're in good


16
10:40:24,160 --> 10:40:28,560
place to start learning more about git and the thing you may want to know so


17
10:40:28,560 --> 10:40:32,800
which we're not going to use in our in this course


18
10:40:32,800 --> 10:40:37,360
is branch using git and why you'll need them now


19
10:40:37,360 --> 10:40:42,160
git is a is a piece of software that allows


20
10:40:42,160 --> 10:40:48,080
groups of people work on the same piece of code without losing their changes now


21
10:40:48,080 --> 10:40:52,000
if you're for instance from a design background if you're working with figma


22
10:40:52,000 --> 10:40:57,116
if i go into the design file that you you've shared with me as an observer i


23
10:40:57,116 --> 10:41:01,756
cannot make any changes so i can only observe you and i can just like export


24
10:41:01,756 --> 10:41:06,720
assets uh or even if you're using um a zeppelin


25
10:41:06,720 --> 10:41:10,560
it's the same thing you can so someone some designer sitting with sketch for


26
10:41:10,560 --> 10:41:13,840
instance and then they're exporting the work into zeppelin and then you as an


27
10:41:13,840 --> 10:41:16,720
observer you're you're exporting that information from


28
10:41:16,720 --> 10:41:19,596
zeppelin but you can't make any changes to the


29
10:41:19,596 --> 10:41:24,480
source however with git when you share your information for like your git


30
10:41:24,480 --> 10:41:28,480
repository with someone else they can also make commits to it as you'll see


31
10:41:28,480 --> 10:41:32,720
soon we're going to use github for that so


32
10:41:32,720 --> 10:41:35,756
um then basically you need to


33
10:41:35,756 --> 10:41:40,240
make sure that every person is identified correctly and then they have


34
10:41:40,240 --> 10:41:44,880
for instance they that they have configured get in the


35
10:41:44,880 --> 10:41:49,116
right way and sometimes i mean we're talking about branches so


36
10:41:49,116 --> 10:41:53,680
sometimes these people don't want to affect what you are doing


37
10:41:53,680 --> 10:41:58,800
in this main branch so just imagine and a branch is more like a


38
10:41:58,800 --> 10:42:01,596
train line like your train is going there


39
10:42:01,596 --> 10:42:06,320
and maybe some some places your friends want to visit a town in the city that


40
10:42:06,320 --> 10:42:11,276
you hadn't planned so they get off the train they go on another train line and


41
10:42:11,276 --> 10:42:14,880
at the end you will meet so at that point you can see that they branched out


42
10:42:14,880 --> 10:42:18,880
into their own branch and that is like the concept of branches in git as well


43
10:42:18,880 --> 10:42:21,840
so sometimes when you're working with other developers they may want to branch


44
10:42:21,840 --> 10:42:27,200
out into their own branches on the same source code do some experiments and once


45
10:42:27,200 --> 10:42:31,040
they figure out what they actually wanted to do maybe they will save their


46
10:42:31,040 --> 10:42:35,596
own work into that branch and then they will bring it back to your branch at the


47
10:42:35,596 --> 10:42:38,800
end you will meet at the train station and then they bring the results with


48
10:42:38,800 --> 10:42:43,276
them and then you merge together so there's a lot of information about


49
10:42:43,276 --> 10:42:47,276
branches how they work in kit but just know that


50
10:42:47,276 --> 10:42:50,400
branches are kind of like train lines and right now you're on the main train


51
10:42:50,400 --> 10:42:53,520
line going from your city to the destination


52
10:42:53,520 --> 10:42:56,160
okay so


53
10:42:56,160 --> 10:43:00,240
um but again there's time constraints on this course i can't explain everything


54
10:43:00,240 --> 10:43:03,360
about git but if you're interested there's lots of great content available


55
10:43:03,360 --> 10:43:06,800
on youtube that you can watch and i'm pretty sure that there's lots and lots


56
10:43:06,800 --> 10:43:12,480
of tutorials online as well that you can go and read about as well


57
10:43:13,680 --> 10:43:18,000
wow that was a lot of information okay um


58
10:43:18,000 --> 10:43:23,360
let's now talk about what github is now


59
10:43:23,360 --> 10:43:30,560
github is simply said a cloud service for storing your git repositories so


60
10:43:30,560 --> 10:43:34,160
um right now this git repository is sitting


61
10:43:34,160 --> 10:43:39,436
on my computer so even if if it is i'm committing my work i'm saving my work


62
10:43:39,436 --> 10:43:44,240
there's still no uh traceability from the outside


63
10:43:44,240 --> 10:43:47,360
world so no one else is allowed to see this code right now it's sitting right


64
10:43:47,360 --> 10:43:51,916
on my computer and for that if i want to share this code with other people and


65
10:43:51,916 --> 10:43:56,880
potentially allow them not to read only but also to be able to commit and


66
10:43:56,880 --> 10:44:01,916
collaborate with me in the source code then i would be able to share that on a


67
10:44:01,916 --> 10:44:06,080
cloud service such as github github


68
10:44:06,080 --> 10:44:10,240
has the word git in its name but it's not the same thing as git so git is a


69
10:44:10,240 --> 10:44:14,640
software that actually manages all your commands and etc but github is the cloud


70
10:44:14,640 --> 10:44:19,276
service that holds on these repositories for you


71
10:44:19,276 --> 10:44:21,756
so if you don't have a github account i'm


72
10:44:21,756 --> 10:44:24,720
going to help you do that right now so


73
10:44:24,720 --> 10:44:28,960
let me close actually no i'm not going to close i'm going to minimize this


74
10:44:28,960 --> 10:44:34,560
and minimize perhaps um yeah let's close this one i don't think


75
10:44:34,560 --> 10:44:40,160
we're gonna need it so i'm gonna bring up a window here


76
10:44:40,160 --> 10:44:45,040
and i'm gonna go here and look at this


77
10:44:45,040 --> 10:44:48,880
website github.com all right so


78
10:44:48,880 --> 10:44:54,560
what we need here is that for you to create a github account and to do that


79
10:44:54,560 --> 10:44:59,680
you'll need to go to this website that i will provide for you


80
10:44:59,680 --> 10:45:06,160
right there github.com sign up okay so i'm gonna if i bring up um


81
10:45:06,160 --> 10:45:11,436
a browsing window here and say sign up you will see that yeah it won't know


82
10:45:11,436 --> 10:45:15,680
that i'm signed in already with my other account and it will ask me to start


83
10:45:15,680 --> 10:45:20,080
signing up right here okay so this is like the main window for the


84
10:45:20,080 --> 10:45:23,916
sign up of github and this they've done it a little bit comically it kind of


85
10:45:23,916 --> 10:45:27,596
like a star wars kind of theme i don't know what you want to call it but


86
10:45:27,596 --> 10:45:32,240
here you will go through a few steps in order to create a github account okay


87
10:45:32,240 --> 10:45:34,640
so i'm not going to do that simply because


88
10:45:34,640 --> 10:45:37,840
i've already done that but in your case we'll just need to go


89
10:45:37,840 --> 10:45:42,160
through this provide your email choose a good secure password for your email for


90
10:45:42,160 --> 10:45:49,116
your github account and then at the end you will have a simple github account


91
10:45:49,116 --> 10:45:54,240
okay as i already have


92
10:45:54,240 --> 10:45:56,320
so uh


93
10:45:56,320 --> 10:46:01,916
we've talked about already setting up git in the terminal so i'm not gonna


94
10:46:01,916 --> 10:46:06,000
talk about that i'm just gonna maybe move this


95
10:46:06,080 --> 10:46:13,436
um a little bit up all right now after you've set up github on your


96
10:46:13,436 --> 10:46:18,800
uh basically after you set up a github account


97
10:46:18,880 --> 10:46:23,680
you will need to set up something called ssh keys now


98
10:46:23,680 --> 10:46:27,756
this is a little bit technical but


99
10:46:28,800 --> 10:46:32,560
and it is nothing that you can jump over it's not like you can actually commit


100
10:46:32,560 --> 10:46:36,320
your work without setting up ssh keys on your computer you can always go to


101
10:46:36,320 --> 10:46:40,560
github and actually commit your work right on github itself like you can


102
10:46:40,560 --> 10:46:44,560
write some text and then change that


103
10:46:44,560 --> 10:46:49,040
text right in the github interface like the web interface so


104
10:46:49,040 --> 10:46:52,800
then they will do all of that work for you because they will commit it from


105
10:46:52,800 --> 10:46:57,840
kind of like their key their own ssh keys i believe but if you on your


106
10:46:57,840 --> 10:47:02,240
computer want to be able to commit your work from your


107
10:47:02,240 --> 10:47:06,400
hard disk or your ssc or whatever into github you will need something called


108
10:47:06,400 --> 10:47:10,000
ssh key ssh keys are


109
10:47:10,080 --> 10:47:16,480
cr crypto cryptograph crypt how should i say it


110
10:47:16,480 --> 10:47:20,800
is cryptographically even uh let's see crypt


111
10:47:20,800 --> 10:47:24,240
cryptographic no crypt


112
10:47:24,240 --> 10:47:30,560
yeah cryptographically i don't know yeah cryptographically signed


113
10:47:30,560 --> 10:47:34,160
these are cryptographically signed pieces of


114
10:47:34,160 --> 10:47:38,080
signature um that


115
10:47:38,080 --> 10:47:41,680
will just kind of like private keys that we


116
10:47:41,680 --> 10:47:45,360
worked with when we worked with keychain in one of the previous chapters


117
10:47:45,360 --> 10:47:50,560
they allow you to identify yourself as a person or as a committer


118
10:47:50,560 --> 10:47:54,080
so i think that does make sense


119
10:47:54,080 --> 10:47:57,360
so uh i apologize again for the hiccup of


120
10:47:57,360 --> 10:48:00,880
cryptographically it's just because i'm not a native english speaker so you


121
10:48:00,880 --> 10:48:04,800
should be expecting these hiccups every now and then at least


122
10:48:04,800 --> 10:48:09,756
so an ssh key is a piece of key that is a


123
10:48:09,756 --> 10:48:14,880
signature that you as a developer or a committer of code create on your


124
10:48:14,880 --> 10:48:18,480
computer and whenever you make a commit and you


125
10:48:18,480 --> 10:48:22,240
wanna send that commit then to


126
10:48:22,240 --> 10:48:26,400
github then github knows who you are


127
10:48:26,400 --> 10:48:30,000
okay so it says okay you are


128
10:48:30,000 --> 10:48:35,360
person xyz and you're trying to push your changes into this repository i'm


129
10:48:35,360 --> 10:48:37,916
just gonna make sure you have access to everything okay


130
10:48:37,916 --> 10:48:43,840
so you need your ssh key set up so


131
10:48:44,800 --> 10:48:51,756
what we need to do is to go to github and i'm going to bring up a web browser


132
10:48:52,240 --> 10:48:58,400
for you to understand how to set up your ssh keys so let's say github sets up ssh


133
10:48:58,400 --> 10:49:02,880
keys and you can see adding a new ssh key to


134
10:49:02,880 --> 10:49:09,116
your github account so there is a very very comprehensive guide here on how to


135
10:49:09,116 --> 10:49:12,480
set up your ssh keys so you can see that it says


136
10:49:12,480 --> 10:49:16,080
um let's see


137
10:49:16,080 --> 10:49:19,916
generating a new ssh key and adding it to the ssh agent so this is where you


138
10:49:19,916 --> 10:49:24,480
want to go okay so after searching for github as a setup


139
10:49:24,480 --> 10:49:28,800
ssh keys make sure that you at the end go to this link generating a new ssh key


140
10:49:28,800 --> 10:49:34,320
and adding it to the ssh ssh agent read through this there is very


141
10:49:34,320 --> 10:49:38,080
comprehensive guide there are only a few commands that you have to issue in the


142
10:49:38,080 --> 10:49:42,560
terminal so do them precisely as as it is specified


143
10:49:42,560 --> 10:49:46,960
here okay so after you've done that then what


144
10:49:46,960 --> 10:49:52,320
you'll need to do is to add that ssh key i believe into your


145
10:49:52,320 --> 10:49:56,640
github account you see as the link provides here adding a new ssh key to


146
10:49:56,640 --> 10:50:01,276
your github account so you can see here then it says okay do


147
10:50:01,276 --> 10:50:06,240
this command and then go to your github account settings and then go to search


148
10:50:06,240 --> 10:50:11,756
and gpg keys and then say new ssh key and then add that information in here


149
10:50:11,756 --> 10:50:16,640
okay and then press save and that's it then you have your ssh key


150
10:50:16,640 --> 10:50:21,916
all set up and done so these are the two things you'll need to do create an ssh


151
10:50:21,916 --> 10:50:25,916
key and then upload the public key into github


152
10:50:25,916 --> 10:50:30,480
and again because of constraints on this course i can't explain this


153
10:50:30,480 --> 10:50:34,080
like line by line to i'm just providing you the information that you need to


154
10:50:34,080 --> 10:50:38,960
know and i kind of expect you to do these things on your own okay


155
10:50:38,960 --> 10:50:41,276
um


156
10:50:41,840 --> 10:50:45,916
so that is that now


157
10:50:45,916 --> 10:50:52,320
we also need to talk about um gpg keys


158
10:50:52,720 --> 10:50:56,560
uh and let's actually i think gpg was new


159
10:50:56,560 --> 10:51:02,040
privacy what was jpg


160
10:51:02,160 --> 10:51:05,756
privacy guard so is a piece of software that you


161
10:51:05,756 --> 10:51:09,520
download on your computer you can see is a free software replacement for


162
10:51:09,520 --> 10:51:13,840
semantics pgp cryptographic software suit


163
10:51:13,840 --> 10:51:19,680
uh it is compliant with rfc blah blah all you need to know about gpg and how


164
10:51:19,680 --> 10:51:22,320
we're going to use it in this course is that


165
10:51:22,320 --> 10:51:25,116
um where you


166
10:51:25,116 --> 10:51:29,840
have your i mean we talked about ssh keys where you have your ssh keys and


167
10:51:29,840 --> 10:51:33,840
then you and i know this is a little bit geeky but that's kind of like the nature


168
10:51:33,840 --> 10:51:36,800
of this thing anyways and when you


169
10:51:36,800 --> 10:51:41,520
sign your commits with your ssh key with your private key and then you push your


170
10:51:41,520 --> 10:51:46,000
changes to github and github just verifies okay this is a


171
10:51:46,000 --> 10:51:51,040
this commit is coming from someone who has access to this repository


172
10:51:51,040 --> 10:51:55,756
when you create your gpg keys and then you sign your commits


173
10:51:55,756 --> 10:52:01,840
with the gpg keys then that actually verifies that you are


174
10:52:01,840 --> 10:52:06,720
who you say you are so a lot of software developers are still continuing with ssh


175
10:52:06,720 --> 10:52:09,520
keys and to be honest with you that's not good enough


176
10:52:09,520 --> 10:52:10,960
um [Music]


177
10:52:10,960 --> 10:52:14,640
i mean well it it depends kind of on your


178
10:52:14,640 --> 10:52:18,400
opinion but in my opinion is not good enough because anybody getting a hold of


179
10:52:18,400 --> 10:52:22,720
your ssh keys can literally just do anything they want with your commits and


180
10:52:22,720 --> 10:52:28,560
change anything they want but um with the gpg keys you'll ensure that you


181
10:52:28,560 --> 10:52:32,480
are who you are and anyone else even if they have hold of like your ssh keys


182
10:52:32,480 --> 10:52:35,680
their their commits won't be signed as you so


183
10:52:35,680 --> 10:52:38,000
um


184
10:52:38,320 --> 10:52:41,756
so let's now talk a little bit and we're going to take some items here and just


185
10:52:41,756 --> 10:52:46,320
make sure that we've talked about them about ssh keys


186
10:52:46,320 --> 10:52:50,640
now we're going to talk about gpgm where you actually need it so there's a little


187
10:52:50,640 --> 10:52:54,240
link here i'm going to open that link here so we


188
10:52:54,240 --> 10:52:59,200
can both see it and it says git is cryptographically


189
10:52:59,200 --> 10:53:01,756
uh still i this word is a little bit


190
10:53:01,756 --> 10:53:04,640
different different for me to say cryptographically secure but it's not


191
10:53:04,640 --> 10:53:09,116
foolproof if you're taking work from others on the internet and want to


192
10:53:09,116 --> 10:53:12,960
verify that commits are actually from a trusted source git has a few ways to


193
10:53:12,960 --> 10:53:18,400
sign and verify work using gpg okay so


194
10:53:18,400 --> 10:53:22,480
uh so what you'll need to do is uh you need


195
10:53:22,480 --> 10:53:26,400
to set up jpg basically on your computer and i and i believe


196
10:53:26,400 --> 10:53:32,560
um if you just say gpg install mac or gpg install windows or whatever then you


197
10:53:32,560 --> 10:53:37,116
can come to for instance for i'm using jpg tools on mac


198
10:53:37,116 --> 10:53:42,320
and for you can actually install gpg for various operating systems for instance


199
10:53:42,320 --> 10:53:47,756
windows or linux so just google gpg and then your operating system is so for


200
10:53:47,756 --> 10:53:52,720
instance gpg i can smell as spell


201
10:53:52,720 --> 10:53:57,360
if i can smell gpg and download noon pg here and you


202
10:53:57,360 --> 10:54:01,116
see so this is like the download tools for


203
10:54:01,116 --> 10:54:05,360
windows i believe let's see and you can see here you could use


204
10:54:05,360 --> 10:54:09,276
gpg for win full featured windows version of you


205
10:54:09,276 --> 10:54:13,596
know pg so all i'm trying to say is just to


206
10:54:13,596 --> 10:54:17,276
download the piece of software called gpg for your operating system so whether


207
10:54:17,276 --> 10:54:22,160
it's gpg for win or gpg tools for mac os or if it's like for


208
10:54:22,160 --> 10:54:26,080
debian uh canoe pc is part of debian okay so it's


209
10:54:26,080 --> 10:54:29,116
already maybe built in so you don't have to do anything for


210
10:54:29,116 --> 10:54:32,640
your debian based linux operating systems


211
10:54:32,640 --> 10:54:35,840
all right so after doing that then you will need


212
10:54:35,840 --> 10:54:40,080
to set up gpg for github and i'll provide a


213
10:54:40,080 --> 10:54:44,080
link here for you that you can read about says managing commit


214
10:54:44,080 --> 10:54:50,400
signature verification and the link i'll open it here


215
10:54:50,400 --> 10:54:54,720
so you can see how it looks like and you can see here


216
10:54:54,720 --> 10:54:59,200
generating a gpg key so you can first go there and it will help you through the


217
10:54:59,200 --> 10:55:03,276
various steps that you need to take in order to create your gpg keys it's very


218
10:55:03,276 --> 10:55:08,480
easy it's just a few lines of uh code or a few lines of text that you


219
10:55:08,480 --> 10:55:13,040
have to issue in your terminal in order to create your gpg keys okay


220
10:55:13,040 --> 10:55:17,916
so after you've done that and you need to make sure to go into this


221
10:55:17,916 --> 10:55:21,276
section add a new gpg key we've done that


222
10:55:21,276 --> 10:55:25,916
and then you go here to your settings you can see ssh and gpg keys and then


223
10:55:25,916 --> 10:55:30,160
the same way you added your ssh keys you'll need to add the gpg key in your


224
10:55:30,160 --> 10:55:34,240
github account okay and after you've done that the


225
10:55:34,240 --> 10:55:38,560
difference between sshk and a gpg key is kind of like to you need to tell get


226
10:55:38,560 --> 10:55:42,720
that you have a gpg key and then it needs to sign your commits with your gpg


227
10:55:42,720 --> 10:55:45,596
key okay and that's where you go into this tell


228
10:55:45,596 --> 10:55:49,916
get your assigning key and you need to just follow these steps to tell get


229
10:55:49,916 --> 10:55:55,200
using the git config global user signing key you


230
10:55:55,200 --> 10:55:59,116
see here okay so just follow these steps to be honest


231
10:55:59,116 --> 10:56:02,400
with you i don't think you need to associate email with gpg really right


232
10:56:02,400 --> 10:56:07,840
now but if you want to you can do that so i'm kind of like assuming that you've


233
10:56:07,840 --> 10:56:11,520
already done that for


234
10:56:11,520 --> 10:56:13,840
um for your computer and that you've


235
10:56:13,840 --> 10:56:17,916
created the ssh key you kind of know a little bit about git you have a github


236
10:56:17,916 --> 10:56:24,400
account now you have created your pgp keys and then you have told git about


237
10:56:24,400 --> 10:56:30,800
your pdp key so your signature comments are actually signed okay


238
10:56:30,880 --> 10:56:35,916
so the next thing we need to do is to now can you see we've been working on


239
10:56:35,916 --> 10:56:39,680
our um notes application my notes i think it


240
10:56:39,680 --> 10:56:42,960
was the um


241
10:56:42,960 --> 10:56:47,436
the project was called my notes here if you remember


242
10:56:47,436 --> 10:56:50,800
and um if i say git status here you will see


243
10:56:50,800 --> 10:56:54,080
that it says not a git repository and that's kind of a little bit sad because


244
10:56:54,080 --> 10:56:58,160
we've written quite a lot of code but we haven't really backed it up in github


245
10:56:58,160 --> 10:57:00,000
okay so


246
10:57:00,000 --> 10:57:03,916
what we need to do now is to go and create a github repository remember that


247
10:57:03,916 --> 10:57:08,160
bucket we need to create one of those buckets for our code


248
10:57:08,320 --> 10:57:12,880
so let's go i'm going to create a safari window here or


249
10:57:12,880 --> 10:57:16,480
chrome or brave firefox whatever you want to use and i'm


250
10:57:16,480 --> 10:57:20,800
going to go to github.com and i'm going to go into repositories


251
10:57:20,800 --> 10:57:23,360
here as you can see and i'm going to say new


252
10:57:23,360 --> 10:57:27,436
and i'm going to give it the name my notes all right i'm going to increase


253
10:57:27,436 --> 10:57:30,560
the size of the window so you see it better for the description i'm going to


254
10:57:30,560 --> 10:57:35,436
say my notes flutter application and you can see here that tells you it


255
10:57:35,436 --> 10:57:39,116
asks you if you want to create a public public repository or a private


256
10:57:39,116 --> 10:57:42,880
repository and the difference here is that if you create a public repository


257
10:57:42,880 --> 10:57:47,520
everyone can by default read the content that you're creating


258
10:57:47,520 --> 10:57:51,520
usually if if you're if you're not 100 sure what


259
10:57:51,520 --> 10:57:54,960
public means create a private repository because


260
10:57:54,960 --> 10:57:58,160
usually there's lots of information that you may want to create like a private


261
10:57:58,160 --> 10:58:02,720
information with some api keys so you want to probably create a private


262
10:58:02,720 --> 10:58:05,756
repository unless you know exactly what you're doing or if you want to for


263
10:58:05,756 --> 10:58:09,276
instance um contribute to open source projects and


264
10:58:09,276 --> 10:58:12,160
create an open source project from an absolute beginning then you go and


265
10:58:12,160 --> 10:58:18,240
create a public but you can always make your private repository public later


266
10:58:18,240 --> 10:58:22,400
and you can always make your public repository private later but that


267
10:58:22,400 --> 10:58:27,040
doesn't happen that often so it's probably a good idea to create a pr


268
10:58:27,040 --> 10:58:31,360
private in the beginning okay then in here add a readme file a readme


269
10:58:31,360 --> 10:58:35,596
file is pretty much just a file that will be displayed to whoever goes to


270
10:58:35,596 --> 10:58:41,116
your github repository and looks at just the index file of the github repository


271
10:58:41,116 --> 10:58:45,040
so you can place some information in there but it's usually a good idea to do


272
10:58:45,040 --> 10:58:49,116
that you don't have to but i suggest that you actually do that and then say


273
10:58:49,116 --> 10:58:53,116
excuse me and then say add git ignore and we


274
10:58:53,116 --> 10:58:56,800
haven't talked about git ignore before but what get ignore is that its name


275
10:58:56,800 --> 10:59:02,720
indicates is a file that dictates to get on your computer


276
10:59:02,720 --> 10:59:08,320
or on the computer of whoever has cloned your repository about what files should


277
10:59:08,320 --> 10:59:12,560
not be committed to your git repository so


278
10:59:12,560 --> 10:59:15,596
usually it's a good idea to have a get ignore file and in here for the template


279
10:59:15,596 --> 10:59:19,276
just choose dart okay dart


280
10:59:19,276 --> 10:59:22,160
okay and in here you don't have to choose


281
10:59:22,160 --> 10:59:24,960
license right now because you're probably not going to share this code


282
10:59:24,960 --> 10:59:29,276
with anybody as it is right now but you can always add a license later okay


283
10:59:29,276 --> 10:59:32,720
so i created a private repository some name


284
10:59:32,720 --> 10:59:38,000
uh which is my notes sorry yeah um i actually feel no for the name of the


285
10:59:38,000 --> 10:59:41,040
repository i'm going to change it just to lower in case i have no space it's


286
10:59:41,040 --> 10:59:44,640
just my notes okay and then i'm going to say create


287
10:59:44,640 --> 10:59:50,320
repository boom so as you've done that now you will see


288
10:59:50,320 --> 10:59:54,800
that you have a repository here and


289
10:59:54,800 --> 11:00:00,480
i mean there's nothing really in it okay so


290
11:00:00,480 --> 11:00:04,560
what we need to do now is to you see we have


291
11:00:04,560 --> 11:00:08,080
our code here and then we have a repository how do we put this code in


292
11:00:08,080 --> 11:00:11,520
there you may think okay i'm going to upload all the files by hand or like go


293
11:00:11,520 --> 11:00:14,880
and drag files here you could kind of actually do that but


294
11:00:14,880 --> 11:00:19,116
it's not a good idea and so what you need to do is just tell


295
11:00:19,116 --> 11:00:22,480
git now all of a sudden that hey this


296
11:00:22,480 --> 11:00:27,680
folder here is indeed a git repository remember from what i said before so you


297
11:00:27,680 --> 11:00:32,400
need to say git init i'm going to bring up the caption so you


298
11:00:32,400 --> 11:00:36,400
know what i'm talking about git init and then you say good and it dot okay all of


299
11:00:36,400 --> 11:00:41,360
a sudden this became a repository so if you do get status you see


300
11:00:41,360 --> 11:00:44,560
let me see if i can actually change the arrangement on the screen so you'll see


301
11:00:44,560 --> 11:00:48,000
more of the screen real estate


302
11:00:48,000 --> 11:00:52,240
and perhaps i could even do something like this


303
11:00:52,240 --> 11:00:55,520
is that a better idea than just doing this


304
11:00:55,520 --> 11:01:00,320
no probably not so this is better uh okay this is a little bit better so


305
11:01:00,320 --> 11:01:03,916
you see now it says now that you're a git repository i can see you have a lot


306
11:01:03,916 --> 11:01:07,436
of files that you haven't really committed and what we could do then we


307
11:01:07,436 --> 11:01:10,000
could say git add all


308
11:01:10,000 --> 11:01:15,276
add all these files and folders to my git repository and then i'm going to say


309
11:01:15,276 --> 11:01:19,756
git commit with the m as a message my initial


310
11:01:19,756 --> 11:01:24,560
commits okay see now if i say git status it says


311
11:01:24,560 --> 11:01:28,720
there's nothing to commit i want to kind of push these changes i


312
11:01:28,720 --> 11:01:32,000
want to send these changes together but how do i do that because if i say git


313
11:01:32,000 --> 11:01:35,596
push see it says oh i don't know where to


314
11:01:35,596 --> 11:01:38,240
push these things to so


315
11:01:38,240 --> 11:01:42,720
what you need to do now is to go to your github repository and then go to code


316
11:01:42,720 --> 11:01:49,840
and then grab this guy from here you see to the code to ssh


317
11:01:49,840 --> 11:01:54,880
and then copy this and then go in here and do what it says here git remote ad


318
11:01:54,880 --> 11:02:01,520
so i'm going to say git remote add origin it's the name of our remote for


319
11:02:01,520 --> 11:02:07,276
instance and now i'm going to add that if i say git push


320
11:02:07,276 --> 11:02:11,596
it says okay now that you've done that you still need to tell me that this main


321
11:02:11,596 --> 11:02:15,916
branch which is on your local computer is actually mapping to the main branch


322
11:02:15,916 --> 11:02:20,800
on github which is right here so you see here's the main branch and


323
11:02:20,800 --> 11:02:24,480
we're also on the main branch so you don't have to do this complicated


324
11:02:24,480 --> 11:02:28,880
code you could actually say git push you origin head which to me is a little bit


325
11:02:28,880 --> 11:02:32,720
cleaner and that will do the same thing for you


326
11:02:32,720 --> 11:02:35,596
updates were rejected because the remote contains work that you do not have


327
11:02:35,596 --> 11:02:39,520
locally this is usually because it's actually great that we got this


328
11:02:39,520 --> 11:02:44,160
i had a plan for this to happen but what is happening here is that you see if i


329
11:02:44,160 --> 11:02:48,000
go into this github repository


330
11:02:48,000 --> 11:02:52,240
and then i can click on this initial commit here


331
11:02:52,240 --> 11:02:56,560
you will see that when i created the repository and we chose all those you


332
11:02:56,560 --> 11:03:02,480
know readme file and the and the git ignore file these are files


333
11:03:02,480 --> 11:03:08,160
that are literally created on github using github by github and placed inside


334
11:03:08,160 --> 11:03:11,756
this repository so that is a commit you see it has its own


335
11:03:11,756 --> 11:03:16,000
and it has its own commit id


336
11:03:16,000 --> 11:03:19,116
now that commit is sitting there in that


337
11:03:19,116 --> 11:03:25,436
bucket over here so there's a commit in its own bucket okay now we have our own


338
11:03:25,436 --> 11:03:30,320
computer here with its own bucket and its own commit but all of a sudden


339
11:03:30,320 --> 11:03:34,160
we're telling this using that git add command that i said


340
11:03:34,160 --> 11:03:37,436
what we're doing is that we're we're making a connection between this local


341
11:03:37,436 --> 11:03:40,800
repository and the server repository and saying that any changes have happened


342
11:03:40,800 --> 11:03:44,560
here we want to push them over here and when we said git push


343
11:03:44,560 --> 11:03:49,200
these changes are rejected because it says oh you're you have changes here


344
11:03:49,200 --> 11:03:53,040
and commits and you're putting them in here


345
11:03:53,040 --> 11:03:57,116
but your changes your repository here didn't


346
11:03:57,116 --> 11:04:01,276
contain the changes that were already there so it's saying that there's a


347
11:04:01,276 --> 11:04:04,640
conflict i don't know what you're trying to do are you trying to like replace the


348
11:04:04,640 --> 11:04:08,000
contents that were over there with your stuff


349
11:04:08,000 --> 11:04:11,680
and to be honest with you that could actually be the case


350
11:04:11,680 --> 11:04:15,596
because you see what we did here we have a git


351
11:04:15,596 --> 11:04:20,480
ignore file here that was created for us by github and also we have our readme


352
11:04:20,480 --> 11:04:23,840
file which we probably actually don't need to be honest with you maybe we


353
11:04:23,840 --> 11:04:27,200
don't need that and also they get ignored but if you looked at the changes


354
11:04:27,200 --> 11:04:30,800
that were committed committing here if i say


355
11:04:30,800 --> 11:04:32,960
um lsla


356
11:04:32,960 --> 11:04:37,520
you will see there already is a file here


357
11:04:37,520 --> 11:04:42,000
it was called get ignore here you see


358
11:04:42,000 --> 11:04:46,400
which was created by flutter when we created our project flutter already


359
11:04:46,400 --> 11:04:51,680
added that so let's say cat and with ignore to see its contents and


360
11:04:51,680 --> 11:04:54,880
you'll see there's lots of stuff that fluffer has already created for us that


361
11:04:54,880 --> 11:04:59,596
says these things need to be ignored so what i'm trying to say is that all these


362
11:04:59,596 --> 11:05:02,880
things that exist over here we don't need them really so what you could do is


363
11:05:02,880 --> 11:05:05,840
say git push


364
11:05:06,560 --> 11:05:09,916
f and i believe that force pushes a bit


365
11:05:09,916 --> 11:05:13,596
push u origin


366
11:05:13,596 --> 11:05:17,360
head f which force pushes everything


367
11:05:17,360 --> 11:05:20,480
okay so i'm going to clear that now and i'm


368
11:05:20,480 --> 11:05:25,040
going to go to my notes repository and all of a sudden you see that


369
11:05:25,040 --> 11:05:29,596
here is you see and oh we already had a readme file as


370
11:05:29,596 --> 11:05:33,520
well so flutter has created a readme file that's that's amazing i didn't know


371
11:05:33,520 --> 11:05:36,080
this so i learned something that's pretty cool


372
11:05:36,080 --> 11:05:41,530
all right there we go so now we have our code basically pushed


373
11:05:41,530 --> 11:05:46,560
[Music] um so that is for our commit


374
11:05:46,560 --> 11:05:50,400
that is already placed there


375
11:05:50,400 --> 11:05:55,520
i'm gonna just take some items here that i've talked about them


376
11:05:55,520 --> 11:05:59,276
um great


377
11:05:59,276 --> 11:06:03,756
so that is already done as well pushing so now you have your changes over there


378
11:06:03,756 --> 11:06:08,480
okay on github now what we need to talk about is also


379
11:06:08,480 --> 11:06:12,720
tagging in this course i'm going to use a


380
11:06:12,720 --> 11:06:17,756
feature in git called tags a tag is just as its name indicates it


381
11:06:17,756 --> 11:06:22,000
kind of is a label so as you're as you become better and


382
11:06:22,000 --> 11:06:26,720
better at software development you'll understand that some places sometimes


383
11:06:26,720 --> 11:06:30,800
during your journey as a software developer the code that you wrote means


384
11:06:30,800 --> 11:06:33,596
a special thing to you for instance you may say


385
11:06:33,596 --> 11:06:39,840
after a whole weekend of work i could finally deliver like the verification


386
11:06:39,840 --> 11:06:45,116
screen to my users and that in itself in its essence essence has a special


387
11:06:45,116 --> 11:06:50,160
importance is it has a special meaning and you may want to tag it and by


388
11:06:50,160 --> 11:06:54,720
tagging it it means that i'm just going to give a special name to this so in the


389
11:06:54,720 --> 11:06:58,720
future if i want to go back to that point in time i don't go i don't have to


390
11:06:58,720 --> 11:07:03,916
go into my be it log and look at all my commits and see which one was that


391
11:07:03,916 --> 11:07:08,960
special commit but i also want to like give it a special name okay and that


392
11:07:08,960 --> 11:07:16,640
name is a an annotated tag or a tag that has a message applied to it all right


393
11:07:16,640 --> 11:07:20,960
so that is in its essence what tagging is


394
11:07:20,960 --> 11:07:29,360
so you're giving a name to your um to your uh work basically


395
11:07:29,360 --> 11:07:35,116
so what we need to do now here is to tag our work as step one we've done a lot of


396
11:07:35,116 --> 11:07:39,116
steps up to this point but none of them has been so


397
11:07:39,116 --> 11:07:43,680
like important that we actually have to commit yet but i think this is important


398
11:07:43,680 --> 11:07:47,116
enough now we have a registry screen and a login screen so that we can tag it so


399
11:07:47,116 --> 11:07:51,916
the way to create it to create an annotated tag and git you will literally


400
11:07:51,916 --> 11:07:56,880
just say git tag okay so


401
11:07:56,880 --> 11:08:02,080
let's go in here and say git tag and give it the name of step one


402
11:08:02,080 --> 11:08:06,720
all right now you can see if i want to push these tags to the back end sorry to


403
11:08:06,720 --> 11:08:10,480
github because those tags don't exist right here right now


404
11:08:10,480 --> 11:08:14,880
and what we could do is to say git push tags


405
11:08:14,880 --> 11:08:19,436
dash tags and this pushes all those tags to the server


406
11:08:19,436 --> 11:08:22,640
which is github in that case and to be honest with you i don't really


407
11:08:22,640 --> 11:08:26,080
know here one tag i can see all of a sudden here


408
11:08:26,080 --> 11:08:33,520
tags and step one is created there okay so what we could do also is that's after


409
11:08:33,520 --> 11:08:38,960
we have our gpg keys all set up we also can confirm that our work is truly


410
11:08:38,960 --> 11:08:42,160
signed and if i go to my notes here and then


411
11:08:42,160 --> 11:08:45,276
look at this commits um


412
11:08:45,276 --> 11:08:48,400
let's see if you can see that information


413
11:08:48,400 --> 11:08:52,320
somewhere here can we see all our commits


414
11:08:52,320 --> 11:08:57,916
um somehow here if you go to this timeline


415
11:08:57,916 --> 11:09:01,200
oh it's not showing me that information right now


416
11:09:01,200 --> 11:09:05,276
yeah but anyways you could you could have a look at whether your commits are


417
11:09:05,276 --> 11:09:08,640
signed by a little badge which i can't see right now so maybe there's actually


418
11:09:08,640 --> 11:09:12,800
something wrong with my pgp key so if you've done all the pgp installation


419
11:09:12,800 --> 11:09:15,916
correctly on our computer then you should see all your commits being signed


420
11:09:15,916 --> 11:09:19,596
and actually displayed here but with some sort of a badge but i can't


421
11:09:19,596 --> 11:09:23,680
unfortunately see that maybe github has changed that interface so that we can't


422
11:09:23,680 --> 11:09:28,720
see our verified and badge for our jpg keys yet so


423
11:09:28,720 --> 11:09:33,520
all right we talked a lot about gits in this chapter


424
11:09:33,520 --> 11:09:38,160
um so i think that's actually quite enough for this chapter and git we've


425
11:09:38,160 --> 11:09:43,276
talked almost 15 minutes about get to be honest with you and that's sufficient


426
11:09:43,276 --> 11:09:47,276
now that we've got get set up what we're going to use it for in the upcoming


427
11:09:47,276 --> 11:09:51,200
chapters is whenever we do something significant that needs to be saved we


428
11:09:51,200 --> 11:09:56,240
are going to commit that change and also tag it and send both our commits and our


429
11:09:56,240 --> 11:09:59,680
tag to github so that is stored securely in


430
11:09:59,680 --> 11:10:03,680
some sort of a cloud storage basically so


431
11:10:03,680 --> 11:10:06,800
that's how we're going to use git and github in this course


432
11:10:06,800 --> 11:10:11,040
and i thought of it as so important for every software developer to know that i


433
11:10:11,040 --> 11:10:14,000
thought if anybody is watching this course who is not a software engineer in


434
11:10:14,000 --> 11:10:16,800
front before then you definitely need to know about


435
11:10:16,800 --> 11:10:21,680
git and github before you can continue so what we're going to do in the next


436
11:10:21,680 --> 11:10:26,240
chapter then is to talk about email verification we've done login register


437
11:10:26,240 --> 11:10:29,916
screen is very simple but we haven't done the email verification yet and


438
11:10:29,916 --> 11:10:34,320
that's exactly what we're going to do in the next chapter so i'll see you there


439
11:10:34,320 --> 11:10:37,680
hello and welcome to chapter 16 of the swata course


440
11:10:37,680 --> 11:10:41,756
in the previous chapters we've talked about the login and registration page


441
11:10:41,756 --> 11:10:46,000
and also we took a little detour to talk about


442
11:10:46,000 --> 11:10:49,520
git and github so now you should have all those things


443
11:10:49,520 --> 11:10:53,116
set up so you should also have some sort of an emulator simulator or real device


444
11:10:53,116 --> 11:10:57,596
setup so we're testing our application right from visual studio code or android


445
11:10:57,596 --> 11:11:02,160
studio or sublime whatever text everyone on those devices


446
11:11:02,160 --> 11:11:05,916
um in this chapter we're going to as the caption says here we're going to talk


447
11:11:05,916 --> 11:11:09,680
about email verification and um


448
11:11:09,680 --> 11:11:12,560
i talked about this in the in


449
11:11:12,560 --> 11:11:16,160
one of the previous chapters why we need email verification


450
11:11:16,160 --> 11:11:20,000
but the main reason for that is as you can see in the caption here says people


451
11:11:20,000 --> 11:11:24,960
can sign up with emails they don't own and that is a little bit of a problem


452
11:11:24,960 --> 11:11:27,756
and um


453
11:11:27,756 --> 11:11:32,640
the reason why it is a problem is that you might


454
11:11:32,640 --> 11:11:37,840
get into a situation actually i can see here my wi-fi is kind of tripping


455
11:11:37,840 --> 11:11:42,160
okay it's connected now sorry about that and


456
11:11:42,160 --> 11:11:46,240
what could happen is if a user comes in to the application and starts your


457
11:11:46,240 --> 11:11:49,916
flutter application on their phone or tablet and then they sign up with an


458
11:11:49,916 --> 11:11:55,436
email that they don't own and then i as the rightful owner of that email address


459
11:11:55,436 --> 11:11:58,640
come to and download the same application and try to register my email


460
11:11:58,640 --> 11:12:02,400
and the applications as well this email address already exists


461
11:12:02,400 --> 11:12:04,640
so


462
11:12:04,720 --> 11:12:08,800
um so we have a problem here so what we need to make sure is that the p people


463
11:12:08,800 --> 11:12:14,560
who register in an email can also verify that they own that email address okay


464
11:12:14,560 --> 11:12:18,640
so let's take care of that in this chapter


465
11:12:18,720 --> 11:12:22,640
gonna bring up visual studio code or you also bring up the


466
11:12:22,640 --> 11:12:26,720
editor of your choice where you're um


467
11:12:26,800 --> 11:12:30,400
the editor that you're comfortable with um


468
11:12:30,400 --> 11:12:35,596
and i'm just gonna take in my notes that i've talked about that


469
11:12:35,596 --> 11:12:41,040
so what we're gonna do here as the first step is to go to our main dart file here


470
11:12:41,040 --> 11:12:47,040
right after home page and create a state full widget i believe


471
11:12:47,040 --> 11:12:49,596
so i'm going to do that right now so


472
11:12:49,596 --> 11:12:54,000
sd remember sdf stateful then we're going to call let me see


473
11:12:54,000 --> 11:12:56,880
verify email view


474
11:12:56,880 --> 11:13:03,200
all right and in here uh what we're gonna do


475
11:13:03,200 --> 11:13:08,000
is just to return a simple scaffold so i'm just gonna say return scaffold for


476
11:13:08,000 --> 11:13:11,436
now we're gonna get a cons error here so i'm just gonna


477
11:13:11,436 --> 11:13:14,560
put the constant there


478
11:13:14,960 --> 11:13:19,200
so um that's for our stateful widget


479
11:13:19,200 --> 11:13:24,880
then what we're gonna do is um we are as you can see here as soon as we


480
11:13:24,880 --> 11:13:30,880
see that um the email isn't verified here we just say you are sorry that it


481
11:13:30,880 --> 11:13:34,240
is verified we say you are a verified user and if you're not verified we just


482
11:13:34,240 --> 11:13:38,480
say you need to verify your email first but in both cases what we're doing is


483
11:13:38,480 --> 11:13:43,200
that we're just returning a text widget that says done and it's displayed here


484
11:13:43,200 --> 11:13:46,400
and so what we need to do here is


485
11:13:46,400 --> 11:13:53,116
to if the user is verified in here we're going to say return this


486
11:13:53,116 --> 11:14:00,000
otherwise what we need to do is to display this verify email view okay


487
11:14:00,000 --> 11:14:03,200
but the way we need to do this right now and


488
11:14:03,200 --> 11:14:06,160
we're actually going to fix this quite a lot as we go on but right now i just


489
11:14:06,160 --> 11:14:11,200
want to show you how to push a view into the screen now pushing is a concept that


490
11:14:11,200 --> 11:14:14,800
i believe came came into


491
11:14:14,800 --> 11:14:20,000
like a widespread existence after ios and android became popular in the early


492
11:14:20,000 --> 11:14:25,436
days of like 2006 2007 actually was 2007 i think


493
11:14:25,436 --> 11:14:31,116
and pushing is where you have a screen and you're seeing that screen and then


494
11:14:31,116 --> 11:14:34,640
you press a button or something and another screen just kind of pushes


495
11:14:34,640 --> 11:14:37,680
itself on top of the existing screen okay


496
11:14:37,680 --> 11:14:43,276
so what we need to do now is to if we see that well you haven't


497
11:14:43,276 --> 11:14:47,360
verified your email you want to push this verify email view and a way to do


498
11:14:47,360 --> 11:14:52,560
that in um flutter is with something called a navigator and


499
11:14:52,560 --> 11:14:55,520
remember this is a little bit problematic the thing that we're gonna


500
11:14:55,520 --> 11:14:59,436
do right now is actually gonna cause an error and i will explain all this but


501
11:14:59,436 --> 11:15:05,520
for now let's just go go ahead and do this so we will fix things as we go on


502
11:15:05,520 --> 11:15:07,200
okay so


503
11:15:07,200 --> 11:15:10,800
right here that where we say you need to verify your email first and we can


504
11:15:10,800 --> 11:15:15,840
actually see that in the console um here um oh you can't see it because it's


505
11:15:15,840 --> 11:15:19,756
hidden by the caption but you can see now it says


506
11:15:19,756 --> 11:15:26,080
you need to verify your email first so let's go ahead and


507
11:15:26,080 --> 11:15:31,436
push that verify email view onto the screen what


508
11:15:31,436 --> 11:15:35,116
i'm going to do i'm going to get rid of this so um


509
11:15:35,116 --> 11:15:37,276
make the uh


510
11:15:37,276 --> 11:15:42,320
what should i do here should i go back to the same layout so you can see yeah


511
11:15:42,320 --> 11:15:46,480
that's probably better so go in here and say navigator


512
11:15:46,480 --> 11:15:49,276
off and


513
11:15:49,276 --> 11:15:54,400
then you say your build context and then you should say push


514
11:15:54,400 --> 11:15:57,116
now push is the function that you're calling


515
11:15:57,116 --> 11:16:01,116
and you can see here it acts it says okay


516
11:16:01,116 --> 11:16:04,560
give me a route


517
11:16:04,560 --> 11:16:09,520
and then you say material routes here um material page route


518
11:16:09,520 --> 11:16:12,640
okay and then there's a builder function in here


519
11:16:12,640 --> 11:16:16,640
and um like this i will explain all of this


520
11:16:16,640 --> 11:16:20,800
soon to you and then in here say verify email view


521
11:16:20,800 --> 11:16:24,960
just like that um


522
11:16:25,436 --> 11:16:28,560
we have to return all of this


523
11:16:28,560 --> 11:16:32,320
and i think we're there's something wrong with all this


524
11:16:32,320 --> 11:16:36,320
let's see builder and then we're doing that and then one parenthesis i think is


525
11:16:36,320 --> 11:16:40,000
missing is it so this one closes there


526
11:16:40,000 --> 11:16:43,756
then there's this one and it needs to be ruined and what is


527
11:16:43,756 --> 11:16:46,880
the actual error that's being displayed the return time future dynamic isn't a


528
11:16:46,880 --> 11:16:51,436
widget as required okay and uh what we need to do is just to do


529
11:16:51,436 --> 11:16:53,680
this


530
11:16:54,000 --> 11:17:00,000
and yeah that's fine so let's bring this return done back to where it was and


531
11:17:00,000 --> 11:17:04,320
then we remove this print statement from here as well and this print statement


532
11:17:04,320 --> 11:17:08,320
from there and make this cons and i'm gonna explain all of this so don't worry


533
11:17:08,320 --> 11:17:11,520
about it all right so


534
11:17:11,520 --> 11:17:15,680
what is happening here is as you can see


535
11:17:16,240 --> 11:17:20,560
sorry about that my throat isn't really working with me today


536
11:17:20,560 --> 11:17:26,480
so what is happening here is you see in our future builder here


537
11:17:26,480 --> 11:17:31,840
we are expected in the builder function which we are right now in here you see


538
11:17:31,840 --> 11:17:36,400
we're always expected to return a widget so that's what the future builder does


539
11:17:36,400 --> 11:17:40,800
it is in itself a widget that performs a feature and once that


540
11:17:40,800 --> 11:17:44,000
future is done or it errors out or whatever


541
11:17:44,000 --> 11:17:48,960
then it calls this builder function and in the builder function it is expected


542
11:17:48,960 --> 11:17:53,116
to return that builder function itself is expected to return a widget


543
11:17:53,116 --> 11:17:57,756
something to display on the screen okay now your job as a developer who's using


544
11:17:57,756 --> 11:18:01,520
the future builder is to actually return a widget in this builder function and


545
11:18:01,520 --> 11:18:05,040
that's why we're doing here what we're doing here we're saying if the


546
11:18:05,040 --> 11:18:09,436
connection state if the future is done return this text of done


547
11:18:09,436 --> 11:18:13,756
otherwise return this text so we have basically


548
11:18:13,756 --> 11:18:19,436
fulfilled the contractual um agreement here


549
11:18:19,436 --> 11:18:24,320
builder expects a widget we return a widget however we're trying to be clever


550
11:18:24,320 --> 11:18:28,880
here in saying that okay we do return done but also we're performing an action


551
11:18:28,880 --> 11:18:33,916
which is navigator of this context which is our build context and we haven't


552
11:18:33,916 --> 11:18:38,000
talked about build context so much before but you can actually see


553
11:18:38,000 --> 11:18:42,720
i mean the documentation isn't so clear maybe it says this class presents a set


554
11:18:42,720 --> 11:18:46,880
of methods that can be used from build methods and from


555
11:18:46,880 --> 11:18:51,680
but anyways what a build context is is kind of like a packaged bit of


556
11:18:51,680 --> 11:18:56,400
information that you can you can use in order to pass data from one widget to


557
11:18:56,400 --> 11:19:01,756
the other and it is very useful for for instance if you're using block and we


558
11:19:01,756 --> 11:19:05,436
haven't talked about block yet but just know the build context is kind of like a


559
11:19:05,436 --> 11:19:09,756
bit of information about the context where your widget


560
11:19:09,756 --> 11:19:12,640
is at so in here what we're saying we're


561
11:19:12,640 --> 11:19:17,680
saying create a navigator of this context and navigator is just a class


562
11:19:17,680 --> 11:19:21,116
for you okay and then when you tell navigator to push something it says okay


563
11:19:21,116 --> 11:19:25,596
what do you want me to push on the screen then we say create a material


564
11:19:25,596 --> 11:19:28,160
page route to push


565
11:19:28,160 --> 11:19:33,436
and you can see that material page route has an argument called builder which


566
11:19:33,436 --> 11:19:38,160
in itself expects a widget okay so you need to return a widget


567
11:19:38,160 --> 11:19:41,360
in this build function but all we're doing here to be honest with you it's


568
11:19:41,360 --> 11:19:44,560
just saying that push a widget on the screen that's all so this is like the


569
11:19:44,560 --> 11:19:48,480
format that you need to learn about okay navigator of the context push material


570
11:19:48,480 --> 11:19:52,400
page route builder context and then you put your widget in there


571
11:19:52,400 --> 11:19:57,040
okay all right that was a lot of information


572
11:19:57,040 --> 11:20:01,680
i mean this looks kind of okay at the moment


573
11:20:02,160 --> 11:20:05,436
so however there is a problem with it and


574
11:20:05,436 --> 11:20:09,520
if you're not careful you can miss that problem and i really always like to


575
11:20:09,520 --> 11:20:14,000
bring up my debug console so that i'm aware of all


576
11:20:14,000 --> 11:20:18,240
problems that might happen and the problem that you can see on the screen


577
11:20:18,240 --> 11:20:22,640
it said on handle exception package flutter


578
11:20:22,640 --> 11:20:27,436
widgets navigator dart failed assertion line blah blah in navigator


579
11:20:27,436 --> 11:20:31,840
so that there is an error [Music]


580
11:20:31,840 --> 11:20:36,720
and um there is actually a github issue for


581
11:20:36,720 --> 11:20:40,720
that i can see i've actually linked it there as well but we're going to come to


582
11:20:40,720 --> 11:20:45,040
that but just be aware that what we are doing here is not really good


583
11:20:45,040 --> 11:20:50,160
it's not a good idea to push something inside a future builder but we're going


584
11:20:50,160 --> 11:20:55,436
to do it anyways just so we can fix it later so that you know at least this


585
11:20:55,436 --> 11:20:59,916
issue exists and at the same time we achieve what we're trying to do here


586
11:20:59,916 --> 11:21:05,520
which is displaying a new widget once a condition is met in this case the


587
11:21:05,520 --> 11:21:09,840
user's email is not verified okay


588
11:21:11,520 --> 11:21:16,560
all right what we need to do now is fix this up


589
11:21:16,560 --> 11:21:20,640
fix our widget up here


590
11:21:20,640 --> 11:21:24,960
i'm gonna just take some items in my notes


591
11:21:24,960 --> 11:21:28,320
alright so at the moment our


592
11:21:28,320 --> 11:21:33,680
uh verify email view it it's it's a completely wide scaffold


593
11:21:33,680 --> 11:21:37,360
it doesn't even have an app bar there's nothing in there so what we can do is


594
11:21:37,360 --> 11:21:41,436
just to first of all go and create an app bar here so we say app bar


595
11:21:41,436 --> 11:21:44,960
and app bar title we've done this before so you should


596
11:21:44,960 --> 11:21:48,840
know already the syntax and then the title is just gonna say verify


597
11:21:48,840 --> 11:21:53,436
email verify email


598
11:21:53,680 --> 11:21:57,200
and i can see appbar title is text i don't even know what i've done wrong


599
11:21:57,200 --> 11:22:00,720
here to be honest with the constraint isn't the cons instructor it just means


600
11:22:00,720 --> 11:22:05,756
that well okay i have to remove this and i have to make this text const


601
11:22:05,756 --> 11:22:10,080
um i mean i'm i'm like moving past these things


602
11:22:10,080 --> 11:22:13,116
but you may be a little bit confused if you're not if you haven't done this


603
11:22:13,116 --> 11:22:17,040
before you may be confused what i'm doing here let's maybe i should explain


604
11:22:17,040 --> 11:22:20,080
actually this what is happening here you see


605
11:22:20,080 --> 11:22:24,320
before we started using the app bar in scaffold everything was completely fine


606
11:22:24,320 --> 11:22:28,240
dart was completely okay and i said okay i'm gonna accept this as it is what


607
11:22:28,240 --> 11:22:32,720
we're telling dart here is that we're creating a scaffold and it is a constant


608
11:22:32,720 --> 11:22:36,880
scaffold it means it is we're not actually doing any special configuration


609
11:22:36,880 --> 11:22:42,160
that makes this not a constant okay but that's so let's actually go here i'm


610
11:22:42,160 --> 11:22:45,596
going to hold down command on my macintosh you can hold down control your


611
11:22:45,596 --> 11:22:49,116
linux machine or windows and click on scaffold


612
11:22:49,116 --> 11:22:52,160
excuse me and you can see that the initializer


613
11:22:52,160 --> 11:22:55,596
that i'm calling here or the constructor that i'm calling here is marked as const


614
11:22:55,596 --> 11:22:59,276
here okay but as soon as we put app bar in here


615
11:22:59,276 --> 11:23:03,680
and i'm going to click on the same thing again let's see


616
11:23:04,240 --> 11:23:07,840
if we can find that initializer


617
11:23:09,200 --> 11:23:14,720
scaffold app bar this app bar i can't really seem to find that particular


618
11:23:14,720 --> 11:23:18,480
initializer but what is happening


619
11:23:18,480 --> 11:23:22,800
essentially here is saying that um


620
11:23:22,800 --> 11:23:28,880
what you're trying to do here which is creating an app bar with a text inside


621
11:23:28,880 --> 11:23:33,916
here a text widget and an app bar makes this scaffold widget not a constant


622
11:23:33,916 --> 11:23:37,360
anymore okay so the first thing you need to do is say


623
11:23:37,360 --> 11:23:40,640
okay i understand that that's not a constant anymore remove this constant on


624
11:23:40,640 --> 11:23:43,520
scaffold but then you get an error here or


625
11:23:43,520 --> 11:23:47,680
well a problem telling that okay you've removed the comms from scaffold but


626
11:23:47,680 --> 11:23:51,916
still you could make your code better by making your text a constant because this


627
11:23:51,916 --> 11:23:56,080
text scene text widget seems to be a constant all right so i'm going to make


628
11:23:56,080 --> 11:24:01,916
that a constant now all right so back to our


629
11:24:01,916 --> 11:24:09,276
so i'm going to press command s here is not true and i'm going to hot restart


630
11:24:09,596 --> 11:24:13,040
verify email okay and i can see we have yeah it's


631
11:24:13,040 --> 11:24:17,200
again we have a problem with hot reload because as soon as we do hot reload then


632
11:24:17,200 --> 11:24:21,040
we get this error but this error is simply because of something weird that


633
11:24:21,040 --> 11:24:24,560
we're doing in here so if you get error just do hot restart and you should be


634
11:24:24,560 --> 11:24:27,436
good to go until we fix this problem okay


635
11:24:27,436 --> 11:24:31,756
all right so as you can see in the caption of this chapter what we need to


636
11:24:31,756 --> 11:24:35,916
do here is to display a column text and a text button to send the verification


637
11:24:35,916 --> 11:24:40,560
email so let's go to the body of our scaffold so i'm just going to say body


638
11:24:40,560 --> 11:24:45,680
and let's create a column children and inside the children


639
11:24:45,680 --> 11:24:51,360
let's just go and say we have a text and say please verify


640
11:24:51,360 --> 11:24:54,560
your email address


641
11:24:55,040 --> 11:24:59,200
and that's that and then what we're gonna do in here we're gonna place a


642
11:24:59,200 --> 11:25:04,400
text button as well and perhaps what could be better


643
11:25:04,400 --> 11:25:06,960
is if i scroll this a little bit up so you


644
11:25:06,960 --> 11:25:10,480
can see the code in its entirety then the text button if you remember


645
11:25:10,480 --> 11:25:14,800
from the previous chapters it has two very important and required parameters


646
11:25:14,800 --> 11:25:18,480
child and on press according to darts


647
11:25:18,480 --> 11:25:21,520
analysis tools or flutters analysis tools


648
11:25:21,520 --> 11:25:27,276
the child parameter of those widgets or those functions that do accept the child


649
11:25:27,276 --> 11:25:31,680
is preferred to always be the last parameter so go ahead and create the


650
11:25:31,680 --> 11:25:36,480
unpressed first and then go ahead ahead and create the child so in the child


651
11:25:36,480 --> 11:25:42,160
we're going to say text off and send email verification


652
11:25:42,160 --> 11:25:45,520
okay and make this text content so dark is


653
11:25:45,520 --> 11:25:49,436
happy about that and make this constant as well press command s


654
11:25:49,436 --> 11:25:55,596
and don't forget the comma here then hot reload so we can see the results


655
11:25:55,596 --> 11:25:59,680
okay so now we have some text in there and then we have a button here that says


656
11:25:59,680 --> 11:26:03,720
send email verification


657
11:26:04,320 --> 11:26:07,116
okay i'm going to take it in my notes that i've talked about that so we don't


658
11:26:07,116 --> 11:26:11,116
miss it um now what we need to do here is upon


659
11:26:11,116 --> 11:26:16,080
pressing this button we actually need to send an email


660
11:26:16,080 --> 11:26:22,960
verification to the current user okay so what we need is the current user so that


661
11:26:22,960 --> 11:26:28,080
comes from let's see if we can find it in our


662
11:26:28,240 --> 11:26:33,276
login view and register view we have you see login views or credentials firebase


663
11:26:33,276 --> 11:26:37,360
code um let's see actually we got the user


664
11:26:37,360 --> 11:26:41,520
right here firebase initialize app and then we were like fire yeah that's how


665
11:26:41,520 --> 11:26:45,840
you get your current user firebase auth instance current user okay so i'm going


666
11:26:45,840 --> 11:26:52,160
to copy that information from our home page okay and bring it into your


667
11:26:52,160 --> 11:26:56,400
verify email view state in the button press right there


668
11:26:56,400 --> 11:26:59,756
so this is how you get your user okay


669
11:26:59,756 --> 11:27:04,080
now what we need to do is as the caption says here we need to await on the user


670
11:27:04,080 --> 11:27:09,756
send email verification so say await user send


671
11:27:09,756 --> 11:27:14,720
let's see user send email verification okay so now


672
11:27:14,720 --> 11:27:19,596
you can see this is a function and it says it can't be unconditionally


673
11:27:19,596 --> 11:27:23,436
invoked and that is because user can be nil


674
11:27:23,436 --> 11:27:27,116
or null and it is an optional user so as you've


675
11:27:27,116 --> 11:27:30,560
understood from the previous chapters you need to conditionally


676
11:27:30,560 --> 11:27:34,160
access this function now be a little bit careful here because this function is a


677
11:27:34,160 --> 11:27:38,800
future you see it's a future void so as you know calling a function that returns


678
11:27:38,800 --> 11:27:44,160
a future void does not invoke the future except it only tells the function to


679
11:27:44,160 --> 11:27:48,720
return the future okay so if you actually want the future to be executed


680
11:27:48,720 --> 11:27:53,520
you need to wait on it so if you then say await here


681
11:27:53,520 --> 11:27:58,320
you'll see we get an error telling that yeah you can't do asynchronous call


682
11:27:58,320 --> 11:28:02,720
calls in this current uh scope that you're at and that is simply


683
11:28:02,720 --> 11:28:07,360
because the unpressed function is not marked as asynchronous okay so remember


684
11:28:07,360 --> 11:28:09,520
that great


685
11:28:09,520 --> 11:28:12,480
so um i'm gonna press command s here we get


686
11:28:12,480 --> 11:28:17,680
the error i'm gonna do this hot restart then


687
11:28:17,680 --> 11:28:21,756
uh if i'm not mistaken i mean if i bring a browser up let's see if i can bring a


688
11:28:21,756 --> 11:28:26,560
browser window here and i'm going to say console.firebase google


689
11:28:26,560 --> 11:28:30,720
and let's go to our mynotes flatter project and let's go and have a look at


690
11:28:30,720 --> 11:28:34,840
our authentication i can see that there's a user here it says


691
11:28:34,840 --> 11:28:37,756
pixelityab.gmail.com for you it's probably gonna say something else


692
11:28:37,756 --> 11:28:40,640
hopefully it's gonna say something else so that you haven't registered with my


693
11:28:40,640 --> 11:28:44,400
email and what we need to do then is to simply


694
11:28:44,400 --> 11:28:48,560
go here and press the send email verification button


695
11:28:48,560 --> 11:28:50,400
boom okay


696
11:28:50,400 --> 11:28:55,756
so nothing happened on the screen and um


697
11:28:55,756 --> 11:28:58,480
i'm going to bring up the right caption here so you know what we're talking


698
11:28:58,480 --> 11:29:02,320
about now we want to kind of look at how this email actually looks like


699
11:29:02,320 --> 11:29:08,480
so let's see if i can bring up that email without uh


700
11:29:08,480 --> 11:29:12,000
without uh


701
11:29:12,880 --> 11:29:16,640
i like bringing up all my um


702
11:29:16,640 --> 11:29:21,200
other emails and other users because that's kind of like private information


703
11:29:21,200 --> 11:29:25,436
so all right so uh let's go ahead and see


704
11:29:25,436 --> 11:29:30,240
i'm gonna then bring up this email on the screen so you can see how it looks


705
11:29:30,240 --> 11:29:32,800
like so as as


706
11:29:32,800 --> 11:29:37,276
that email address you can see here that's my email address or this is the


707
11:29:37,276 --> 11:29:41,756
user that is logged in into our application then received an email from


708
11:29:41,756 --> 11:29:46,320
firebase which is no reply at mynotesflusterproject.firebaseapp.com


709
11:29:46,320 --> 11:29:48,960
okay and it says okay you need to click on


710
11:29:48,960 --> 11:29:54,800
this link in order to verify your user so


711
11:29:54,800 --> 11:29:57,596
now i'm just going to take in my actions in


712
11:29:57,596 --> 11:30:01,360
my notes here that i've talked about that


713
11:30:01,360 --> 11:30:05,596
and let's then click on this link to verify our identity and here it says


714
11:30:05,596 --> 11:30:10,960
your email has been verified you cannot sign in with your new account great okay


715
11:30:10,960 --> 11:30:15,436
so i'm going to close that taking in my notes that i've talked about it


716
11:30:15,436 --> 11:30:18,800
um and what we can do here then is just to


717
11:30:18,800 --> 11:30:24,080
refresh here and there's nothing really different about this user as you can see


718
11:30:24,080 --> 11:30:26,800
so um


719
11:30:26,800 --> 11:30:30,160
we're also looking at that user and you can't really i mean at the moment i


720
11:30:30,160 --> 11:30:33,436
can't personally see if this user is verified


721
11:30:33,436 --> 11:30:37,200
or not so maybe that's something that firebase is


722
11:30:37,200 --> 11:30:41,436
going to provide in the future just like a checkbox or something saying or like a


723
11:30:41,436 --> 11:30:44,880
yeah just like a check icon saying whether this user is verified or not but


724
11:30:44,880 --> 11:30:50,000
you can't see that at the moment in firebase console at least i can't


725
11:30:50,320 --> 11:30:56,960
all right a lot of information now let's go to our um


726
11:30:56,960 --> 11:31:00,400
talk about this error that we got on the screen


727
11:31:00,400 --> 11:31:04,480
and i've provided a little link here which i'm going to click on on a


728
11:31:04,480 --> 11:31:08,400
separate screen and then bring it bring it up here on the screen that you can


729
11:31:08,400 --> 11:31:13,200
see now if you remember where we pushed this


730
11:31:13,200 --> 11:31:15,520
verify email


731
11:31:15,520 --> 11:31:19,680
widget on the screen using navigator and then material page


732
11:31:19,680 --> 11:31:23,436
route i think it's called and where is it material page right here


733
11:31:23,436 --> 11:31:26,160
do you remember then we got this error on handle


734
11:31:26,160 --> 11:31:31,040
exception okay and then there's an issue actually for that here on


735
11:31:31,040 --> 11:31:34,960
flutter's github repository so as you know flutter


736
11:31:34,960 --> 11:31:39,276
is an open source project and is an organization here on github and


737
11:31:39,276 --> 11:31:43,360
pretty much everything that they're doing for flutter is under that


738
11:31:43,360 --> 11:31:48,480
organization on github so as you can see here it says how to call navigator push


739
11:31:48,480 --> 11:31:52,320
in future builder error log and then there's lots of great discussions about


740
11:31:52,320 --> 11:31:55,840
like what should be done and etc but


741
11:31:55,840 --> 11:32:00,320
just know that for now what you need to know is that you cannot do that without


742
11:32:00,320 --> 11:32:04,880
having that error although although things may seem fine in


743
11:32:04,880 --> 11:32:07,840
on the screen but as you saw as soon as you do a


744
11:32:07,840 --> 11:32:11,596
hot hot reload and then you will have this


745
11:32:11,596 --> 11:32:16,560
error also so there is an exception being thrown and we need to


746
11:32:16,560 --> 11:32:20,480
handle that all right so


747
11:32:20,480 --> 11:32:24,720
after you've looked at that uh github issue and you've gone through the


748
11:32:24,720 --> 11:32:28,160
comments you'll understand that that's not the way to do things in flutter at


749
11:32:28,160 --> 11:32:33,116
least not for now and um i'm actually gonna take it in my


750
11:32:33,116 --> 11:32:36,240
notes so if you see me looking here i'm just making sure that i'm explaining


751
11:32:36,240 --> 11:32:39,116
everything to you okay um


752
11:32:39,116 --> 11:32:43,360
so what we need to do now is to go and change the way our


753
11:32:43,360 --> 11:32:50,160
um our verify email view is created so


754
11:32:50,880 --> 11:32:55,520
so instead of us returning you see here what we're doing is that


755
11:32:55,520 --> 11:32:59,436
we're in our verify email view what we're returning we're returning an


756
11:32:59,436 --> 11:33:05,116
entire scaffold and that is why we're trying to push this screen on our


757
11:33:05,116 --> 11:33:08,800
current home home page because we're saying that here's the home page and


758
11:33:08,800 --> 11:33:12,640
then there this is the verify email view and it has a scaffold just like the home


759
11:33:12,640 --> 11:33:18,400
page does do you remember if you go up to our homepage homepage also has a


760
11:33:18,400 --> 11:33:22,480
scaffold and an app bar so what we're pretty much saying right now is that


761
11:33:22,480 --> 11:33:26,720
this is the home page and we kind of need to move another page on top of it


762
11:33:26,720 --> 11:33:30,720
which pretty much has the same structure it has the app parts etc etc


763
11:33:30,720 --> 11:33:33,916
and that is causing the problem because we're pushing something in future


764
11:33:33,916 --> 11:33:37,436
builder and we're not allowed to do that so


765
11:33:37,436 --> 11:33:41,596
what you need to do now is in order to fix this problem just for


766
11:33:41,596 --> 11:33:45,680
now we go and remove the scaffold and in our


767
11:33:45,680 --> 11:33:50,720
build function all we're gonna do is just to return the column okay so go on


768
11:33:50,720 --> 11:33:54,000
your scaffold here and here


769
11:33:54,000 --> 11:33:58,000
and what we're gonna do is we're just gonna say uh let's see if we have a


770
11:33:58,000 --> 11:34:01,360
remove functionality here and we don't and that's okay


771
11:34:01,360 --> 11:34:05,520
i'm just going to grab this column and i'm going to bring it a little bit


772
11:34:05,520 --> 11:34:08,160
up so you can see i'm going to put a comma here


773
11:34:08,160 --> 11:34:12,720
hot hot reload so we don't see the ugly error on the screen


774
11:34:12,720 --> 11:34:17,756
and grab your column here and without the comma at the end grab


775
11:34:17,756 --> 11:34:21,840
that column and in the build function just return that okay instead of your


776
11:34:21,840 --> 11:34:27,276
scaffold and a semicolon at the end all right


777
11:34:27,276 --> 11:34:31,276
um so that's what we're gonna do now


778
11:34:31,276 --> 11:34:35,916
for now we're just gonna return column there and then what we need to do


779
11:34:35,916 --> 11:34:38,000
um let me see actually that's what we're


780
11:34:38,000 --> 11:34:41,520
gonna do now or is it something that we're gonna do later


781
11:34:41,520 --> 11:34:43,680
yeah um


782
11:34:43,680 --> 11:34:46,640
so yes we've now changed verify email view and


783
11:34:46,640 --> 11:34:51,596
that returns a column now let's go in here you see in here when we see that


784
11:34:51,596 --> 11:34:56,480
the user isn't verified uh what we need to do then is to say navigator instead


785
11:34:56,480 --> 11:35:01,840
of navigator of we're gonna just return our verify email view in here okay so


786
11:35:01,840 --> 11:35:04,800
let me go in here and just say return that


787
11:35:04,800 --> 11:35:10,800
as a constant and in here


788
11:35:11,360 --> 11:35:14,720
otherwise do that so i'm going to press command s here


789
11:35:14,720 --> 11:35:19,040
and a hot reload


790
11:35:19,040 --> 11:35:20,880
okay so


791
11:35:20,880 --> 11:35:24,640
let's go and see what is happening here so what we're saying is that


792
11:35:24,640 --> 11:35:30,000
if user instance current if user email verified then return done otherwise


793
11:35:30,000 --> 11:35:33,596
return verify email view so what's happening to be honest with you


794
11:35:33,596 --> 11:35:36,240
is that previously where we were pushing an


795
11:35:36,240 --> 11:35:40,880
entire screen on the current screen now what we're doing is saying that here is


796
11:35:40,880 --> 11:35:47,276
a screen already put this verify emails email views widget


797
11:35:47,276 --> 11:35:52,160
that returns that is returned from the build function right inside this current


798
11:35:52,160 --> 11:35:55,916
screen's content okay so it's a little bit of a difference instead of pushing a


799
11:35:55,916 --> 11:36:00,640
whole new screen we're putting that new screen's contents in our screen all


800
11:36:00,640 --> 11:36:02,880
right


801
11:36:03,520 --> 11:36:08,916
okay and now we have this and i see now that


802
11:36:08,916 --> 11:36:13,756
our app still thinks that we're not verified but what we could do is just to


803
11:36:13,756 --> 11:36:19,520
make sure you can see here that um at least we're not getting that ugly


804
11:36:19,520 --> 11:36:23,916
error anymore so if i do a hot restart here


805
11:36:23,916 --> 11:36:27,360
i can see this email verification and that's a little bit strange to be honest


806
11:36:27,360 --> 11:36:31,916
with you because we did verify our user so what i'm going to do is just to


807
11:36:31,916 --> 11:36:35,520
ensure that this this phone right now has


808
11:36:35,520 --> 11:36:37,916
um


809
11:36:38,160 --> 11:36:42,720
internet connection and it does so that user should have


810
11:36:42,720 --> 11:36:47,116
been verified and i think we actually did click on the


811
11:36:47,116 --> 11:36:50,160
verification email so let me go back here


812
11:36:50,160 --> 11:36:54,640
go back to the application and what we could do is just to stop the


813
11:36:54,640 --> 11:36:58,640
application from running and then press run without debugging and just to ensure


814
11:36:58,640 --> 11:37:04,000
that everything is set up correctly so if everything is working fine then we


815
11:37:04,000 --> 11:37:07,756
shouldn't come to verify email view instead we should go


816
11:37:07,756 --> 11:37:10,960
to here


817
11:37:10,960 --> 11:37:14,560
we should display the done text to the to the user


818
11:37:14,560 --> 11:37:17,756
so let's just let's just ensure that that


819
11:37:17,756 --> 11:37:23,520
is working as expected before we continue with the next item


820
11:37:25,040 --> 11:37:29,116
i can still see this and we could simply put some um


821
11:37:29,116 --> 11:37:33,040
poor man debugging in here and just prints the user email like that prints


822
11:37:33,040 --> 11:37:36,960
the entire user to the screen command s okay


823
11:37:36,960 --> 11:37:41,116
and let's go in here i can see email verified is still false is anonymous


824
11:37:41,116 --> 11:37:45,276
false metadata last signing time so it still thinks


825
11:37:45,276 --> 11:37:48,880
that i'm not verified so what i'm going to do is i'm going to send an email


826
11:37:48,880 --> 11:37:54,320
verification and i'm just going to go to my mail here


827
11:37:54,320 --> 11:37:59,276
and let me go here and let's just i'm going to bring up


828
11:37:59,276 --> 11:38:04,160
that email and let me just ensure that


829
11:38:04,160 --> 11:38:07,756
we can click on that link


830
11:38:07,756 --> 11:38:11,916
and it says your email has been verified okay


831
11:38:11,916 --> 11:38:16,000
then let's close this and i'm gonna do a hot reload


832
11:38:16,000 --> 11:38:18,960
here and to be honest with you i can still


833
11:38:18,960 --> 11:38:24,640
see now that we're not verified so let's go in to safari


834
11:38:24,640 --> 11:38:26,800
and say um


835
11:38:26,800 --> 11:38:34,000
firebase flutter email verified not working


836
11:38:34,080 --> 11:38:37,276
email verification let's see if there's something that


837
11:38:37,276 --> 11:38:42,640
we're missing uh firebase auth current user and then


838
11:38:42,640 --> 11:38:47,520
user null is email verified and i believe that is what we're doing here it


839
11:38:47,520 --> 11:38:50,840
this is not hopefully a future is actually a user


840
11:38:50,840 --> 11:38:55,276
yeah and in here we're initializing the


841
11:38:55,276 --> 11:38:58,400
application so that that should work fine as well


842
11:38:58,400 --> 11:39:03,840
and then we're getting the user and then email verified that should also work so


843
11:39:03,840 --> 11:39:07,360
um one thing to implement is email verified


844
11:39:07,360 --> 11:39:10,880
and initiate function imperiality can be ideal approach to easy for verification


845
11:39:10,880 --> 11:39:16,160
with firebase well that's not really the problem here


846
11:39:16,640 --> 11:39:21,040
connection state waiting and it could simply be that we need to


847
11:39:21,040 --> 11:39:25,840
just try to log in with that user so that it tries to contact firebase again


848
11:39:25,840 --> 11:39:27,520
okay so


849
11:39:27,520 --> 11:39:34,160
what i'm gonna do here is to as we have planned here let's go and change both


850
11:39:34,160 --> 11:39:39,436
the login view and the register view as well so that they don't return


851
11:39:39,436 --> 11:39:44,160
an entire scaffold but instead we're gonna make sure that they only return


852
11:39:44,160 --> 11:39:48,720
their actual content okay as you can see i put in the caption


853
11:39:48,720 --> 11:39:52,000
here that they shouldn't for now return a scaffold


854
11:39:52,000 --> 11:39:54,480
um so that's going to be done in the home


855
11:39:54,480 --> 11:39:57,596
page so let's go and i can see i have a little bit of


856
11:39:57,596 --> 11:39:59,916
them


857
11:40:00,560 --> 11:40:07,040
now return a scaffold that's the job of home page so i just fixed our


858
11:40:07,040 --> 11:40:11,276
little caption there as well let's go to login view and i'm gonna go here


859
11:40:11,276 --> 11:40:15,200
and let's go to your login view here you can see we have firebase initialize app


860
11:40:15,200 --> 11:40:19,200
future builder we have all that logic also in both login view and registering


861
11:40:19,200 --> 11:40:24,080
we shouldn't be doing that so i'm gonna grab this return column all the way from


862
11:40:24,080 --> 11:40:25,756
there and


863
11:40:25,756 --> 11:40:29,520
go to all the way where the return column ends


864
11:40:29,520 --> 11:40:33,680
grab that then i'm gonna pretty much nuke the entire


865
11:40:33,680 --> 11:40:40,560
build function and instead return the column okay so that's our login view


866
11:40:40,560 --> 11:40:45,116
and now we have a lot of unused imports i'm going to remove them


867
11:40:45,116 --> 11:40:48,880
as well and i'm going to go to our


868
11:40:48,880 --> 11:40:53,436
register view and for now as well do the same thing for


869
11:40:53,436 --> 11:40:56,240
register view go to your build function in the


870
11:40:56,240 --> 11:41:00,080
register view and everything needs to be removed except for the


871
11:41:00,080 --> 11:41:04,720
actual content which is the column so


872
11:41:04,720 --> 11:41:10,240
grab the column as you can see here nuke the entire build function


873
11:41:10,240 --> 11:41:15,916
and just return your call all right so what i'm gonna do here is


874
11:41:15,916 --> 11:41:19,116
to fix this email verification issue


875
11:41:19,116 --> 11:41:22,960
perhaps what we need to do here is


876
11:41:22,960 --> 11:41:27,040
for now let's go in here and


877
11:41:27,040 --> 11:41:31,596
turn just comment out all the codes so when the initialization of firebase is


878
11:41:31,596 --> 11:41:34,800
done just return your login view so let's say return


879
11:41:34,800 --> 11:41:38,720
login view okay as a constant so i'm just gonna


880
11:41:38,720 --> 11:41:43,360
press command s and then we come here and i'm going to enter pixelityab


881
11:41:43,360 --> 11:41:48,800
gmail.com football baz okay and if you remember from login view if


882
11:41:48,800 --> 11:41:52,560
you go back to login view we had this beautiful little thing that


883
11:41:52,560 --> 11:41:55,520
printed the user credentials to the screen so


884
11:41:55,520 --> 11:41:59,596
that is saved already and i've saved here as well


885
11:41:59,596 --> 11:42:04,480
so let's go and enter that information pixel tab at gmail.com and then through


886
11:42:04,480 --> 11:42:08,000
bar bas and let me bring up the debug console


887
11:42:08,000 --> 11:42:10,960
and kind of change the screen layout so so you see it a little bit better as


888
11:42:10,960 --> 11:42:15,916
well i'm going to clear the console and i'm going to press the login button


889
11:42:15,916 --> 11:42:19,680
so here now we have the user credential you


890
11:42:19,680 --> 11:42:25,680
can see it's printed to the screen and now email verified is set to true so


891
11:42:25,680 --> 11:42:30,320
the problem there was that when there's email verification sent


892
11:42:30,320 --> 11:42:33,040
firebase as you as a user i mean there's


893
11:42:33,040 --> 11:42:36,720
something for me to learn as well so i'm actually grateful that i'm learning


894
11:42:36,720 --> 11:42:39,436
as i'm actually teaching so


895
11:42:39,436 --> 11:42:44,400
one once what happened here is that we verified an email and that email


896
11:42:44,400 --> 11:42:48,640
verification we clicked on the link but firebase


897
11:42:48,640 --> 11:42:51,040
doesn't immediately understand that you've


898
11:42:51,040 --> 11:42:55,040
as a user have verified your email now so what you need to do you need to ask


899
11:42:55,040 --> 11:42:58,800
the user to log in and upon that point it seems like firebase is actually


900
11:42:58,800 --> 11:43:02,960
refreshing that data locally as well as contacting firebase backend and getting


901
11:43:02,960 --> 11:43:06,960
the latest information from there so just because your user has verified


902
11:43:06,960 --> 11:43:09,916
their information doesn't mean that the application is immediately going to


903
11:43:09,916 --> 11:43:14,720
understand that so you need to ask the user to log in again okay


904
11:43:15,360 --> 11:43:20,800
so i can see here now we were supposed to return the logging view um


905
11:43:20,800 --> 11:43:24,320
so i'm going to take some items in my notes


906
11:43:24,320 --> 11:43:27,040
just to make sure that i've talked about them


907
11:43:27,040 --> 11:43:32,160
and we're returning the login view right now from


908
11:43:32,160 --> 11:43:36,160
from our home page so this is something you'll need to do also before we


909
11:43:36,160 --> 11:43:42,320
continue to the next chapter all right that was a lot of information


910
11:43:42,320 --> 11:43:45,800
and um


911
11:43:46,560 --> 11:43:48,800
but for this chapter


912
11:43:48,800 --> 11:43:54,400
what we've done pretty much is just to create the uh verify uh email view or


913
11:43:54,400 --> 11:43:58,240
what we call it is it called verify verify email view we ensure that it can


914
11:43:58,240 --> 11:44:01,840
send an email we clicked on the link in the email and made sure that the user is


915
11:44:01,840 --> 11:44:05,436
verified and that's and that all has been working fine


916
11:44:05,436 --> 11:44:09,200
um but we still have a lot to work on and


917
11:44:09,200 --> 11:44:12,640
as you can see it right now i'm going into the code and manually like


918
11:44:12,640 --> 11:44:16,960
returning the screens that i personally want to see or it's important for you to


919
11:44:16,960 --> 11:44:21,680
see for instance the login view but if you display login view how is the


920
11:44:21,680 --> 11:44:26,240
user able to go from the login view to register if they don't have an account


921
11:44:26,240 --> 11:44:30,800
that they can log in with so that's what we're gonna do in the next chapter we're


922
11:44:30,800 --> 11:44:35,756
gonna create links between our screens so that a user can go from one screen to


923
11:44:35,756 --> 11:44:38,160
the other and then back


924
11:44:38,160 --> 11:44:40,240
so um


925
11:44:40,240 --> 11:44:45,756
so yeah great job that's it for this chapter and i'll see you in the next one


926
11:44:45,756 --> 11:44:49,200
hello and welcome to chapter 17 of the slotted course


927
11:44:49,200 --> 11:44:53,436
in the previous chapters we've been working quite a lot with some of the


928
11:44:53,436 --> 11:44:58,400
basics of flutter for instance stateful stateless widgets we've been looking at


929
11:44:58,400 --> 11:45:03,360
a column we've been looking at text button and many other widgets and kind


930
11:45:03,360 --> 11:45:08,560
of trying to get our screens presentable to the user and


931
11:45:08,560 --> 11:45:11,040
at the same time we've been working on the functionality of the applications


932
11:45:11,040 --> 11:45:15,040
such as logging in registering verifying email etc


933
11:45:15,040 --> 11:45:20,160
we have a lot to work on and um we're gonna break it down by


934
11:45:20,160 --> 11:45:24,240
first starting to work on the link between the login and the register view


935
11:45:24,240 --> 11:45:28,400
as you can see here at the moment we i mean i'm going to


936
11:45:28,400 --> 11:45:32,320
bring up the code um the way we left it in the previous


937
11:45:32,320 --> 11:45:37,200
chapter as you can see here in the main function


938
11:45:37,200 --> 11:45:42,000
sorry in our home page widget and also let me change


939
11:45:42,000 --> 11:45:44,720
the um


940
11:45:44,720 --> 11:45:48,880
let me change the structure on the uh of the different views on the screen


941
11:45:48,880 --> 11:45:54,240
so you can see a little bit better so if i do a hot restart here you can see that


942
11:45:54,240 --> 11:45:57,276
um when the connection state is done when the firebase application is


943
11:45:57,276 --> 11:46:01,276
initialized i'm displaying the or we're displaying the login view here without


944
11:46:01,276 --> 11:46:06,080
basically having the option to go to any other screen from here so if i want to


945
11:46:06,080 --> 11:46:09,520
send the user to the register view then i have to change this code right here


946
11:46:09,520 --> 11:46:13,520
and say okay now you have to go to register view


947
11:46:13,520 --> 11:46:17,680
so that's why we need a link between these


948
11:46:17,680 --> 11:46:22,080
two views i'm sorry i'm looking at this screen just because i need to actually


949
11:46:22,080 --> 11:46:26,640
ensure that i tick the items that i've already explained so um we need to make


950
11:46:26,640 --> 11:46:30,080
sure that when a user is on the login screen even if that's the first screen


951
11:46:30,080 --> 11:46:32,880
that we always display to the user which is not


952
11:46:32,880 --> 11:46:36,560
but if even if it was we need to be able to let the user to go from the login


953
11:46:36,560 --> 11:46:41,840
screen to the registry and also from registry view back to the login screen


954
11:46:41,840 --> 11:46:46,240
so that's what we're gonna do in this chapter


955
11:46:46,240 --> 11:46:48,480
so as the first


956
11:46:48,480 --> 11:46:52,880
item that we have to tackle is to go to our login view and add a


957
11:46:52,880 --> 11:46:58,560
button that will send us to the registry so i'm going to open up


958
11:46:58,560 --> 11:47:02,880
i'm going to bring it here make the screen a little bit smaller here


959
11:47:02,880 --> 11:47:07,680
so let's go to our login view which i can see is actually modified um yeah


960
11:47:07,680 --> 11:47:12,080
that's okay actually so and what we need here you can see we


961
11:47:12,080 --> 11:47:17,840
have a text button and that is for our login view the login button


962
11:47:17,840 --> 11:47:20,400
and as you can see the cache has added text but it's allowing you to send us a


963
11:47:20,400 --> 11:47:24,480
registry view so right after this text button let's create a new text button


964
11:47:24,480 --> 11:47:27,520
and i'm going to bring it a little bit higher so you can see i'm going to say


965
11:47:27,520 --> 11:47:33,680
text button remember uh child parameter always has to be at the la at the


966
11:47:33,680 --> 11:47:38,800
it should be the last parameter so i'm going to say unpressed ask visual studio


967
11:47:38,800 --> 11:47:42,640
code to complete it for me and then i'm going to say child the text is going to


968
11:47:42,640 --> 11:47:47,596
say what should it say should it say not registered


969
11:47:47,596 --> 11:47:51,200
yet and we say register here something like


970
11:47:51,200 --> 11:47:55,200
this i make it a constant okay and i'm gonna save this and you can see


971
11:47:55,200 --> 11:47:59,116
now that we have a little button here that says not registered yet register


972
11:47:59,116 --> 11:48:03,040
here okay so that part is done but the button


973
11:48:03,040 --> 11:48:06,480
at the moment the way it is right now it's not doing anything so


974
11:48:06,480 --> 11:48:11,520
we need to address that but before we can do that we need to


975
11:48:11,520 --> 11:48:15,916
talk about named routes


976
11:48:15,916 --> 11:48:20,160
you see in the previous exercise or in the previous chapter


977
11:48:20,160 --> 11:48:25,596
we use navigator and dot of context and push


978
11:48:25,596 --> 11:48:28,640
and then we created a material page route


979
11:48:28,640 --> 11:48:32,080
that may have all been kind of like alien to you and you didn't really know


980
11:48:32,080 --> 11:48:35,276
what was happening and that's okay you will get to know it more and more as we


981
11:48:35,276 --> 11:48:39,040
go through the various chapters in this in this course but what we need to do


982
11:48:39,040 --> 11:48:44,720
here is to first talk about what a route is and what a name route is and i've


983
11:48:44,720 --> 11:48:49,436
actually put a link to a documentation here for you


984
11:48:49,436 --> 11:48:52,720
that we can go i'm going to bring up my web browser and i'm going to create a


985
11:48:52,720 --> 11:48:56,960
new window and i'm going to say flutter mean routes


986
11:48:56,960 --> 11:49:01,680
which is going to end up in the exact same link that you can see there


987
11:49:01,680 --> 11:49:05,680
and it says here in the navig in the navigate to a new screenplay recipe


988
11:49:05,680 --> 11:49:08,960
however if you need to navigate to the same screen actually it wasn't such a


989
11:49:08,960 --> 11:49:12,000
great description to be honest i was kind of expecting a little bit of better


990
11:49:12,000 --> 11:49:15,756
description but maybe i can do that myself instead of you having to look at


991
11:49:15,756 --> 11:49:18,000
this and i can see to be honest with you this


992
11:49:18,000 --> 11:49:21,596
this webpage is a part of a cookbook which


993
11:49:21,596 --> 11:49:26,480
kind of is probably all like linked together so in order for you


994
11:49:26,480 --> 11:49:30,080
to understand this page you actually have to go to this link and read that


995
11:49:30,080 --> 11:49:33,520
and then see and then this would be the continuation


996
11:49:33,520 --> 11:49:36,960
so i just put the link here just so you


997
11:49:36,960 --> 11:49:40,800
have it as reference but i'm gonna explain that myself here


998
11:49:40,800 --> 11:49:45,756
now if we go back to um where we had the named route let's see


999
11:49:45,756 --> 11:49:50,320
uh where did we have the name route when we pushed it it was quite a bit before


1000
11:49:50,320 --> 11:49:54,720
this if i can undo here


1001
11:49:54,720 --> 11:49:59,436
so this is something called an anonymous route so sorry about that i said name


1002
11:49:59,436 --> 11:50:04,800
route but this is an anonymous route so a route is as its name indicates in


1003
11:50:04,800 --> 11:50:09,840
flutter is it's a journey that has a start and an end so it starts from a


1004
11:50:09,840 --> 11:50:13,276
view and it ends in a view okay that's a route


1005
11:50:13,276 --> 11:50:15,916
um however there are two types of routes


1006
11:50:15,916 --> 11:50:19,840
and you can create in flutter either you do your routes either you go to a new


1007
11:50:19,840 --> 11:50:24,240
screen to your destination from the current screen without providing any


1008
11:50:24,240 --> 11:50:27,916
sort of information about what this route actually means to your application


1009
11:50:27,916 --> 11:50:32,320
so it's an anonymous route you're doing it in line you're not telling flutter


1010
11:50:32,320 --> 11:50:37,916
about this route beforehand so as the user presses the button or


1011
11:50:37,916 --> 11:50:41,840
for instance in this case as the user ends up in the home page and the future


1012
11:50:41,840 --> 11:50:46,400
builder initializes firebase upon the connections they've done meaning that


1013
11:50:46,400 --> 11:50:50,800
the initialization of firebase is complete then we were pushing


1014
11:50:50,800 --> 11:50:54,000
the verify email view on the screen and then we


1015
11:50:54,000 --> 11:50:58,240
fixed it by doing all this code so that was an anonymous route you're


1016
11:50:58,240 --> 11:51:03,360
doing it in place as the done connection state happens then we were pushing a new


1017
11:51:03,360 --> 11:51:06,800
route uh in our navigator


1018
11:51:06,800 --> 11:51:12,480
but a named route is the exact same thing that we write like we were doing


1019
11:51:12,480 --> 11:51:17,840
before but you tell flutter about that route before so that when your


1020
11:51:17,840 --> 11:51:23,040
application is created and initialized and the flutter engine starts it knows


1021
11:51:23,040 --> 11:51:27,520
that there is a route with the name xyz for instance or fubar bass whatever you


1022
11:51:27,520 --> 11:51:32,320
want to define and it goes to a certain


1023
11:51:32,320 --> 11:51:36,560
screen okay so that is the difference between an anonymous route and a name


1024
11:51:36,560 --> 11:51:39,680
route in that as its name indicates a named route


1025
11:51:39,680 --> 11:51:44,080
is a route that has a name so you tell flutter that associate this particular


1026
11:51:44,080 --> 11:51:49,840
name as a type of string to this route


1027
11:51:50,800 --> 11:51:56,400
okay i'm going to take it here in my notes that we've talked about that


1028
11:51:56,400 --> 11:52:01,200
so what we need to do now is to define two routes for our


1029
11:52:01,200 --> 11:52:05,200
application one called slash login slash and the other one is called slash


1030
11:52:05,200 --> 11:52:08,160
register okay


1031
11:52:08,160 --> 11:52:13,840
so let me just go and ensure that i'm bringing those routes correctly so


1032
11:52:13,840 --> 11:52:18,480
what i'm going to do here and you need to do as well is to go to your main


1033
11:52:18,480 --> 11:52:22,480
function and at the moment we have a title for a


1034
11:52:22,480 --> 11:52:27,116
material app and a theme data and then a home here


1035
11:52:27,116 --> 11:52:32,960
but what you also have is a parameter called routes okay so let's go and say


1036
11:52:32,960 --> 11:52:39,276
we want to create these routes and you can see here it says routes its


1037
11:52:39,276 --> 11:52:44,960
value is a map of string and a builder function for the values of those


1038
11:52:44,960 --> 11:52:49,116
uh string keys so it's a little bit strange it's a map whose keys are


1039
11:52:49,116 --> 11:52:54,960
strings and values are functions that take in a


1040
11:52:54,960 --> 11:52:59,040
build context sorry about that and return a widget so it's a little bit of


1041
11:52:59,040 --> 11:53:01,840
a it's like maybe a paradigm shift in your


1042
11:53:01,840 --> 11:53:07,040
head but these things do exist and i've already i've also created my own classes


1043
11:53:07,040 --> 11:53:09,756
that kind of expect this kind of parameter


1044
11:53:09,756 --> 11:53:13,596
so let's go into routes and say okay now we have routes


1045
11:53:13,596 --> 11:53:18,080
as you know as you know this is how we create a map map is a is a list of key


1046
11:53:18,080 --> 11:53:21,916
value pairs or map entries as they're called in


1047
11:53:21,916 --> 11:53:26,240
flutter and then what we need to do here is i'm


1048
11:53:26,240 --> 11:53:30,160
sorry but i'll just move some code around i have three screens here so i


1049
11:53:30,160 --> 11:53:34,640
kind of have to manage those screens at the same time i'm explaining things so


1050
11:53:34,640 --> 11:53:40,080
what we're gonna do here is to define two routes slash login all right and


1051
11:53:40,080 --> 11:53:45,360
remember the value of this of the value of every key inside this routes needs to


1052
11:53:45,360 --> 11:53:50,640
be a function you see it's a function that returns a widget and it takes a


1053
11:53:50,640 --> 11:53:56,800
build context inside so in here what we're going to do is say we have a


1054
11:53:56,800 --> 11:54:02,080
context and we return actually sorry login slash


1055
11:54:02,080 --> 11:54:07,596
we return the login view all right so we say have a route called slash login


1056
11:54:07,596 --> 11:54:13,116
slash and when that route is used it returns the login view


1057
11:54:13,116 --> 11:54:16,880
an instance of the login view now we need to do the exact same thing but for


1058
11:54:16,880 --> 11:54:21,116
register so i'm going to copy this and here just going to say register and


1059
11:54:21,116 --> 11:54:25,756
instead return the register view which we haven't imported into our main dart


1060
11:54:25,756 --> 11:54:30,400
file and you can remedy that by pressing command dot on mac or control dot on


1061
11:54:30,400 --> 11:54:34,480
windows and linux and then say import register


1062
11:54:34,480 --> 11:54:36,800
view


1063
11:54:37,596 --> 11:54:43,756
okay that's that and i'm gonna have a look at my notes a little bit


1064
11:54:43,756 --> 11:54:46,960
so what we need to do now um i've already


1065
11:54:46,960 --> 11:54:51,596
explained that okay in log area all right so what we need to do now is to go


1066
11:54:51,596 --> 11:54:56,080
from login to the register view and as you can see i've explained it


1067
11:54:56,080 --> 11:55:00,240
here in the caption that this will actually cause an error but we will fix


1068
11:55:00,240 --> 11:55:04,640
this error as we go forward okay so


1069
11:55:04,640 --> 11:55:09,040
in this uh register view here sorry in this um


1070
11:55:09,040 --> 11:55:12,320
in our login view so let's go to the login view we have this button right


1071
11:55:12,320 --> 11:55:17,116
here and what we need to do is just to ensure that by pressing that we can go


1072
11:55:17,116 --> 11:55:21,596
to the correct place and


1073
11:55:21,596 --> 11:55:25,596
i think i brought up the caption and you can see that we need to use


1074
11:55:25,596 --> 11:55:30,480
navigator of context push named and remove until


1075
11:55:30,480 --> 11:55:35,360
and this this is kind of a peculiar call because what it essentially does is as


1076
11:55:35,360 --> 11:55:38,000
you can see right now on the screen we have


1077
11:55:38,000 --> 11:55:40,480
the login and


1078
11:55:40,480 --> 11:55:44,240
we basically the way we've created things at the moment is that we have the


1079
11:55:44,240 --> 11:55:49,840
home view which is a widget and then depending on the state of


1080
11:55:49,840 --> 11:55:54,320
actually no not depending on anything we're literally just hard coding login


1081
11:55:54,320 --> 11:56:00,320
view to be returned inside this okay so we have the home widget and then inside


1082
11:56:00,320 --> 11:56:04,560
this home widget we're inserting the contents of login view so login view and


1083
11:56:04,560 --> 11:56:08,560
home page are kind of like displayed on top of each other


1084
11:56:08,560 --> 11:56:11,840
and this home page has the scaffold whereas


1085
11:56:11,840 --> 11:56:14,720
the login view doesn't have any scaffold and


1086
11:56:14,720 --> 11:56:18,720
it's just a column at the moment if you remember we can go back to login view so


1087
11:56:18,720 --> 11:56:24,560
you can see that it's just a column okay so that's the structure currently by


1088
11:56:24,560 --> 11:56:28,640
doing this command that i'm providing you here navigator of context push name


1089
11:56:28,640 --> 11:56:33,040
and remove until what is going to happen is that as its


1090
11:56:33,040 --> 11:56:38,320
name indicates it's going to remove everything


1091
11:56:38,320 --> 11:56:42,400
before it pushes this new route so


1092
11:56:42,400 --> 11:56:46,880
is what we're basically saying here is that by pressing the not registered yet


1093
11:56:46,880 --> 11:56:50,800
button and register here we're going to nuke this screen remove it completely


1094
11:56:50,800 --> 11:56:55,840
from the screen and replace it by this new widget that we're returning okay so


1095
11:56:55,840 --> 11:57:00,560
let's go to our login view in this button here into the login view and


1096
11:57:00,560 --> 11:57:06,800
sorry in the not registered yet button we say navigator of


1097
11:57:06,800 --> 11:57:11,360
context and remove until here push and remove


1098
11:57:11,360 --> 11:57:18,480
until push named and remove until and in here now we need to display our


1099
11:57:18,480 --> 11:57:24,480
register route and we refer to that using its name


1100
11:57:24,480 --> 11:57:30,400
so let's go and fix that now so we say here


1101
11:57:30,400 --> 11:57:34,320
slash register and


1102
11:57:34,320 --> 11:57:39,360
put false there as it is and you can see you can get documentation about this and


1103
11:57:39,360 --> 11:57:44,080
there's a predicate here that returns returns true or false and it says push


1104
11:57:44,080 --> 11:57:46,880
the route with the given name onto the navigator and then remove all the


1105
11:57:46,880 --> 11:57:50,320
previous routes until the predicate returns true


1106
11:57:50,320 --> 11:57:53,680
and at the moment we're just saying return false meaning return remove


1107
11:57:53,680 --> 11:57:57,436
everything from the route and just go to the register view so just leave this as


1108
11:57:57,436 --> 11:58:02,000
false right now okay and this is actually going to cause


1109
11:58:02,000 --> 11:58:06,880
a problem and you will see that soon i'm going to hot restart just in case and we


1110
11:58:06,880 --> 11:58:11,360
go here to our login view and i'm going to press the not


1111
11:58:11,360 --> 11:58:16,480
registered button here and boom and you can see now um


1112
11:58:16,480 --> 11:58:19,436
that's actually great that we're getting this error this is exactly what i what


1113
11:58:19,436 --> 11:58:23,436
i'd expected so what is happening here is that we're


1114
11:58:23,436 --> 11:58:26,720
removing everything that's on the screen and


1115
11:58:26,720 --> 11:58:31,360
pushing around to the screen that has no scaffold so this is the problem that you


1116
11:58:31,360 --> 11:58:35,520
can see on the screen that yeah i can't just display a column on the screen


1117
11:58:35,520 --> 11:58:40,480
without anything around it so we need kind of a scaffold


1118
11:58:40,480 --> 11:58:44,720
and that is what this caption also is saying at the bottom left of the screen


1119
11:58:44,720 --> 11:58:50,880
as i'm showing you here i'll check some items in my um


1120
11:58:50,880 --> 11:58:54,560
screen so as the next thing what we need to do


1121
11:58:54,560 --> 11:59:00,240
now is to go to our register view which is what we're pushing here and


1122
11:59:00,240 --> 11:59:05,276
make sure that our register view now has all of a sudden a scaffold all right so


1123
11:59:05,276 --> 11:59:09,436
let's go to lib here and register view i'm gonna


1124
11:59:09,436 --> 11:59:14,320
remove this project explorer here at the moment we're returning a column what i'm


1125
11:59:14,320 --> 11:59:18,880
gonna do is gonna command click on mac or control click on linux and windows


1126
11:59:18,880 --> 11:59:23,436
and say wrap with widget and then call this widget


1127
11:59:23,436 --> 11:59:28,960
scaffold and just say scaffold body


1128
11:59:28,960 --> 11:59:35,596
and for the app bar create a new app bar and for its title say text and this is


1129
11:59:35,596 --> 11:59:40,400
the register view or just say register with constants okay we're just gonna


1130
11:59:40,400 --> 11:59:43,916
leave it like that i'm just gonna double check in my notes to make sure that's


1131
11:59:43,916 --> 11:59:49,360
what i had intended for the register view to actually be called yes i can see


1132
11:59:49,360 --> 11:59:53,436
that it was called register as well there great


1133
11:59:53,436 --> 11:59:56,960
so we have that now and you can see


1134
11:59:56,960 --> 12:00:01,756
now we're in the register view and there is no error i'm gonna do a hot restart


1135
12:00:01,756 --> 12:00:06,560
and we go here again and now i'm gonna press the not registered yet button and


1136
12:00:06,560 --> 12:00:10,640
you can see we are going to the register view


1137
12:00:10,640 --> 12:00:15,756
okay so now we have a good connection between


1138
12:00:15,756 --> 12:00:21,680
the login view to the register view but there is no connection backwards


1139
12:00:21,680 --> 12:00:26,560
there's no connection from the register view to the login view and that's


1140
12:00:26,560 --> 12:00:32,480
exactly what we're going to do now just as we did um


1141
12:00:32,480 --> 12:00:36,320
i'm going to take some items in my notes as well


1142
12:00:36,320 --> 12:00:40,480
so what just as we did in um


1143
12:00:41,360 --> 12:00:46,720
in the login view that i'm going to hot restart so you just uh remember you can


1144
12:00:46,720 --> 12:00:51,360
be reminded of what we did we had a login view as our login button and we


1145
12:00:51,360 --> 12:00:55,040
added a new item to go from login to register but also we want to make sure


1146
12:00:55,040 --> 12:00:59,436
that if you are already registered and you ended up on the screen then you can


1147
12:00:59,436 --> 12:01:03,596
go back to the login view okay so let's do something similar here in our


1148
12:01:03,596 --> 12:01:06,320
register view and


1149
12:01:06,320 --> 12:01:10,640
at the end of the register button here let's create a new one and we say text


1150
12:01:10,640 --> 12:01:14,560
button and uh on crest gonna get help from


1151
12:01:14,560 --> 12:01:18,560
visual studio code to create that function signature and then i'm going to


1152
12:01:18,560 --> 12:01:23,200
say child is a text that says


1153
12:01:23,200 --> 12:01:27,916
what should we say already registered


1154
12:01:27,916 --> 12:01:36,160
log in here like this okay as a constant and i comma here so we get the


1155
12:01:36,160 --> 12:01:40,560
formatting in place and now you can see the register view also has a button that


1156
12:01:40,560 --> 12:01:45,520
says if you're already registered then log in here and the login view has


1157
12:01:45,520 --> 12:01:50,800
not registered yet register here so now we have to program this and as you


1158
12:01:50,800 --> 12:01:55,276
saw in the login view we had this functionality navigator of push name


1159
12:01:55,276 --> 12:01:59,436
blah blah let's copy that functionality from the login view and bring it into


1160
12:01:59,436 --> 12:02:03,596
the register view under already registered button there


1161
12:02:03,596 --> 12:02:07,436
and instead of going to registered main route we're going to go to the login


1162
12:02:07,436 --> 12:02:10,080
name route okay and then


1163
12:02:10,080 --> 12:02:13,916
hot hot uh hot reload you don't have to hot restart


1164
12:02:13,916 --> 12:02:17,360
i'm gonna press this button and actually this is really great and


1165
12:02:17,360 --> 12:02:22,560
that's the same point that i had here


1166
12:02:22,560 --> 12:02:26,800
so uh link this okay


1167
12:02:26,800 --> 12:02:31,520
so i've talked about that i'm going to just take some items um in the


1168
12:02:31,520 --> 12:02:35,520
in my notes to make sure that i've covered all the grounds that i prepared


1169
12:02:35,520 --> 12:02:38,400
for covering basically so you can see this


1170
12:02:38,400 --> 12:02:42,400
is the exact same error that we had in the previous screen um


1171
12:02:42,400 --> 12:02:47,040
or in the previous situation that our uh register view didn't have a scaffold


1172
12:02:47,040 --> 12:02:50,400
because we went from login view and to register view and then register we


1173
12:02:50,400 --> 12:02:53,200
didn't have scaffolds so we created a scaffold here


1174
12:02:53,200 --> 12:02:56,320
if you remember okay but if you go to the login view you can see the login


1175
12:02:56,320 --> 12:03:00,320
view still returns a column and the way i mean the reason this has been working


1176
12:03:00,320 --> 12:03:05,596
so far is that because our home page had a scaffold do you remember here homepage


1177
12:03:05,596 --> 12:03:09,596
had a scaffold and the contents of login view have have


1178
12:03:09,596 --> 12:03:15,040
so far just been injected into the body of our home page and that's the reason


1179
12:03:15,040 --> 12:03:19,596
if you hot restart your application you come to this beautiful home screen it


1180
12:03:19,596 --> 12:03:24,320
says home and then you have the login view right here okay


1181
12:03:24,320 --> 12:03:27,040
so what we need now is


1182
12:03:27,040 --> 12:03:30,080
if you remember from the previous chapter we removed the scaffold from


1183
12:03:30,080 --> 12:03:33,276
their login and their register and now we're putting them back but i kind of


1184
12:03:33,276 --> 12:03:37,520
want you to understand the reasoning behind why i'm doing things i don't want


1185
12:03:37,520 --> 12:03:40,720
you to think that everything is perfect from the beginning because for me at


1186
12:03:40,720 --> 12:03:44,960
least when things are done perfectly in the beginning i always question like


1187
12:03:44,960 --> 12:03:48,880
what if this thing wasn't there and i'm just trying to make sure that we remedy


1188
12:03:48,880 --> 12:03:52,080
these things so you go through the entire journey you see what's wrong and


1189
12:03:52,080 --> 12:03:56,640
how we can fix it instead of just me presenting to you the exact right way


1190
12:03:56,640 --> 12:04:00,000
of doing things so from the beginning


1191
12:04:00,000 --> 12:04:03,596
let's go to our login view and make sure we do the same thing that we did with


1192
12:04:03,596 --> 12:04:09,040
register view and add a scaffold


1193
12:04:09,040 --> 12:04:14,560
so let's go in here and add a scaffold so i'm going to write i'm going to click


1194
12:04:14,560 --> 12:04:18,960
on it sorry i'm going to command and we're going to press command and dot


1195
12:04:18,960 --> 12:04:24,320
on it on mac or control dot on linux and windows and you say wrap with widget and


1196
12:04:24,320 --> 12:04:28,560
just say your widget is called scaffold scaffold unfortunately doesn't have a


1197
12:04:28,560 --> 12:04:33,520
child parameter so it has a body so change that parameter to body


1198
12:04:33,520 --> 12:04:37,756
and let's create an app bar for it then we say app bar


1199
12:04:37,756 --> 12:04:44,720
and it has a title and we say const text and in here we just say login


1200
12:04:44,720 --> 12:04:49,040
okay all right now


1201
12:04:49,040 --> 12:04:53,520
as you can see i mean we've now added the scaffold and as the top as the


1202
12:04:53,520 --> 12:04:56,800
caption here is telling you it says about login view is being embedded into


1203
12:04:56,800 --> 12:05:02,080
home page this isn't good so now what we need to do is to go to


1204
12:05:02,080 --> 12:05:06,880
the next uh section which is we need to remove now


1205
12:05:06,880 --> 12:05:12,720
the scaffold from our main dart or from the home page because


1206
12:05:12,720 --> 12:05:16,320
for right now home page is our login view is


1207
12:05:16,320 --> 12:05:21,276
being embedded into home page but that isn't really good enough


1208
12:05:21,276 --> 12:05:24,000
so we can't have login view with its own


1209
12:05:24,000 --> 12:05:29,360
scaffold being embedded inside a home page that already has a scaffold so


1210
12:05:29,360 --> 12:05:34,880
uh what we need to do is to remove the scaffold from our homepage uh let's see


1211
12:05:34,880 --> 12:05:38,560
if we can do that and it doesn't seem like it's working so i'm gonna go


1212
12:05:38,560 --> 12:05:42,160
and say that i'm gonna grab the future


1213
12:05:42,160 --> 12:05:44,960
builder okay and this is what you need to also do


1214
12:05:44,960 --> 12:05:48,720
grab the entire future builder and instead of returning the scaffold just


1215
12:05:48,720 --> 12:05:53,916
return your future builder just like i'm doing here


1216
12:05:55,520 --> 12:05:58,800
all right um [Music]


1217
12:05:58,800 --> 12:06:04,000
there's a lot of information and also let's make sure that our um


1218
12:06:04,000 --> 12:06:09,116
verify email view also has a scaffold because this is what we need right now


1219
12:06:09,116 --> 12:06:13,040
we need all our views to have a scaffold so i'm going to


1220
12:06:13,040 --> 12:06:18,160
embed our verify email views columns as well inside a scaffold


1221
12:06:18,160 --> 12:06:21,840
so wrap with widget and let's say scaffold


1222
12:06:21,840 --> 12:06:25,916
there is no child in scaffold remember there is a body and


1223
12:06:25,916 --> 12:06:30,480
then we say app bar is an app bar a title effect const


1224
12:06:30,480 --> 12:06:35,116
text and we say verify email something like this okay


1225
12:06:35,116 --> 12:06:39,436
good now if i command s in order to save all these changes we're gonna get an


1226
12:06:39,436 --> 12:06:43,200
error hopefully


1227
12:06:43,436 --> 12:06:48,000
which we didn't and that's also okay it's probably because we actually fixed


1228
12:06:48,000 --> 12:06:53,436
home page so it doesn't have a scaffold that's why we're not getting the error


1229
12:06:53,436 --> 12:06:57,436
so that is really good i've also explained


1230
12:06:57,436 --> 12:07:00,240
that then so let's just make sure that the


1231
12:07:00,240 --> 12:07:03,596
connection is working between these two screens so


1232
12:07:03,596 --> 12:07:07,756
login view is there you can see there is no home page any anymore displayed here


1233
12:07:07,756 --> 12:07:12,320
if you remember from before this refactoring then when we sh when we


1234
12:07:12,320 --> 12:07:16,160
showed the login view then there was the home pages app bar displayed on the


1235
12:07:16,160 --> 12:07:20,960
screen but home page right now is just a future builder that returns other things


1236
12:07:20,960 --> 12:07:23,680
such as a text of loading or the login view


1237
12:07:23,680 --> 12:07:28,720
and also here i noticed that instead of logging loading what we could do is to


1238
12:07:28,720 --> 12:07:34,000
display a circular progress indicator this is a great widget if you're if


1239
12:07:34,000 --> 12:07:38,640
you're just doing some sort of a loading that may not immediately have an end so


1240
12:07:38,640 --> 12:07:42,720
what circular progress indicator does it just shows like a loading indicator we


1241
12:07:42,720 --> 12:07:46,800
could actually comment all of this code out and just return the circular


1242
12:07:46,800 --> 12:07:51,116
progress indicator and comment the switch out as well and then press


1243
12:07:51,116 --> 12:07:54,880
command s so you actually see how it looks like it's ginormous at the moment


1244
12:07:54,880 --> 12:07:59,436
because there's no scaffold around it but if you had scaffold everything put


1245
12:07:59,436 --> 12:08:02,400
in place then you would see the circle progress indicator actually displayed


1246
12:08:02,400 --> 12:08:05,756
correctly on the screen so let's go back


1247
12:08:05,756 --> 12:08:11,200
command s so we see the log loadings sorry the login screen or the login view


1248
12:08:11,200 --> 12:08:14,840
and the connection between those screens is working as


1249
12:08:14,840 --> 12:08:19,680
well the next thing we need to do is to at the moment you see we have our login


1250
12:08:19,680 --> 12:08:24,960
view and the register view so they're in their own files but in the main guard


1251
12:08:24,960 --> 12:08:28,480
file we've kind of forgotten or maybe not forgotten we just haven't had the


1252
12:08:28,480 --> 12:08:33,596
time to do that we have the verify email view still rightly like it's just


1253
12:08:33,596 --> 12:08:37,596
displayed or it's coded in the main dart file so what we need to do is just to


1254
12:08:37,596 --> 12:08:43,276
create an an own file for it and we call it verify email view okay so go to views


1255
12:08:43,276 --> 12:08:46,320
here and right click on it new file and say


1256
12:08:46,320 --> 12:08:52,320
verify email view dot dart okay


1257
12:08:52,320 --> 12:08:56,000
and grab the code from verify email view here


1258
12:08:56,000 --> 12:09:00,000
and paste it or cut it basically and just place it


1259
12:09:00,000 --> 12:09:03,756
here and make sure all the imports are in


1260
12:09:03,756 --> 12:09:09,276
place i've already explained in previous chapters how we need to fix imports


1261
12:09:09,276 --> 12:09:13,916
so i'm not going to go into so much detail about how imports work and how we


1262
12:09:13,916 --> 12:09:17,436
should do that because i think if you've already gone through the chapters


1263
12:09:17,436 --> 12:09:21,360
chronologically then this is like obvious for you how to fix it so it kind


1264
12:09:21,360 --> 12:09:25,116
of feels like if i try to over explain all these things over and over again the


1265
12:09:25,116 --> 12:09:28,240
people who are watching this course chronologically from the beginning and


1266
12:09:28,240 --> 12:09:31,916
they're kind of gonna get bored so in the interest of not boring actual people


1267
12:09:31,916 --> 12:09:36,320
who are watching things i'm not gonna over explain so there we go that is


1268
12:09:36,320 --> 12:09:40,720
fixed and also let's make sure that we import firebase off as well so that


1269
12:09:40,720 --> 12:09:44,160
error goes away save just


1270
12:09:44,160 --> 12:09:47,596
make sure that hot we do a hot restart as well just make


1271
12:09:47,596 --> 12:09:52,640
sure everything is working as expected and it does


1272
12:09:52,840 --> 12:09:58,320
so what we need to do now also in in the interest of


1273
12:09:58,320 --> 12:10:03,596
uh following through with the plan of


1274
12:10:03,596 --> 12:10:07,840
being a good software developer what we talked about not in the previous


1275
12:10:07,840 --> 12:10:12,640
chapter but i think it was in chapter let's see it was in chapter 15 i believe


1276
12:10:12,640 --> 12:10:16,240
where we talked about git and github now we've done a lot of code things are


1277
12:10:16,240 --> 12:10:22,800
working great let's commit our code okay so as we had if i bring up the terminal


1278
12:10:22,800 --> 12:10:26,320
here i'm going to do this so you see a little bit better i'm going to bring up


1279
12:10:26,320 --> 12:10:30,320
terminal and let's go to our terminal here i can


1280
12:10:30,320 --> 12:10:34,000
see scrcpy is running in this terminal so i'm going to create a new terminal


1281
12:10:34,000 --> 12:10:37,436
here and i'm going to just say be it log and


1282
12:10:37,436 --> 12:10:41,840
you can see we had the initial commit and that was step one all right so


1283
12:10:41,840 --> 12:10:46,400
because we tagged it as a step one you see here so what we do let's just get


1284
12:10:46,400 --> 12:10:50,880
git status and we see that we've done a lot of work i'm gonna get add all the


1285
12:10:50,880 --> 12:10:54,960
files to the staging area remember from the git chapter


1286
12:10:54,960 --> 12:10:59,680
and then let me also make this a little bit bigger so you can see it better


1287
12:10:59,680 --> 12:11:02,560
um okay then i'm gonna commit and i'm gonna


1288
12:11:02,560 --> 12:11:07,360
say git commit step two like this


1289
12:11:08,320 --> 12:11:13,756
okay um and also actually before we do that i


1290
12:11:13,756 --> 12:11:19,436
believe we've missed a few things then i just look a little bit in my


1291
12:11:19,436 --> 12:11:23,756
notes just to make sure that i'm not missing things before we continue


1292
12:11:23,756 --> 12:11:27,116
if i look at um


1293
12:11:28,000 --> 12:11:31,520
yeah so what we need to actually there's one thing we missed here at the moment


1294
12:11:31,520 --> 12:11:35,116
what we're doing is saying that okay just go to the login view but one thing


1295
12:11:35,116 --> 12:11:40,320
that we've missed is to ensure that we go to the correct correct view okay so


1296
12:11:40,320 --> 12:11:45,116
what we're gonna do is we say we first get the current user so


1297
12:11:45,116 --> 12:11:48,320
we say here's the user and


1298
12:11:48,320 --> 12:11:52,000
if the user is not null


1299
12:11:52,000 --> 12:11:54,880
here and we put an else statement here as


1300
12:11:54,880 --> 12:11:58,560
well so


1301
12:11:58,560 --> 12:12:03,756
if the user is not null then we say okay


1302
12:12:03,756 --> 12:12:09,116
um if user email verified


1303
12:12:09,276 --> 12:12:14,720
so and we just say print email is verified


1304
12:12:14,720 --> 12:12:19,200
or we just return text


1305
12:12:20,240 --> 12:12:23,436
email is verified something like this okay


1306
12:12:23,436 --> 12:12:27,040
let's go back to the print so before we actually do all this maybe i


1307
12:12:27,040 --> 12:12:31,916
should explain why we're doing this so at the moment or before we started with


1308
12:12:31,916 --> 12:12:35,040
this exercise right here whenever the application was running we


1309
12:12:35,040 --> 12:12:38,560
were just going directly to the login screen but what we need to do now is to


1310
12:12:38,560 --> 12:12:41,520
now that we have three screens we have the login view register view and also


1311
12:12:41,520 --> 12:12:45,116
the verify email view is that what we call it verify email


1312
12:12:45,116 --> 12:12:48,560
view yeah we need to make sure that we're actually


1313
12:12:48,560 --> 12:12:52,960
accommodating these various conditions into returning the the correct widget so


1314
12:12:52,960 --> 12:12:56,400
here we're saying that if the user's email is verified


1315
12:12:56,400 --> 12:13:00,880
let's then say just say email is verified okay


1316
12:13:00,880 --> 12:13:06,640
and we can actually return maybe even a um


1317
12:13:08,240 --> 12:13:14,400
and we'll return something so yeah let's do that so we will return text


1318
12:13:14,400 --> 12:13:18,960
done something like that okay if the email is verified we just say


1319
12:13:18,960 --> 12:13:22,800
that your email is verified but the user doesn't see that if the email is not


1320
12:13:22,800 --> 12:13:27,596
verified we will we will basically return


1321
12:13:28,560 --> 12:13:33,680
verify email view okay so that's us basically saying that yeah you


1322
12:13:33,680 --> 12:13:40,080
need to verify your email that's if user is not null


1323
12:13:40,080 --> 12:13:44,240
now if the user is null then we send you to


1324
12:13:44,240 --> 12:13:48,720
the login view so let's go in here in the ill statement we say return login


1325
12:13:48,720 --> 12:13:53,560
view as a constant


1326
12:13:54,560 --> 12:13:58,880
so i think that should do it to be honest with you


1327
12:13:58,880 --> 12:14:03,116
return cons return log so we can remove all of this from here


1328
12:14:03,116 --> 12:14:05,436
boom


1329
12:14:05,596 --> 12:14:10,480
so let's review it upon firebase initialization being done


1330
12:14:10,480 --> 12:14:15,680
successfully we are going to check for the current user if there is a


1331
12:14:15,680 --> 12:14:19,756
user we're gonna check if the email is verified if email is verified right now


1332
12:14:19,756 --> 12:14:23,520
we're just going to say print email is verified and since we're not returning


1333
12:14:23,520 --> 12:14:27,596
anything in here the code is going to fall through to line 48 here which in


1334
12:14:27,596 --> 12:14:32,880
turn then returns just a text done okay so if you have a logged in user sorry if


1335
12:14:32,880 --> 12:14:35,596
you have a user who's logging into the application and the


1336
12:14:35,596 --> 12:14:39,916
email is verified all the user is going to see is just a text done all right


1337
12:14:39,916 --> 12:14:43,756
but if you have a user in the application whose email is not verified


1338
12:14:43,756 --> 12:14:46,160
that user is going to see the verify email view


1339
12:14:46,160 --> 12:14:50,960
if you don't have a user with firebase so that user is not logged in then we're


1340
12:14:50,960 --> 12:14:54,240
going to display the login view all right


1341
12:14:54,240 --> 12:14:58,560
a lot of information i understand this may be a little bit frustrating so


1342
12:14:58,560 --> 12:15:03,276
so now i'm going to hot restart and what you can see here is just a very ugly


1343
12:15:03,276 --> 12:15:07,360
text done displayed on the screen this means the current user in the


1344
12:15:07,360 --> 12:15:12,320
application is logged in and the email is verified and


1345
12:15:12,320 --> 12:15:15,596
it is very ugly i understand but you need to also understand the reason why


1346
12:15:15,596 --> 12:15:20,240
this is ugly at the moment and that is what happens if you do not tell flutter


1347
12:15:20,240 --> 12:15:25,840
how things need to be rendered and since our home page has a future builder


1348
12:15:25,840 --> 12:15:30,560
and nothing else surrounding it there is no scaffold there's nothing it's just a


1349
12:15:30,560 --> 12:15:35,040
text widget that's flutter telling you okay i don't even know how to render


1350
12:15:35,040 --> 12:15:38,240
things anymore i don't know what theme you're using i don't know the font size


1351
12:15:38,240 --> 12:15:41,520
i don't know the default font color so that's what happens if you don't


1352
12:15:41,520 --> 12:15:44,720
surround your widgets with a scaffold or another


1353
12:15:44,720 --> 12:15:49,916
material widget that knows how to render things okay


1354
12:15:50,080 --> 12:15:55,520
wow a lot of information again um but i hope you're sticking with me here


1355
12:15:55,520 --> 12:16:00,720
now that we've done that we can go and commit so let's have it look at our logs


1356
12:16:00,720 --> 12:16:05,276
and look at the status i'm gonna change the structure or the layout of the


1357
12:16:05,276 --> 12:16:10,160
screen so you see better and now now we see that after we did git


1358
12:16:10,160 --> 12:16:15,840
add we've also changed the main dart file with these changes so i'm gonna get


1359
12:16:15,840 --> 12:16:22,880
at that as well all those changes and i'm gonna say git commit step two okay


1360
12:16:22,880 --> 12:16:29,116
so now that's gonna be committed and we're also going to push the commit


1361
12:16:29,200 --> 12:16:33,040
and additionally we need to tag it okay because if you remember if you look at


1362
12:16:33,040 --> 12:16:36,080
the logs the first commit that we did here it was


1363
12:16:36,080 --> 12:16:38,560
tagged as step one


1364
12:16:38,560 --> 12:16:43,360
now we've committed step two but we haven't tagged it so let's go tag it


1365
12:16:43,360 --> 12:16:48,160
i'm gonna say git tag um step two


1366
12:16:48,160 --> 12:16:51,276
and then you need to push your tags with bit push


1367
12:16:51,276 --> 12:16:56,320
dash dash tags and that creates the step two tag


1368
12:16:56,320 --> 12:17:01,116
as well for you okay i understand that was a lot of


1369
12:17:01,116 --> 12:17:04,720
information but i hope you could stick with me and go through all these steps


1370
12:17:04,720 --> 12:17:10,400
so that we are ready basically for the next chapter


1371
12:17:10,560 --> 12:17:14,640
all right and also before continuing with the next chapter just ensure that


1372
12:17:14,640 --> 12:17:18,400
you're logged in because in the next chapter we're actually going to work on


1373
12:17:18,400 --> 12:17:23,116
the log out so i can see also i've planned a lot of


1374
12:17:23,116 --> 12:17:27,596
information in that chapter for you so there's lots and lots and lots of things


1375
12:17:27,596 --> 12:17:30,480
to do so it's a very exciting chapter actually


1376
12:17:30,480 --> 12:17:34,160
the next chapter and but before you continue with that just ensure that you


1377
12:17:34,160 --> 12:17:38,240
go to the login screen and ensure that you log in with the user and you just


1378
12:17:38,240 --> 12:17:42,080
see this ugly done button here okay and


1379
12:17:42,080 --> 12:17:46,400
as i mentioned in the next chapter we're going to talk about displaying a simple


1380
12:17:46,400 --> 12:17:52,240
interface to the users who are logged in and also allow those logged in users to


1381
12:17:52,240 --> 12:17:56,640
log out so get some coffee tea if you want to or


1382
12:17:56,640 --> 12:18:01,436
whatever refreshments you want and i'll see you in the next chapter


1383
12:18:01,436 --> 12:18:04,880
hello and welcome to chapter 18 of this flutter course


1384
12:18:04,880 --> 12:18:10,080
in previous chapters we've talked a lot about login and


1385
12:18:10,080 --> 12:18:13,596
registration views and and we've also talked about


1386
12:18:13,596 --> 12:18:18,160
integration with firebase we now have pretty much like our login


1387
12:18:18,160 --> 12:18:22,800
and register view well i don't want to say we've got them


1388
12:18:22,800 --> 12:18:26,560
down but we have a basic login and a basic


1389
12:18:26,560 --> 12:18:29,116
registration view um


1390
12:18:29,116 --> 12:18:32,480
if you remember from the previous chapter we kind of left the application


1391
12:18:32,480 --> 12:18:36,480
and state that if the application detected that you


1392
12:18:36,480 --> 12:18:40,400
had um you were a logged in user and that you


1393
12:18:40,400 --> 12:18:44,840
had a verified email address then we showed kind of like a


1394
12:18:44,840 --> 12:18:50,800
dirty done text on the screen and i can bring bring the screen up on my android


1395
12:18:50,800 --> 12:18:53,840
phone here and you see we kind of left it in this


1396
12:18:53,840 --> 12:18:56,560
state and i'll bring the code up as well so


1397
12:18:56,560 --> 12:19:00,720
you just get reminded of what we were doing so we


1398
12:19:00,720 --> 12:19:05,840
left the application in this state that if the user wasn't null meaning that the


1399
12:19:05,840 --> 12:19:10,560
user was present and that his or her email address was actually


1400
12:19:10,560 --> 12:19:15,116
verified we simply did a print statement in there and


1401
12:19:15,116 --> 12:19:20,160
we left it like that meaning that since our builder function


1402
12:19:20,160 --> 12:19:22,480
of


1403
12:19:22,960 --> 12:19:26,080
let me actually bring up the right caption as well


1404
12:19:26,080 --> 12:19:30,000
since the builder function of the future builder requires that you return a


1405
12:19:30,000 --> 12:19:33,916
widget by moving your mouse over you can actually see that it says required


1406
12:19:33,916 --> 12:19:38,400
widget you need to return a widget from that function


1407
12:19:38,400 --> 12:19:44,480
since it requires that what we did is just we put a like a return cons text at


1408
12:19:44,480 --> 12:19:48,640
the end of all our if statements so if none of these were present there we're


1409
12:19:48,640 --> 12:19:53,840
still returning a text okay and since that was there and in this


1410
12:19:53,840 --> 12:19:57,520
user email verified we're not returning a widget


1411
12:19:57,520 --> 12:20:03,040
then the code falls through to this line meaning that if you're a logged in user


1412
12:20:03,040 --> 12:20:07,596
and you're verified then we're returning the text off done


1413
12:20:07,680 --> 12:20:12,960
so we need to kind of um now start because you see okay before i say that


1414
12:20:12,960 --> 12:20:15,276
sentence now that we


1415
12:20:15,276 --> 12:20:19,840
are have handled the email verification view so if you're if you're a logged in


1416
12:20:19,840 --> 12:20:23,200
user but your email isn't verified we displayed it verify email and if you're


1417
12:20:23,200 --> 12:20:25,916
if you aren't registered meaning that like you don't


1418
12:20:25,916 --> 12:20:30,240
have a user then we show the login view since we've got those down what we need


1419
12:20:30,240 --> 12:20:35,116
to do now is to work on the actual main ui of our application because what you


1420
12:20:35,116 --> 12:20:40,640
can see here that says done this should be the main ui of our application so


1421
12:20:40,640 --> 12:20:44,800
users who are logged in and their emails are ready are verified should see the


1422
12:20:44,800 --> 12:20:49,520
main ui of the application so in this chapter we're actually going to


1423
12:20:49,520 --> 12:20:55,680
work on the main ui of our application and then allow the user to log out from


1424
12:20:55,680 --> 12:20:59,680
our application as well so i'm just looking at my notes to ensure i'm


1425
12:20:59,680 --> 12:21:03,840
telling you all the stuff that i plan to tell you


1426
12:21:04,400 --> 12:21:09,116
so without further ado maybe we could actually get started with that so let's


1427
12:21:09,116 --> 12:21:14,720
go into our main dart file here and create a new


1428
12:21:14,720 --> 12:21:17,116
widget


1429
12:21:17,360 --> 12:21:20,480
so i'm going to bring it up here


1430
12:21:20,480 --> 12:21:23,436
and we're going to create a new stateful widget


1431
12:21:23,436 --> 12:21:28,000
called notes view and this notes you just imagine that it


1432
12:21:28,000 --> 12:21:30,960
is the it is the main ui of the application for


1433
12:21:30,960 --> 12:21:35,276
people who are logged in okay so as i mentioned before


1434
12:21:35,276 --> 12:21:40,320
stf to create a stateful widget and then we call it um


1435
12:21:40,320 --> 12:21:44,560
notes view i believe all right


1436
12:21:45,200 --> 12:21:51,116
now what we need to do let's see it doesn't even really have a


1437
12:21:51,116 --> 12:21:55,436
scaffold or anything so maybe that's what we need to do i'm just gonna


1438
12:21:55,436 --> 12:21:58,000
go here


1439
12:21:58,160 --> 12:22:03,040
so let's go create a scaffold and an app bar for it all right


1440
12:22:03,040 --> 12:22:06,960
so we go in here into where we're returning


1441
12:22:06,960 --> 12:22:11,520
a container at the moment we just say we want a scaffold


1442
12:22:11,520 --> 12:22:17,360
and for our scaffold we want an app bar and the app bar should just be an app


1443
12:22:17,360 --> 12:22:21,840
bar with a title of um const


1444
12:22:21,840 --> 12:22:24,480
text and we just say


1445
12:22:24,480 --> 12:22:28,640
what should we call it i don't think i've got notes for that to be honest


1446
12:22:28,640 --> 12:22:32,960
with you let's just call it your notes or something like that


1447
12:22:32,960 --> 12:22:36,480
i'm gonna actually go and have a look at my notes to see


1448
12:22:36,480 --> 12:22:40,800
what i've called it in that um


1449
12:22:40,800 --> 12:22:44,160
where i was actually preparing this course for you and i can see i've


1450
12:22:44,160 --> 12:22:48,480
written main ui so let's just do that let's just say main ui in here okay so


1451
12:22:48,480 --> 12:22:51,840
we have a scaffold in there


1452
12:22:51,916 --> 12:22:56,160
so and it just says main ui and the


1453
12:22:56,160 --> 12:23:00,000
body is empty at the moment so there is nobody and if you remember from previous


1454
12:23:00,000 --> 12:23:04,080
chapters when you return a scaffold and an app bar all it does is that it


1455
12:23:04,080 --> 12:23:07,840
creates kind of like depending on your theme but usually with the light theme


1456
12:23:07,840 --> 12:23:14,400
it creates a a bluish status bar and an app bar with white text for the app bars


1457
12:23:14,400 --> 12:23:16,960
title and the rest of the content of the


1458
12:23:16,960 --> 12:23:22,480
screen is just going to be white so it's kind of like an empty container kind of


1459
12:23:22,640 --> 12:23:27,200
okay now we have that in place


1460
12:23:27,200 --> 12:23:33,276
and we are going to go to our uh


1461
12:23:33,276 --> 12:23:38,720
future builder here in our home page and instead of doing this


1462
12:23:38,720 --> 12:23:42,640
returning text done we're going to remove that and now we're


1463
12:23:42,640 --> 12:23:46,320
going to get an error saying that well the case should not complete normally


1464
12:23:46,320 --> 12:23:51,840
try adding break or return and that's basically it's complaining in this


1465
12:23:51,840 --> 12:23:56,960
line of code here for me in line 41 it may be another line of code for you


1466
12:23:56,960 --> 12:24:01,360
so it's saying that well one of the cases of your your like the entire block


1467
12:24:01,360 --> 12:24:05,520
of code that you're placing in here it doesn't always end with a return and


1468
12:24:05,520 --> 12:24:09,680
that's exactly right because in the case of user being email verified we're not


1469
12:24:09,680 --> 12:24:12,400
returning a widget and what we're going to do in here we're just going to say


1470
12:24:12,400 --> 12:24:17,520
return const to you okay


1471
12:24:18,880 --> 12:24:25,200
all right um and i'm going to press command s there and now we did a hot uh


1472
12:24:25,200 --> 12:24:30,160
reload and you can see the main ui of the application


1473
12:24:30,160 --> 12:24:33,520
and in my notes i can see here that we're going to go and place a little


1474
12:24:33,520 --> 12:24:37,436
text in our scaffold here


1475
12:24:37,436 --> 12:24:40,640
and for your app bar


1476
12:24:40,640 --> 12:24:45,436
we're good to go for the body let's just say const text


1477
12:24:45,436 --> 12:24:48,800
hello world okay


1478
12:24:48,960 --> 12:24:53,596
so now we can see the hello world displayed right there


1479
12:24:53,596 --> 12:24:57,276
i can see i have a lot of notes to be honest with you with this chapter so i'm


1480
12:24:57,276 --> 12:25:00,960
really making sure that i'm looking at my notes while i'm giving you the


1481
12:25:00,960 --> 12:25:04,480
content to ensure that you're getting all the information that i plan for you


1482
12:25:04,480 --> 12:25:08,560
to get so i apologize if i'm looking a lot at my notes it's just to


1483
12:25:08,560 --> 12:25:12,960
yeah it's just to deliver the best content for you to be honest


1484
12:25:12,960 --> 12:25:17,596
okay so we've done that hello world now


1485
12:25:17,596 --> 12:25:23,840
what we need to talk about is um the app bar class and i've provided a


1486
12:25:23,840 --> 12:25:27,360
link here for you which i'm going to


1487
12:25:27,360 --> 12:25:32,960
open on my screen and then bring to this screen so you can also see it


1488
12:25:32,960 --> 12:25:36,960
increase the size a little bit and perhaps also do this layout so you can


1489
12:25:36,960 --> 12:25:41,520
see it's um the caption as well so


1490
12:25:41,520 --> 12:25:46,240
you can see for appbar the documentation just says a material design app bar an


1491
12:25:46,240 --> 12:25:49,840
app bar consists of a toolbar and potentially other widgets so


1492
12:25:49,840 --> 12:25:54,560
all you need to do really or all you need to know about an app bar is


1493
12:25:54,560 --> 12:25:57,520
that um it it


1494
12:25:57,520 --> 12:26:01,640
it is able to display


1495
12:26:01,680 --> 12:26:06,160
various widgets i mean pretty much everything in flutter is a widget so an


1496
12:26:06,160 --> 12:26:12,560
app bar isn't an exception and an app bar consists of various


1497
12:26:12,560 --> 12:26:15,756
components the default app bar allows you to


1498
12:26:15,756 --> 12:26:20,720
display a title as you can see here in the title by default has its own styling


1499
12:26:20,720 --> 12:26:24,720
it means that it has its own left and top and


1500
12:26:24,720 --> 12:26:28,240
bottom margins so by default it's like displayed vertically in the middle of


1501
12:26:28,240 --> 12:26:32,000
your app bar as you can see in the main ui of our application so


1502
12:26:32,000 --> 12:26:35,200
pretty much every material component pretty much


1503
12:26:35,200 --> 12:26:38,800
everything you display on the screen has a theme


1504
12:26:38,800 --> 12:26:42,240
okay and an app bar has its own theme and it has


1505
12:26:42,240 --> 12:26:47,276
its own capabilities so what we're going to do the where


1506
12:26:47,276 --> 12:26:51,116
we're going to use the app bar in the main ui of our application


1507
12:26:51,116 --> 12:26:55,680
is not only to display a title but it's also to display


1508
12:26:55,680 --> 12:27:02,240
a um a little button to the far right that the user can click


1509
12:27:02,240 --> 12:27:06,720
on or tap on in in our case tap on because there'll


1510
12:27:06,720 --> 12:27:11,200
be indirect users are going to run our application on mobile devices so they're


1511
12:27:11,200 --> 12:27:16,720
going to tap and if we allowed the our application to be run on desktops


1512
12:27:16,720 --> 12:27:20,480
then they'd be able to click and maybe even tap on if they're running for for


1513
12:27:20,480 --> 12:27:23,680
instance um microsoft's


1514
12:27:23,680 --> 12:27:28,160
what is it called surface book or surface


1515
12:27:28,160 --> 12:27:31,916
lap tablets


1516
12:27:31,916 --> 12:27:36,400
so this is what an app bar is as is like


1517
12:27:36,400 --> 12:27:40,080
the gist of it and there's information here in the documentation you can see


1518
12:27:40,080 --> 12:27:43,200
here it says there's a leading space and then there's or you can actually put a


1519
12:27:43,200 --> 12:27:47,436
widget in the leading and then there's a title and then some other actions and


1520
12:27:47,436 --> 12:27:53,596
these are the things we're actually going to use actions in this um


1521
12:27:53,596 --> 12:27:57,916
in this section in this chapter of our uh


1522
12:27:57,916 --> 12:28:01,436
flutter course so you can see here for instance there's actually


1523
12:28:01,436 --> 12:28:07,436
code on how to configure an app bar with some button you can see you can press


1524
12:28:07,436 --> 12:28:11,520
the button and then you get a snack bar right here


1525
12:28:11,520 --> 12:28:15,756
okay so keep this in mind you can have a look at the documentation i really


1526
12:28:15,756 --> 12:28:21,200
actually suggest that you do that and um


1527
12:28:21,200 --> 12:28:24,400
and you can you can spend some time reading through the documentation but i


1528
12:28:24,400 --> 12:28:27,436
don't think you need to get absorbed in the documentation so much but just have


1529
12:28:27,436 --> 12:28:33,360
a look at the various parts of an app bar and try it for yourself okay


1530
12:28:33,680 --> 12:28:36,560
so um


1531
12:28:36,560 --> 12:28:41,040
i can see that i've told you about the documentaries i'm gonna um


1532
12:28:41,040 --> 12:28:44,640
i'm gonna move past that


1533
12:28:45,360 --> 12:28:51,840
so that that part is done um and now what i think we need to do


1534
12:28:51,840 --> 12:28:57,436
um is to talk about uh this print statement and why we were getting an


1535
12:28:57,436 --> 12:29:00,240
error here you see print


1536
12:29:00,240 --> 12:29:04,480
if if i if i put a print here and if i say print hello world


1537
12:29:04,480 --> 12:29:08,640
you usually get information here saying avoid print


1538
12:29:08,640 --> 12:29:13,116
calls in production code okay so


1539
12:29:13,116 --> 12:29:17,040
before we move past this because you've probably seen this quite a lot in this


1540
12:29:17,040 --> 12:29:21,680
course that i've placed print statements and then we can like for instance if i


1541
12:29:21,680 --> 12:29:26,560
bring up the debug console and just do command s on my mac or control so linux


1542
12:29:26,560 --> 12:29:29,040
and windows in order to hot reload you'll see


1543
12:29:29,040 --> 12:29:33,756
let's see actually email verify heart reload i'll restart here


1544
12:29:33,756 --> 12:29:38,080
oops see i can see that it crashed that's okay so i'm gonna go and bring up


1545
12:29:38,080 --> 12:29:41,520
scr cpy again


1546
12:29:42,560 --> 12:29:47,276
and these things do happen and that's completely fine so and i'm gonna need to


1547
12:29:47,276 --> 12:29:50,640
run the application again because i actually lost my connection with that


1548
12:29:50,640 --> 12:29:55,200
device but while that is doing its job i'm gonna tell you also about


1549
12:29:55,200 --> 12:29:59,040
print and versus a log you see


1550
12:29:59,040 --> 12:30:01,916
uh print is usually called a poor man's


1551
12:30:01,916 --> 12:30:05,436
debugger in that um if you're not a software developer you probably don't


1552
12:30:05,436 --> 12:30:08,800
know about even debugging what that means but what debugging is is it


1553
12:30:08,800 --> 12:30:11,756
essentially is is where there is a problem in your source code but you


1554
12:30:11,756 --> 12:30:15,596
don't know really where so you try to step through various lines of code in


1555
12:30:15,596 --> 12:30:18,960
your application and refine what the problem is


1556
12:30:18,960 --> 12:30:22,000
so um a lot of a lot of times when people


1557
12:30:22,000 --> 12:30:25,916
don't really either they don't have the time to debug or they believe that the


1558
12:30:25,916 --> 12:30:29,916
debugger is just too slow they start putting print statements in their


1559
12:30:29,916 --> 12:30:32,960
application and um by putting print statements in their


1560
12:30:32,960 --> 12:30:36,560
application they can kind of track where they where the application is going


1561
12:30:36,560 --> 12:30:40,800
through the various lines of code and if for instance they put a print statement


1562
12:30:40,800 --> 12:30:44,160
in a place of code where they didn't expect the application to end up and


1563
12:30:44,160 --> 12:30:47,840
then they'd be like oh okay i ended up in this code block i shouldn't have so


1564
12:30:47,840 --> 12:30:51,840
let me just check why i ended up here so it's kind of called a poor amount


1565
12:30:51,840 --> 12:30:57,360
debugging because print is a piece of code that you actually place in your


1566
12:30:57,360 --> 12:31:02,320
code so sometimes print isn't the desirable thing to do


1567
12:31:02,320 --> 12:31:06,160
in banking applications for instance you should be extremely careful what you


1568
12:31:06,160 --> 12:31:10,960
print because these things get logged and you you may think well okay they get


1569
12:31:10,960 --> 12:31:15,200
logged on that phone uh what is the problem with that


1570
12:31:15,200 --> 12:31:19,596
the problem with logging things even if it's on the phone is that you you must


1571
12:31:19,596 --> 12:31:23,840
know that the operating systems android and ios usually like the most popular


1572
12:31:23,840 --> 12:31:28,960
ones right now they keep track of your lot so these logs are actually stored in


1573
12:31:28,960 --> 12:31:32,720
a place on the operating system so you can actually read them back later so


1574
12:31:32,720 --> 12:31:36,720
there is a buffer so this information that your application may be printing to


1575
12:31:36,720 --> 12:31:41,116
the console isn't completely private except that it is stored on the phone


1576
12:31:41,116 --> 12:31:45,596
even if it's for a short while while it gets replaced by a new buffer if your


1577
12:31:45,596 --> 12:31:49,596
phone ends up in the wrong hands someone can actually get a hold of your lock so


1578
12:31:49,596 --> 12:31:55,040
imagine a banking application logs your like a login information username


1579
12:31:55,040 --> 12:31:59,596
password all that detail and even if it's only for that application you may


1580
12:31:59,596 --> 12:32:04,240
think but someone else it may actually end up in the wrong hand so that's what


1581
12:32:04,240 --> 12:32:07,756
this information is telling you avoid print calls in production code okay so


1582
12:32:07,756 --> 12:32:11,756
there is another way of doing this um


1583
12:32:11,756 --> 12:32:16,880
instead of doing prints you can actually use log


1584
12:32:16,880 --> 12:32:20,400
in your in your code and we're gonna i believe


1585
12:32:20,400 --> 12:32:24,880
we're actually going to talk about in this chapter


1586
12:32:24,880 --> 12:32:30,840
i think we're gonna talk about logging so let me have a look here in my


1587
12:32:30,840 --> 12:32:36,800
notes um yes we're actually going to talk about logging instead of printing


1588
12:32:36,800 --> 12:32:39,520
so just keep that in mind that there's a


1589
12:32:39,520 --> 12:32:43,360
better way of doing print statements if if they're if that's what you want to do


1590
12:32:43,360 --> 12:32:47,680
if that's what you want to see on the console so we're gonna fix that


1591
12:32:47,680 --> 12:32:51,040
soon and this is you see hello world information that was printed by this


1592
12:32:51,040 --> 12:32:54,880
print statement okay so sorry about that that was just a little detour but i i


1593
12:32:54,880 --> 12:32:58,080
thought it was necessary to tell you especially if you haven't done software


1594
12:32:58,080 --> 12:33:03,436
development before okay we've done the return notes view in


1595
12:33:03,436 --> 12:33:06,720
the home page we shouldn't have any print in the home page and you can see


1596
12:33:06,720 --> 12:33:10,240
this is our home page right now and we don't have any print statements let me


1597
12:33:10,240 --> 12:33:14,560
change the view a little bit all right


1598
12:33:14,560 --> 12:33:20,080
so um so what i'm gonna now describe to you is


1599
12:33:20,080 --> 12:33:26,240
that we need a an enumeration that describes our various um


1600
12:33:26,240 --> 12:33:30,320
app bar items that the user can click on you see


1601
12:33:30,320 --> 12:33:35,436
when we create our app bar and this app bar will in itself be able


1602
12:33:35,436 --> 12:33:38,800
to display something called a pop-up all


1603
12:33:38,800 --> 12:33:43,840
right so i haven't shown you how this is going to work by the end of this chapter


1604
12:33:43,840 --> 12:33:48,320
so it may be a little bit difficult to understand but just imagine that we have


1605
12:33:48,320 --> 12:33:52,480
our ui here and what we need to achieve in this chapter is to place a little


1606
12:33:52,480 --> 12:33:56,880
button here with like a dot dot either horizontally or vertically i don't


1607
12:33:56,880 --> 12:34:00,000
really know what the icon is going to be so some sort of a button here upon


1608
12:34:00,000 --> 12:34:05,040
pressing which the user will get a little fine nice


1609
12:34:05,040 --> 12:34:10,160
like a drop down and in this drop down then you can place various items like


1610
12:34:10,160 --> 12:34:13,436
log out settings blah blah blah so imagine we


1611
12:34:13,436 --> 12:34:18,800
have a drop down by pressing that button and upon pressing the log out button


1612
12:34:18,800 --> 12:34:21,756
then we're going to display a dialect to the user saying are you sure you want to


1613
12:34:21,756 --> 12:34:27,596
log out from the application so this works very nicely i mean when


1614
12:34:27,596 --> 12:34:31,680
before i say this works very nicely maybe i should explain that by pressing


1615
12:34:31,680 --> 12:34:35,360
each one of these items in the pop-up menu that we're going to display to the


1616
12:34:35,360 --> 12:34:39,916
user we are going to get a call back from the system saying oh this item got


1617
12:34:39,916 --> 12:34:43,040
pressed and you need to tell the system what


1618
12:34:43,040 --> 12:34:47,840
this item is you can either give it like an integer like a


1619
12:34:47,840 --> 12:34:52,960
numerical value or a string or even better better you can give it an


1620
12:34:52,960 --> 12:34:55,520
enumeration value if you remember from the


1621
12:34:55,520 --> 12:34:58,960
chapters where we talked about dart basics we talked about enumerations and


1622
12:34:58,960 --> 12:35:04,560
why they're important and and that they make things very easy because when you


1623
12:35:04,560 --> 12:35:08,960
specifying your enumeration and put cases in your animation


1624
12:35:08,960 --> 12:35:12,640
and then you you let me actually change this to


1625
12:35:12,640 --> 12:35:15,596
also do not do so sorry about i just remember that


1626
12:35:15,596 --> 12:35:20,800
and you give those innovation values to your pop-up menu items by press but by


1627
12:35:20,800 --> 12:35:24,560
the user pressing on any of those items you will then get that enumeration value


1628
12:35:24,560 --> 12:35:29,756
back so you can do a switch statement in your a callback and say oh which item


1629
12:35:29,756 --> 12:35:33,756
got called was it this case of the enumeration so instead of you doing like


1630
12:35:33,756 --> 12:35:36,640
integer comparisons or string comparisons you can actually use


1631
12:35:36,640 --> 12:35:41,116
enumerations which make your life a lot easier


1632
12:35:41,116 --> 12:35:44,800
so we are going to talk about that


1633
12:35:44,800 --> 12:35:49,116
soon as you can see an enumeration that describes our pop-up and we're going to


1634
12:35:49,116 --> 12:35:52,560
work on that soon


1635
12:35:53,040 --> 12:35:57,756
okay we talked about that um


1636
12:35:57,756 --> 12:36:02,400
all right so now let's talk about pop-up menu button


1637
12:36:02,400 --> 12:36:06,080
versus pop-up menu item and as you can see the caption says


1638
12:36:06,080 --> 12:36:11,040
they're usually used together and let's go actually bring up safari here and i'm


1639
12:36:11,040 --> 12:36:15,520
going to say pop-up menu item flutter and i'm going to bring up the document


1640
12:36:15,520 --> 12:36:20,560
documentation up here okay so we can have a look at it together


1641
12:36:20,560 --> 12:36:24,240
as you can see it says an item in a material design pop-up menu so this is


1642
12:36:24,240 --> 12:36:28,400
the actual menu item itself so if you imagine we're displaying a drop down


1643
12:36:28,400 --> 12:36:34,400
menu every item in that pop-up menu item is of type sorry


1644
12:36:34,400 --> 12:36:40,800
every item in the pop-up menu is of type pop-up menu item all right


1645
12:36:40,800 --> 12:36:45,200
and you can see a pop-up menu item in itself has


1646
12:36:45,200 --> 12:36:51,596
a i mean a pop-up menu item is a generic in advanced um a dart chapter we also


1647
12:36:51,596 --> 12:36:56,000
talked about generics and what a generic item in this case a pop-up menu item


1648
12:36:56,000 --> 12:37:01,116
basically is is that it has a value of this type that


1649
12:37:01,116 --> 12:37:05,040
it says is off in this case a pop-up menu item


1650
12:37:05,040 --> 12:37:09,200
is why farther is a pop-up menu item is of


1651
12:37:09,200 --> 12:37:12,400
type y farther now we don't really know why if either


1652
12:37:12,400 --> 12:37:17,040
why farther is but it could just be an enumeration okay and you can see here


1653
12:37:17,040 --> 12:37:19,436
now after you've decided decided that a


1654
12:37:19,436 --> 12:37:23,840
pop-up menu item carries a value of of this type then its


1655
12:37:23,840 --> 12:37:28,240
value should actually be specified and i can see that there is a case called


1656
12:37:28,240 --> 12:37:31,276
harder in that animation that you've assigned


1657
12:37:31,276 --> 12:37:35,200
to your pop-up menu item okay now


1658
12:37:35,200 --> 12:37:41,360
what is a pop-up menu button so let's search here pop-up menu button okay


1659
12:37:41,360 --> 12:37:45,116
let's go into the documentation here and you can see it says displays a menu when


1660
12:37:45,116 --> 12:37:50,000
pressed and calls unselected when the menu is dismissed all right so


1661
12:37:50,000 --> 12:37:53,040
um what you need to know is that the pop-up


1662
12:37:53,040 --> 12:37:58,720
menu button is the actual button that we will place on kind of on


1663
12:37:58,720 --> 12:38:02,956
our app bar upon pres upon pressing which it will display


1664
12:38:02,956 --> 12:38:08,720
a menu and you can see here in the code you see here


1665
12:38:08,720 --> 12:38:14,080
the pop-up menu button has an unselected callback and it has an


1666
12:38:14,080 --> 12:38:18,160
item builder and items inside the pop-up menu item


1667
12:38:18,160 --> 12:38:21,520
then are sorry the items inside the pop-up menu


1668
12:38:21,520 --> 12:38:26,000
button are of type pop-up menu item so


1669
12:38:26,000 --> 12:38:30,800
imagine then you have the pop-up menu button as like the parent


1670
12:38:30,800 --> 12:38:34,800
and then you will have its item builder and each of which of these items are of


1671
12:38:34,800 --> 12:38:40,160
type pop-up menu item and that's exactly what we're actually gonna do


1672
12:38:40,160 --> 12:38:44,720
in this chapter okay i'm gonna close that window i don't


1673
12:38:44,720 --> 12:38:50,800
think we need the safari window here um so


1674
12:38:50,800 --> 12:38:55,756
now i think i explained this part of the caption a little bit just now about when


1675
12:38:55,756 --> 12:39:00,160
we talked about the pop-up menu item but you can see here i've said pop-up menu


1676
12:39:00,160 --> 12:39:03,360
item has a value let's look at the code for pop-up menu items so maybe we could


1677
12:39:03,360 --> 12:39:08,160
just actually right here pop-up menu item in our code and i'm going to


1678
12:39:08,160 --> 12:39:14,160
command click on it and you can also see that a pop-up menu item has this


1679
12:39:14,160 --> 12:39:18,560
property called value okay and as you can see a pop-up menu item as i


1680
12:39:18,560 --> 12:39:23,756
mentioned before is a generic class that carries a value of type t and type d


1681
12:39:23,756 --> 12:39:27,916
basically when you see t in generics it just means something that you specified


1682
12:39:27,916 --> 12:39:34,160
so anything that's specified inside the less than and greater than size is a


1683
12:39:34,160 --> 12:39:38,560
generic name which then gets replaced at a compile


1684
12:39:38,560 --> 12:39:42,480
time with the type that you as a programmer specify okay


1685
12:39:42,480 --> 12:39:45,916
so um that's the code for the pop-up menu


1686
12:39:45,916 --> 12:39:50,080
item and you're more than welcome to drill down more into into that code to


1687
12:39:50,080 --> 12:39:54,320
understand it better so


1688
12:39:54,320 --> 12:39:59,756
let's then go and create uh our enumeration that we've now talked


1689
12:39:59,756 --> 12:40:02,560
about and


1690
12:40:02,560 --> 12:40:08,000
i'm just going to go in here right above the notes view


1691
12:40:08,000 --> 12:40:13,200
and let's then define an enumeration called menu action and in there we're


1692
12:40:13,200 --> 12:40:17,756
gonna have a case called log out okay so let's say enum


1693
12:40:17,756 --> 12:40:22,240
menu action we said we're gonna call it and then we have a case called log out


1694
12:40:22,240 --> 12:40:26,956
in there so if i do command s to hover reload then nothing happens and the dart


1695
12:40:26,956 --> 12:40:32,640
formatter i can actually see they form our code very well for us


1696
12:40:33,436 --> 12:40:37,116
so the next part that we need to take care of


1697
12:40:37,116 --> 12:40:42,160
is to actually display our pop-up menu button you can see in notes app view


1698
12:40:42,160 --> 12:40:48,880
state app bar create a pop-up menu button of type menu action


1699
12:40:48,880 --> 12:40:52,560
so in the app bar in order for us to be


1700
12:40:52,560 --> 12:40:58,560
able to display a little action there we need to um


1701
12:40:58,640 --> 12:41:02,880
actually go to the app bar here and you can see there is a property


1702
12:41:02,880 --> 12:41:07,200
called actions which is it says it's a list of widgets all right so we're gonna


1703
12:41:07,200 --> 12:41:13,116
say we need actions there okay i'm also just going to ensure that i have


1704
12:41:13,116 --> 12:41:18,320
everything here so i can see the code as well and my notes


1705
12:41:18,320 --> 12:41:21,756
i can take in my notes that we've talked about things


1706
12:41:21,756 --> 12:41:25,520
like the menu action


1707
12:41:25,520 --> 12:41:29,116
um all right and now we're gonna create the


1708
12:41:29,116 --> 12:41:33,520
um pop-up menu button all right so


1709
12:41:33,520 --> 12:41:36,956
you see the action as we saw in the source code on the website that i


1710
12:41:36,956 --> 12:41:40,800
displayed you and that i displayed to you as the documentation inside the


1711
12:41:40,800 --> 12:41:44,720
actions of our app bar then we're going to create items of type pop-up menu


1712
12:41:44,720 --> 12:41:49,436
button okay so let's go ahead and do that


1713
12:41:49,520 --> 12:41:53,436
pop-up menu button all right and then you can see it has an


1714
12:41:53,436 --> 12:41:56,880
item builder okay and and


1715
12:41:56,880 --> 12:42:01,436
i think it's actually an item builder and also unselected so


1716
12:42:01,436 --> 12:42:04,400
let's first actually take care of the unselected so i'm going to put


1717
12:42:04,400 --> 12:42:08,640
unselected command space in visual studio code on a mac and control space


1718
12:42:08,640 --> 12:42:12,320
in linux and windows in order to get this dialog get some help from visual


1719
12:42:12,320 --> 12:42:17,116
studio code to complete this code for us you see upon selected it's going to


1720
12:42:17,116 --> 12:42:22,956
return the value to us and we're telling darth in here that our pop-up menu


1721
12:42:22,956 --> 12:42:29,276
button actually manages values of type menu action all right which is what we


1722
12:42:29,276 --> 12:42:34,080
specified right here okay and you can see we're getting an error


1723
12:42:34,080 --> 12:42:37,680
saying that the named parameter item builder is required okay and we'll


1724
12:42:37,680 --> 12:42:43,360
provide that now so let's go and create a


1725
12:42:43,360 --> 12:42:47,040
item builder here get help from visual studio code with


1726
12:42:47,040 --> 12:42:50,956
the same command that i mentioned to you before


1727
12:42:50,956 --> 12:42:56,720
and in here then we're going to create a constant of a pop-up menu item


1728
12:42:56,720 --> 12:43:00,480
and we're going to say that this menu item actually manages


1729
12:43:00,480 --> 12:43:04,880
values of type menu action as well okay and we're going to say according to the


1730
12:43:04,880 --> 12:43:10,480
documentation remember every pop-up menu item has a value so a value associated


1731
12:43:10,480 --> 12:43:15,680
with it which then in turn gets passed to this unselected function


1732
12:43:15,680 --> 12:43:20,240
when this pop-up menu item is tapped okay so then we're going to say in this


1733
12:43:20,240 --> 12:43:26,000
case it has the value of menu actions when you actually log out


1734
12:43:26,000 --> 12:43:30,720
and this child is just going to be a text


1735
12:43:30,720 --> 12:43:33,436
that says log out


1736
12:43:33,436 --> 12:43:38,160
okay and as a const as well actually the entire thing is a cons so we don't have


1737
12:43:38,160 --> 12:43:42,560
to do that okay so we just uh let me have a look item


1738
12:43:42,560 --> 12:43:46,720
builder menu actions constant body might return


1739
12:43:46,720 --> 12:43:50,720
normally okay okay i see because the item builder if


1740
12:43:50,720 --> 12:43:54,320
we move our mouse over it


1741
12:43:54,720 --> 12:43:59,360
if i move the mouse over item blue you can actually see that it needs a list of


1742
12:43:59,360 --> 12:44:03,596
pop-up menu entry and you can see pop-up menu item if you


1743
12:44:03,596 --> 12:44:08,560
go to this code is actually of type pop-up menu entry so the problem we're


1744
12:44:08,560 --> 12:44:12,400
seeing here is that it says you aren't returning a list but you're just


1745
12:44:12,400 --> 12:44:15,680
returning an item so we're going to say return a list


1746
12:44:15,680 --> 12:44:21,840
and in here we just say turn that item okay


1747
12:44:21,840 --> 12:44:25,116
like that can we actually make that entire list


1748
12:44:25,116 --> 12:44:30,720
const so yeah that works as well okay i'm gonna do command s and what you'll


1749
12:44:30,720 --> 12:44:36,240
see here now is uh we've actually added log out


1750
12:44:36,240 --> 12:44:39,916
um so and you'll see here now by pressing


1751
12:44:39,916 --> 12:44:43,916
this then we'll get a beautiful pop-up menu


1752
12:44:43,916 --> 12:44:46,956
here and there is a log out item in it all


1753
12:44:46,956 --> 12:44:49,360
right so


1754
12:44:49,360 --> 12:44:56,000
that logout text there is the child of our pop-up menu item so


1755
12:44:56,000 --> 12:45:00,080
don't worry i mean don't get confused with the child and the value what you


1756
12:45:00,080 --> 12:45:04,956
need to know is that the child is what the user sees and the value is what you


1757
12:45:04,956 --> 12:45:09,436
as a programmer see because when the user then taps on that item


1758
12:45:09,436 --> 12:45:13,756
your unselected is going to get called and then we'll get that value so just to


1759
12:45:13,756 --> 12:45:18,000
test that let's go back to our print statement and say value


1760
12:45:18,000 --> 12:45:22,720
and i'm going to bring up the console here going to clear it and i'm gonna


1761
12:45:22,720 --> 12:45:27,756
change the ui layout a little bit so you see it better i'm gonna do command s and


1762
12:45:27,756 --> 12:45:31,116
then i'm gonna tap on this log out button poof


1763
12:45:31,116 --> 12:45:36,400
you'll see now our unselected got called and the out value


1764
12:45:36,400 --> 12:45:40,080
which was what you associated with your pop-up menu item


1765
12:45:40,080 --> 12:45:45,520
got printed here and got sent sent to the unselected


1766
12:45:45,520 --> 12:45:51,276
okay so we've done that part we've handled it with double quotes we haven't


1767
12:45:51,276 --> 12:45:56,800
really handled but we're just printing its value right now okay


1768
12:45:56,800 --> 12:45:59,756
so i'm just gonna go through some of the things that i


1769
12:45:59,756 --> 12:46:06,000
plan to talk to you about um


1770
12:46:06,480 --> 12:46:09,360
uh okay


1771
12:46:09,360 --> 12:46:12,880
all right so we can see that the print statement is


1772
12:46:12,880 --> 12:46:17,756
um doing its job so in the previous part of this chapter i


1773
12:46:17,756 --> 12:46:21,840
talked about why print usually isn't a good idea and


1774
12:46:21,840 --> 12:46:26,240
there is a better way of doing print and that is with logging so


1775
12:46:26,240 --> 12:46:30,560
dart itself comes pre-packed with a package called


1776
12:46:30,560 --> 12:46:34,560
developer and you can easily import developer and


1777
12:46:34,560 --> 12:46:38,956
inside the developer tools for dart there is a good function called log and


1778
12:46:38,956 --> 12:46:44,000
you can use log which is a more trustworthy and more even configurable


1779
12:46:44,000 --> 12:46:47,360
version of print and i'm going to show you how to do that


1780
12:46:47,360 --> 12:46:52,320
so in your import statements let me increase the size of the screen a little


1781
12:46:52,320 --> 12:46:56,956
bit so you see it better say import dart from dart import


1782
12:46:56,956 --> 12:47:01,200
developer okay now i haven't talked so much about


1783
12:47:01,200 --> 12:47:05,840
import statements before but import is actually configurable as well so in here


1784
12:47:05,840 --> 12:47:09,916
for instance if you look at the code inside import this dart developer


1785
12:47:09,916 --> 12:47:14,956
there's a lot of stuff that you might not need in your application okay so by


1786
12:47:14,956 --> 12:47:19,756
importing um a package or a library in your


1787
12:47:19,756 --> 12:47:23,116
program you're pretty much importing everything that that package also


1788
12:47:23,116 --> 12:47:27,040
imports so in this case extension profile or service timeline


1789
12:47:27,040 --> 12:47:31,276
and these things then get these things will then be available in


1790
12:47:31,276 --> 12:47:36,956
your workspace just by you pressing for instance for me is control space on my


1791
12:47:36,956 --> 12:47:41,756
macintosh so all these symbols will then be available right here so there's tons


1792
12:47:41,756 --> 12:47:45,680
and tons of things that are available right now in your application without


1793
12:47:45,680 --> 12:47:50,080
you having to do anything just because you imported quite a lot of things now


1794
12:47:50,080 --> 12:47:55,040
by importing the dart developer package in this case also you're making


1795
12:47:55,040 --> 12:48:00,560
all those symbols available kind of like globally inside this file at least and


1796
12:48:00,560 --> 12:48:04,080
some developers don't like that some developers kind of like to limit the


1797
12:48:04,080 --> 12:48:08,480
amount of symbols available and only have the symbols available that


1798
12:48:08,480 --> 12:48:12,240
they actually work with okay and because of this there is a good


1799
12:48:12,240 --> 12:48:16,080
functionality for import and dart where you can say show


1800
12:48:16,080 --> 12:48:20,160
and by doing a show you are telling dart that um


1801
12:48:20,160 --> 12:48:25,360
you only want to import a specific part of this package so the specific part


1802
12:48:25,360 --> 12:48:29,040
that you're interested in is a function called log


1803
12:48:29,040 --> 12:48:32,240
now after doing this you can basically go to


1804
12:48:32,240 --> 12:48:36,800
your application and then say log now a lot of developers also don't like


1805
12:48:36,800 --> 12:48:41,276
this because they think oh log where did that come from so


1806
12:48:41,276 --> 12:48:45,916
um if you want to be more specific where functions come from especially if


1807
12:48:45,916 --> 12:48:51,116
they're not your own functions or maybe even if you have few log functions maybe


1808
12:48:51,116 --> 12:48:57,116
you even have a log function in in this code right here like if you say void log


1809
12:48:57,116 --> 12:49:01,520
um like this and then you type log here


1810
12:49:01,520 --> 12:49:04,640
i mean it's there are so many logs available now i don't even know which


1811
12:49:04,640 --> 12:49:08,240
one is which so what


1812
12:49:08,240 --> 12:49:14,080
dart allows you to do is to give an alias to your import so for instance if


1813
12:49:14,080 --> 12:49:19,116
you want to use the log function that is provided in this developer package for


1814
12:49:19,116 --> 12:49:24,240
you you can actually give an alias to this entire package in this source file


1815
12:49:24,240 --> 12:49:27,680
which is the main dart file so you can say as


1816
12:49:27,680 --> 12:49:33,040
i'm going to say dev tools okay so what happens here is that the log function


1817
12:49:33,040 --> 12:49:38,956
now is not available as it was before except you have to say devtools log and


1818
12:49:38,956 --> 12:49:43,040
then you'll see that there's a log function and that's the only function


1819
12:49:43,040 --> 12:49:46,480
available inside devtools now because it says show


1820
12:49:46,480 --> 12:49:51,276
if you hadn't done the show here then devtools will have everything that


1821
12:49:51,276 --> 12:49:56,800
dev tools or the developer package in this case uh allowed you to


1822
12:49:56,800 --> 12:50:02,400
or import it into your workspace okay so do the code then as this import devtools


1823
12:50:02,400 --> 12:50:05,596
show log and the reason i'm explaining all of these is because i think these


1824
12:50:05,596 --> 12:50:09,276
are so important to understand and that


1825
12:50:09,276 --> 12:50:13,436
you need to get them like as soon as possible and now that i'm


1826
12:50:13,436 --> 12:50:17,116
explaining these things in such detail i'm not going to explain them anywhere


1827
12:50:17,116 --> 12:50:24,000
else in inside this chapter so i don't want to have like half explained


1828
12:50:24,000 --> 12:50:26,560
things that we actually need to fully


1829
12:50:26,560 --> 12:50:30,320
understand and explain half of it now and then half of it later because then


1830
12:50:30,320 --> 12:50:34,720
you may not be able to chain the information to get the entire


1831
12:50:34,720 --> 12:50:39,596
picture so that's why i'm explaining things sometimes in such great detail


1832
12:50:39,596 --> 12:50:43,756
okay now that we've done as devtools show log let's go to this print


1833
12:50:43,756 --> 12:50:49,520
statement that we put here in our notes in the unselected and then


1834
12:50:49,520 --> 12:50:52,400
say dev tools


1835
12:50:52,956 --> 12:50:55,840
log okay and you can see now that it's


1836
12:50:55,840 --> 12:51:01,116
complaining to us because it says the devtools log it doesn't allow us to


1837
12:51:01,116 --> 12:51:05,756
print a value and if you have a look at the log fi and log function signature it


1838
12:51:05,756 --> 12:51:11,116
expects a message of type string but our a menu action is an enumeration but you


1839
12:51:11,116 --> 12:51:15,360
can always say to string on an enumeration value in order to make it a


1840
12:51:15,360 --> 12:51:21,040
string so um so what we're going to do then is to


1841
12:51:21,040 --> 12:51:24,720
go and click on this log out and now you see a


1842
12:51:24,720 --> 12:51:29,200
log item being printed to the screen and it's a little bit more distinct as well


1843
12:51:29,200 --> 12:51:33,596
you can see now now that we're not using print using log make sure that your log


1844
12:51:33,596 --> 12:51:38,080
items are a little bit more distinguished inside the debug console


1845
12:51:38,080 --> 12:51:42,400
so that's also a good plus


1846
12:51:45,680 --> 12:51:51,116
all right let's go now to the next item


1847
12:51:51,916 --> 12:51:55,680
so what we're gonna do here now we have the log out


1848
12:51:55,680 --> 12:52:00,000
button here so i'm going to tap on it it says log out we have that


1849
12:52:00,000 --> 12:52:03,916
already present what we need to do now is upon pressing


1850
12:52:03,916 --> 12:52:08,560
this item we are going to display a little dialogue to the user


1851
12:52:08,560 --> 12:52:12,000
now if you're a designer you may be familiar with a dialogue and the


1852
12:52:12,000 --> 12:52:15,360
dialogue is basically like an alert displayed on the screen depending on


1853
12:52:15,360 --> 12:52:19,520
what type of operating system you're running on but both android and ios and


1854
12:52:19,520 --> 12:52:23,916
ipad os mac os windows everything they have their own


1855
12:52:23,916 --> 12:52:28,480
way of handling dialogues and dialogues are usually like a small little window


1856
12:52:28,480 --> 12:52:32,800
displayed usually in the center of the main screen where that application is


1857
12:52:32,800 --> 12:52:37,200
placed and the dialogues are configurable usually with a title with


1858
12:52:37,200 --> 12:52:42,480
the description text or even images and usually with some action buttons which


1859
12:52:42,480 --> 12:52:47,116
are called cta or call to action so


1860
12:52:47,116 --> 12:52:51,200
that is the exact same case here in flutter so upon pressing this log out


1861
12:52:51,200 --> 12:52:54,800
button we're going to display a dialogue to the user saying oh you want we see


1862
12:52:54,800 --> 12:52:57,916
that you want to log out are you sure you want to log out and then like a


1863
12:52:57,916 --> 12:53:04,720
cancel or no button and a yes button which is the call to action or cta okay


1864
12:53:04,720 --> 12:53:09,680
so um what we need to do now is to create that


1865
12:53:09,680 --> 12:53:14,400
function a function that can display an alert dialog


1866
12:53:14,400 --> 12:53:19,436
to the user and you can see here that in the caption i've mentioned write a login


1867
12:53:19,436 --> 12:53:22,640
function to display a dialog and its


1868
12:53:22,640 --> 12:53:27,040
signature is kind of like it returns a feature of boolean and if you think i


1869
12:53:27,040 --> 12:53:30,480
mean if you really think about it a dialogue that asks the user to log out


1870
12:53:30,480 --> 12:53:35,520
either has a cancel or a null button or sorry it has


1871
12:53:35,520 --> 12:53:39,360
either a cancel or no button and a


1872
12:53:39,360 --> 12:53:45,116
a call to action which does the log out so it either logs out or it doesn't


1873
12:53:45,116 --> 12:53:49,276
or basically it either confirms that you need to be logged out or it says no you


1874
12:53:49,276 --> 12:53:52,956
shouldn't be like that so it's true false okay so a boolean so boolean is


1875
12:53:52,956 --> 12:53:56,400
perfect for this case um and what we're going to do now is to


1876
12:53:56,400 --> 12:54:00,720
write a function that returns a future of that boolean saying true you have to


1877
12:54:00,720 --> 12:54:07,756
be logged out or false not and we're going to call it show logout dialog okay


1878
12:54:07,756 --> 12:54:10,640
so let's go at the bottom of this file and


1879
12:54:10,640 --> 12:54:14,800
and say future and bull


1880
12:54:14,800 --> 12:54:18,080
and as i've mentioned in the caching we're going to call the show log out


1881
12:54:18,080 --> 12:54:23,276
dialog and we say build context because we need actually context to display our


1882
12:54:23,276 --> 12:54:28,040
log out button on


1883
12:54:29,040 --> 12:54:34,400
okay a lot of information now um i'm gonna go actually a little bit back to


1884
12:54:34,400 --> 12:54:38,800
the previous caption uh because i forgot to mention something


1885
12:54:38,800 --> 12:54:43,040
there um and the important thing to mention here


1886
12:54:43,040 --> 12:54:48,956
are two things called show dialogue and alert dialogue now show dialog


1887
12:54:48,956 --> 12:54:53,596
actually let's go to alert dialog first alert dialog we can see is a class is a


1888
12:54:53,596 --> 12:54:59,436
stateless widget which defines the the dialog that gets displayed to the user


1889
12:54:59,436 --> 12:55:03,436
itself so it doesn't have any concept of being displayed to the screen or


1890
12:55:03,436 --> 12:55:07,436
what happens when the dialogue is created after that point it doesn't care


1891
12:55:07,436 --> 12:55:11,436
about that so it just performs the action of creating an alert


1892
12:55:11,436 --> 12:55:14,880
dialogue for you that's for alert dialogue but


1893
12:55:14,880 --> 12:55:18,560
you need a way to display that alert dialogue to the user and the way to do


1894
12:55:18,560 --> 12:55:24,000
that is with show i believe it's called show dialogue


1895
12:55:24,000 --> 12:55:26,800
and you can see here show dialog is a


1896
12:55:26,800 --> 12:55:33,200
function that returns an optional future or sorry a future of an optional value


1897
12:55:33,200 --> 12:55:36,480
there's a difference between an optional future and a future of an optional value


1898
12:55:36,480 --> 12:55:40,800
so in this case it's a future that always gets returned but it optionally


1899
12:55:40,800 --> 12:55:46,320
contains a value okay and you can see it says okay give me a context and then you


1900
12:55:46,320 --> 12:55:50,320
have to provide a builder to me okay and this builder should return a widget so


1901
12:55:50,320 --> 12:55:54,720
what we're gonna say is going to say show the dialogue you can see here


1902
12:55:54,720 --> 12:55:58,080
and and and builder we're going to get help from


1903
12:55:58,080 --> 12:56:00,880
visual studio code to complete it all right


1904
12:56:00,880 --> 12:56:04,640
and in here in our builder what we're going to do is we're going to actually


1905
12:56:04,640 --> 12:56:09,360
create our alert dialog okay so uh


1906
12:56:09,360 --> 12:56:13,680
let's go back to this caption so we know what we're doing what what the actual


1907
12:56:13,680 --> 12:56:17,916
goal is here okay so in


1908
12:56:17,916 --> 12:56:22,800
the builder you're responsibility is to create an alert dialogue so let's say we


1909
12:56:22,800 --> 12:56:27,040
return an alert dialog which is a widget as you


1910
12:56:27,040 --> 12:56:31,596
saw before and it has a title you can see the title


1911
12:56:31,596 --> 12:56:36,956
is a widget actually right like here is a widget


1912
12:56:37,040 --> 12:56:40,956
for the title we're going to create a const of text and


1913
12:56:40,956 --> 12:56:47,040
the text i can see we set sign out here so we're basically configuring the alert


1914
12:56:47,040 --> 12:56:50,640
dialog okay right now the title


1915
12:56:50,640 --> 12:56:55,276
then for the contents or the content also is a widget and


1916
12:56:55,276 --> 12:57:00,320
we're going to say this is also a const text and we're going to ask the user


1917
12:57:00,320 --> 12:57:05,680
are you sure you want to sign out okay just like that


1918
12:57:05,680 --> 12:57:11,040
now that we've put the title and the content in there we need to specify the


1919
12:57:11,040 --> 12:57:15,200
parameters call actions and you can see the type of this actions is list of


1920
12:57:15,200 --> 12:57:20,480
widgets all right and this is like the buttons that the user will see on this


1921
12:57:20,480 --> 12:57:24,000
alert dialog what we're going to do is going to


1922
12:57:24,000 --> 12:57:28,160
create two text buttons so i'm going to say text button all right


1923
12:57:28,160 --> 12:57:31,520
and don't worry about all these errors and things that we're seeing here this


1924
12:57:31,520 --> 12:57:34,956
is because as i mentioned in one of the previous chapters or one of the first


1925
12:57:34,956 --> 12:57:38,640
introduction chapters i think is because we have an extension here


1926
12:57:38,640 --> 12:57:43,520
called error lens and aero lens is extend expanding all these errors that


1927
12:57:43,520 --> 12:57:47,200
are happening as we type and it's displaying it on the screen it looks


1928
12:57:47,200 --> 12:57:51,520
really scary it looks like we're doing everything wrong but these these bro


1929
12:57:51,520 --> 12:57:55,596
these errors actually do make sense if you look at it it says text button the


1930
12:57:55,596 --> 12:58:00,480
named parameter on press is required but there's no corresponding blah blah so we


1931
12:58:00,480 --> 12:58:04,480
need to fix these things okay so let's go to text button and say unpressed get


1932
12:58:04,480 --> 12:58:08,880
help from visual studio go to complete it and then after that i'm pressing say


1933
12:58:08,880 --> 12:58:12,320
child so this first button is actually gonna


1934
12:58:12,320 --> 12:58:16,400
be our cancel button okay


1935
12:58:16,640 --> 12:58:21,596
so that's the first text button and copy this text button now and paste it in


1936
12:58:21,596 --> 12:58:27,360
here and instead of cancel this time say log out all right and


1937
12:58:27,360 --> 12:58:32,880
like that now you see there's a lot less information displayed on the screen and


1938
12:58:32,880 --> 12:58:37,276
it looks a lot better okay so


1939
12:58:37,276 --> 12:58:40,880
now we have an alert with two buttons cancel log out but you can see upon


1940
12:58:40,880 --> 12:58:44,880
pressing those buttons we aren't doing anything here okay and we need to fix


1941
12:58:44,880 --> 12:58:49,360
this actually so let's go ahead and first say we are returning this show


1942
12:58:49,360 --> 12:58:55,436
dialog which returns the value of boolean and now you see we get a general


1943
12:58:55,436 --> 12:58:59,436
error here saying that wait you said you're returning a future of bull but


1944
12:58:59,436 --> 12:59:03,520
this show dialogue of bull is going to return an optional so what what do you


1945
12:59:03,520 --> 12:59:07,200
mean so this is dark getting a little bit confused


1946
12:59:07,200 --> 12:59:11,756
quite correctly actually is saying that you saying that you return a boolean but


1947
12:59:11,756 --> 12:59:14,880
we know that show a dialogue returns an optional boolean so what do you want to


1948
12:59:14,880 --> 12:59:18,320
do about it and a way to fix this to be honest with you is


1949
12:59:18,320 --> 12:59:22,160
you append something called a then function


1950
12:59:22,160 --> 12:59:26,000
to the entire show dialogue saying that okay


1951
12:59:26,000 --> 12:59:29,276
if this show dialogue isn't able to return a boolean then i'm going to


1952
12:59:29,276 --> 12:59:33,756
return false otherwise return the value of the show dialogue so


1953
12:59:33,756 --> 12:59:36,800
um because i mean you may be now asking why


1954
12:59:36,800 --> 12:59:40,160
wouldn't the show dialogue return a value it either has a cancel or a logout


1955
12:59:40,160 --> 12:59:44,080
button but remember on android for instance you have these physical keys


1956
12:59:44,080 --> 12:59:49,520
i'm going to change the layout so you see this button down here if i show a


1957
12:59:49,520 --> 12:59:53,116
dialogue on the screen android users can always press this little button which


1958
12:59:53,116 --> 12:59:57,680
will then change to an arrow down that they can press on it to dismiss the


1959
12:59:57,680 --> 13:00:03,360
dialogue so they they have the ability to dismiss a dialogue without actually


1960
13:00:03,360 --> 13:00:07,200
answering a question that the dialogue asks them and ios users can sometimes


1961
13:00:07,200 --> 13:00:12,956
also tap outside a dialogue in order to cancel that dialogue so that is why show


1962
13:00:12,956 --> 13:00:16,080
dialogue says i may not be able to return


1963
13:00:16,080 --> 13:00:20,480
the value that i promised kind of to return should this or tap on any of my


1964
13:00:20,480 --> 13:00:25,680
buttons quite correctly okay so append a then statement let me change the screen


1965
13:00:25,680 --> 13:00:31,756
layout here so append event statement here which is


1966
13:00:31,756 --> 13:00:38,160
a function that gets called should this future complete so if the


1967
13:00:38,160 --> 13:00:42,080
user dismisses this dialogue this future is going to complete but it won't have a


1968
13:00:42,080 --> 13:00:46,880
value you see it is an optional bull in that case so in here we say either you


1969
13:00:46,880 --> 13:00:50,800
return a value if it's present or you return false


1970
13:00:50,800 --> 13:00:56,000
that's it okay now you see dart is quite happy about this all right


1971
13:00:56,000 --> 13:01:02,720
now what we need to also do is you see the way we're gonna


1972
13:01:02,720 --> 13:01:06,880
the way we're gonna display this dialogue is to


1973
13:01:06,880 --> 13:01:09,756
tell flutter that hey


1974
13:01:09,756 --> 13:01:15,756
this like pause everything you're doing and display this dialogue modelly on the


1975
13:01:15,756 --> 13:01:18,480
screen and this dialog is going to grab focus


1976
13:01:18,480 --> 13:01:22,720
from everything else that's on the screen so the user kind of has to go and


1977
13:01:22,720 --> 13:01:26,720
choose an item unless they want to cancel that item by for instance


1978
13:01:26,720 --> 13:01:30,320
pressing the physical key on an android phone


1979
13:01:30,320 --> 13:01:33,040
now when we display the dialog we're going


1980
13:01:33,040 --> 13:01:36,880
to use the build contents context and the navigator


1981
13:01:36,880 --> 13:01:42,800
and display the screen just like we display like a named route so


1982
13:01:42,800 --> 13:01:47,840
the show dialogue function here inside our text buttons on press it is our


1983
13:01:47,840 --> 13:01:52,720
responsibility as the alert dialogue to to dismiss ourselves


1984
13:01:52,720 --> 13:01:57,436
and it's our responsibility to actually pass a value to this show dialogue and


1985
13:01:57,436 --> 13:02:02,640
say hey this button was pressed and this is the value that it returned


1986
13:02:02,640 --> 13:02:06,240
so what you to do on these unpressed is to


1987
13:02:06,240 --> 13:02:08,680
say navigator of


1988
13:02:08,680 --> 13:02:13,360
context and then you'll say pop and then you


1989
13:02:13,360 --> 13:02:18,400
provide your value the boolean value in this case so upon cancelling we'll pop


1990
13:02:18,400 --> 13:02:22,480
with the value of false and we copy this code and we go into the


1991
13:02:22,480 --> 13:02:26,480
on press of the second text button which is log out and in this case we should we


1992
13:02:26,480 --> 13:02:29,276
say that you should basically return true


1993
13:02:29,276 --> 13:02:31,680
all right


1994
13:02:32,400 --> 13:02:35,520
that was a lot of code i understand that let's just make sure formatting is


1995
13:02:35,520 --> 13:02:39,596
correct as well put commas here before your parentheses end so the formatting


1996
13:02:39,596 --> 13:02:42,720
is a little bit nicer in that case so


1997
13:02:42,720 --> 13:02:46,880
that's our show log out dialog


1998
13:02:46,880 --> 13:02:49,276
function


1999
13:02:50,956 --> 13:02:56,956
now as the caption says what we need to do is to go and display this


2000
13:02:57,040 --> 13:03:01,520
dialogue to the user and the way to do that is


2001
13:03:01,520 --> 13:03:05,276
upon the user tapping this log out button


2002
13:03:05,276 --> 13:03:09,276
here you see the value is a menu action so what we're going to do


2003
13:03:09,276 --> 13:03:14,560
is going to um do a switch statement so we say switch


2004
13:03:14,560 --> 13:03:18,956
value and what i really like about


2005
13:03:18,956 --> 13:03:22,000
uh the this


2006
13:03:22,000 --> 13:03:25,276
warning that we're getting here saying the missing cause clause for log out


2007
13:03:25,276 --> 13:03:28,560
dart is already understanding that um


2008
13:03:28,560 --> 13:03:33,756
there's a case statement and there's a case in this menu action enumeration


2009
13:03:33,756 --> 13:03:37,756
that we're not handling and it's asking us to do that so you could tap on this


2010
13:03:37,756 --> 13:03:40,880
little here icon and say add missing case


2011
13:03:40,880 --> 13:03:45,200
clauses or you can say command dot on mac or control dot on linux and windows


2012
13:03:45,200 --> 13:03:49,680
to bring up this menu also and i've also understood from my conversations with


2013
13:03:49,680 --> 13:03:53,756
others on linkedin that this option is also available on vim


2014
13:03:53,756 --> 13:03:58,720
and other editors because this is part of the language front end actually so


2015
13:03:58,720 --> 13:04:03,520
it's not only a thing you can do in visual studio code thankfully


2016
13:04:03,520 --> 13:04:07,200
so go and add the missing case clauses


2017
13:04:07,200 --> 13:04:12,320
and in this case what we need to do now is to display our alert so we're going


2018
13:04:12,320 --> 13:04:18,956
to say await should log out or something and we say sorry final


2019
13:04:18,956 --> 13:04:22,880
should log out is equal to wait and now we're going to call this function that


2020
13:04:22,880 --> 13:04:27,680
we created show logout dialog okay


2021
13:04:28,880 --> 13:04:33,040
and now it's complaining saying that you can't do wait because this function here


2022
13:04:33,040 --> 13:04:37,040
is unselected is not asynchronous so now we're gonna make it asynchronous and


2023
13:04:37,040 --> 13:04:40,640
then we're gonna say devtools log


2024
13:04:40,640 --> 13:04:48,640
should log out to a string okay so command s and let's go to our ui now


2025
13:04:48,640 --> 13:04:51,756
and i'm going because we're doing devtools log i'm going to bring up the


2026
13:04:51,756 --> 13:04:56,000
debug console here clear it so you see better and i'm going to press the log


2027
13:04:56,000 --> 13:04:59,520
out now you see our dialogue is displayed to the user saying sign up are


2028
13:04:59,520 --> 13:05:04,400
you sure you want to sign up with our buttons pressing the cancel button where


2029
13:05:04,400 --> 13:05:07,756
we're then going to come to the unselected here and get the value of


2030
13:05:07,756 --> 13:05:12,800
false boof you see right there pressing the same button again saying


2031
13:05:12,800 --> 13:05:18,720
log out and then log out here we're going to get the value of true


2032
13:05:19,436 --> 13:05:23,680
wow that was also a lot of information so i'm just going to go to my notes and


2033
13:05:23,680 --> 13:05:26,720
ensure that i've explained everything that i want to explain


2034
13:05:26,720 --> 13:05:31,276
all right and that was done


2035
13:05:31,276 --> 13:05:34,560
now now that we've displayed amnata we can


2036
13:05:34,560 --> 13:05:38,560
actually display a dialog to the user get the true and false values back we


2037
13:05:38,560 --> 13:05:43,040
need to also ensure that we're actually logging out from firebase as well so the


2038
13:05:43,040 --> 13:05:46,480
true or false isn't enough we need to log out from firebase and the way to do


2039
13:05:46,480 --> 13:05:50,240
that as you can see in the code here in the captions is firebase auth instance


2040
13:05:50,240 --> 13:05:55,756
sign out okay so um


2041
13:05:55,756 --> 13:05:59,040
what we need to do then is to call a function


2042
13:05:59,040 --> 13:06:04,320
so we say in here um let me bring up my notes


2043
13:06:04,320 --> 13:06:10,560
so we say if should log out


2044
13:06:11,436 --> 13:06:15,840
then we are going to do that because you see this should log out says true if you


2045
13:06:15,840 --> 13:06:19,200
do have to log out and false if you don't have to so we just made sure that


2046
13:06:19,200 --> 13:06:23,360
it's true okay so you can either say it should log out or you can say if it


2047
13:06:23,360 --> 13:06:28,880
shouldn't log out then return and then you do the actual log out after


2048
13:06:28,880 --> 13:06:33,040
this so it completely depends on your style i'm just gonna do if should log


2049
13:06:33,040 --> 13:06:36,956
out because it makes more like grammatical sense for me if i should log


2050
13:06:36,956 --> 13:06:41,040
out and do this then saying if i shouldn't log out don't do this


2051
13:06:41,040 --> 13:06:44,880
it's a little bit of a preference but you're free to to choose your own style


2052
13:06:44,880 --> 13:06:48,956
as you go on so let's say firebase off


2053
13:06:48,956 --> 13:06:53,840
um instance as we can see here and then we say sign out


2054
13:06:53,840 --> 13:06:57,756
and you can see that it returns a future avoid


2055
13:06:57,756 --> 13:07:02,840
so let's call it and then we say wait oof all


2056
13:07:02,840 --> 13:07:09,116
right and now that we've done that uh after we sign the user out then


2057
13:07:09,116 --> 13:07:13,680
there's no point keeping the user in this user interface because this user


2058
13:07:13,680 --> 13:07:17,360
interface is only for people who are logged into the application and signing


2059
13:07:17,360 --> 13:07:21,596
out from firebase means that well you're not logged out anymore okay or you're


2060
13:07:21,596 --> 13:07:26,956
not signed in anymore sorry you're not logged in anymore signed in anymore


2061
13:07:26,956 --> 13:07:31,436
they could be used interchangeably sign in or log in and log out and sign up


2062
13:07:31,436 --> 13:07:37,436
depends of the lingo that you prefer to use in your in your project


2063
13:07:37,436 --> 13:07:41,276
i also use these terms interchangeably so if i say sometimes sign out or log


2064
13:07:41,276 --> 13:07:45,360
out you know what i mean all right in this case after you sign up


2065
13:07:45,360 --> 13:07:48,880
we also want to send you to the login screen because that's like the in in my


2066
13:07:48,880 --> 13:07:52,480
opinion at least it's the most common thing to do if you sign out of an


2067
13:07:52,480 --> 13:07:55,596
application you then go back to the login screen okay


2068
13:07:55,596 --> 13:07:58,400
otherwise if you for instance are developing a


2069
13:07:58,400 --> 13:08:03,276
website and then there is like a a forum website or something and


2070
13:08:03,276 --> 13:08:08,800
the user goes and logs out you may send them them to not to the login page but


2071
13:08:08,800 --> 13:08:12,560
but you may actually send them to like a read-only copy of all the forms


2072
13:08:12,560 --> 13:08:16,400
available in your in your website but since we don't have


2073
13:08:16,400 --> 13:08:20,956
any content to display to a user who has signed out the only thing we can display


2074
13:08:20,956 --> 13:08:24,800
to them is the login screen because we don't have any other content to display


2075
13:08:24,800 --> 13:08:29,756
okay so upon signing out we're gonna send you to the login screen so let's do


2076
13:08:29,756 --> 13:08:32,800
that now so we're gonna see navigator


2077
13:08:32,800 --> 13:08:38,480
as you can see in the caption of um of our context


2078
13:08:38,480 --> 13:08:43,436
and we're saying push remove push name and remove until and then we're going to


2079
13:08:43,436 --> 13:08:47,680
say login leave like that


2080
13:08:47,680 --> 13:08:53,520
and we don't need the route and just like that command s


2081
13:08:53,596 --> 13:09:01,116
all right does this make sense so let's then see if this works um


2082
13:09:01,276 --> 13:09:04,800
so let's have a look at that uh let me also


2083
13:09:04,800 --> 13:09:07,520
go to my notes to ensure that i'm explaining


2084
13:09:07,520 --> 13:09:10,520
everything


2085
13:09:10,720 --> 13:09:14,720
yep great and let's just make sure that sign


2086
13:09:14,720 --> 13:09:19,116
out is working okay so log out we say no just to test that that is working and


2087
13:09:19,116 --> 13:09:23,116
then log out and then we say log out here and i can see i'm even using the


2088
13:09:23,116 --> 13:09:26,000
language like interchangeably here which is not a good idea are you sure you want


2089
13:09:26,000 --> 13:09:30,240
to sign out and then a log out button it's not perfect but it works


2090
13:09:30,240 --> 13:09:33,680
you're free to change this if you want to and then if you say log out then we


2091
13:09:33,680 --> 13:09:37,436
should go back to the login screen perfect


2092
13:09:37,436 --> 13:09:41,200
that is working but something isn't working quite right and i'll tell you


2093
13:09:41,200 --> 13:09:44,480
soon but before we do that let's go to the terminal and


2094
13:09:44,480 --> 13:09:49,520
go to here i have two terminals one for scr cpy and the other terminal is for


2095
13:09:49,520 --> 13:09:53,916
doing commits messages i'm going to bring up actually so you see it better


2096
13:09:53,916 --> 13:09:56,640
so what we need to do as we've done in the previous chapter is now that we have


2097
13:09:56,640 --> 13:10:00,640
git and github set up let's commit our work and we're


2098
13:10:00,640 --> 13:10:05,916
going to call this step three okay so that's what we're going to do now we


2099
13:10:05,916 --> 13:10:09,596
are going to commit our work and we're also going to tag it


2100
13:10:09,596 --> 13:10:13,360
so let's say git status just to have a look at what we've changed i can see


2101
13:10:13,360 --> 13:10:17,680
that there's only changes in the main dark file and you can also say git if so


2102
13:10:17,680 --> 13:10:21,916
you can see what you've changed you see all the green ones are new and all the


2103
13:10:21,916 --> 13:10:25,040
red ones are things that you've basically removed or replaced with new


2104
13:10:25,040 --> 13:10:29,040
content for instance this one was removed this


2105
13:10:29,040 --> 13:10:32,956
one was removed and this one was added all right so quite a bit of information


2106
13:10:32,956 --> 13:10:38,400
here let's say it gets at all so we add all those to the staging environment


2107
13:10:38,400 --> 13:10:42,560
in order to commit them and then i'm going to say git commit with a message


2108
13:10:42,560 --> 13:10:46,560
of step three and let's have a look at our logs i can


2109
13:10:46,560 --> 13:10:51,680
see initial commit which is step one and then step two and then step three


2110
13:10:51,680 --> 13:10:57,040
and then you will push these changes or push the commits to github all right


2111
13:10:57,040 --> 13:11:00,240
now i'm gonna clear that terminal here and we also need to tag our code


2112
13:11:00,240 --> 13:11:04,480
remember commits are not the same thing as tags so i'm going to say git tag step


2113
13:11:04,480 --> 13:11:10,240
3 and put your tags as well


2114
13:11:10,880 --> 13:11:18,400
so that pushed the tags as well great wow that was a lot of work um


2115
13:11:18,400 --> 13:11:22,640
but uh i have to kind of say congratulations for you to


2116
13:11:22,640 --> 13:11:26,640
keep up with me in this chapter as we went through all these different bits


2117
13:11:26,640 --> 13:11:30,880
and pieces that we had to put in place for the log out to work but like at such


2118
13:11:30,880 --> 13:11:34,800
an integral part of our application that i think it's worth spending some time


2119
13:11:34,800 --> 13:11:38,480
explaining how things are working also talk about a little bit of like basics


2120
13:11:38,480 --> 13:11:42,560
of the show dialogue and menu items pop-ups


2121
13:11:42,560 --> 13:11:46,240
etc etc so once we talk about them now we don't have to talk more about them


2122
13:11:46,240 --> 13:11:49,916
later remember i told you something isn't


2123
13:11:49,916 --> 13:11:55,116
quite working right here and that's what we're going to fix in


2124
13:11:55,116 --> 13:11:59,276
the next chapter which is fixing the login screen and i'll tell you what is


2125
13:11:59,276 --> 13:12:04,800
isn't working if you now go in here and put your email address


2126
13:12:05,360 --> 13:12:09,596
and put your password in you can see pressing login doesn't do anything


2127
13:12:09,596 --> 13:12:13,276
it just logs into the application because if you go to login view and we


2128
13:12:13,276 --> 13:12:15,596
have a look at the code that we wrote here


2129
13:12:15,596 --> 13:12:19,116
let me get rid of the console here if you look at the


2130
13:12:19,116 --> 13:12:22,640
button that was pressed upon pressing it all we're doing is just we're doing a


2131
13:12:22,640 --> 13:12:27,596
print user credential and you can see that if you go here oh i can see i


2132
13:12:27,596 --> 13:12:32,956
actually got wrong password so let me go and say foo barbaz


2133
13:12:32,956 --> 13:12:35,916
oh now we got the user credential here you


2134
13:12:35,916 --> 13:12:38,800
see but still nothing worked even if you


2135
13:12:38,800 --> 13:12:41,360
provide the correct user credentials then


2136
13:12:41,360 --> 13:12:45,756
it's not working as it should and by that i mean it's not taking you to the


2137
13:12:45,756 --> 13:12:49,596
next step what should happen in the next step all right


2138
13:12:49,596 --> 13:12:52,560
so that is what we're gonna fix in the next


2139
13:12:52,560 --> 13:12:57,276
chapter we're gonna work on fixing the login view so for this chapter all you


2140
13:12:57,276 --> 13:13:02,080
all you and i did is to uh take care of our main user interface


2141
13:13:02,080 --> 13:13:08,240
we got rid of that ugly uh done text widget that we were displaying


2142
13:13:08,240 --> 13:13:14,160
at the end of the previous chapter and we have now a main ui with a


2143
13:13:14,160 --> 13:13:17,436
menu bar item on top right and pressing that


2144
13:13:17,436 --> 13:13:20,160
displays a pop-up menu


2145
13:13:20,160 --> 13:13:24,956
which has an enum item in it upon pressing which then you


2146
13:13:24,956 --> 13:13:29,360
get a dialog and then if you cancel um


2147
13:13:29,360 --> 13:13:33,116
you go back to the main ui and if you say log out or sign out you go back to


2148
13:13:33,116 --> 13:13:36,560
the long view so there was a lot of work that we did and congratulations for you


2149
13:13:36,560 --> 13:13:39,200
for keeping up so


2150
13:13:39,200 --> 13:13:43,276
uh get ready then and whatever you want to do get some refreshments and that we


2151
13:13:43,276 --> 13:13:47,040
will fix our login screen in the next chapter


2152
13:13:47,040 --> 13:13:50,640
hello and welcome to chapter 19 of the swata course


2153
13:13:50,640 --> 13:13:53,756
in the previous chapter we worked on log out


2154
13:13:53,756 --> 13:14:00,000
and after we completed log out you saw that we went to the login screen and um


2155
13:14:00,000 --> 13:14:03,200
that it wasn't really working as it should in that


2156
13:14:03,200 --> 13:14:07,916
what it was doing is um that it was logging you in with firebase and it was


2157
13:14:07,916 --> 13:14:12,800
printing the user credentials to the debug console


2158
13:14:12,800 --> 13:14:16,880
or the cons basically the console and we were seeing the logs


2159
13:14:16,880 --> 13:14:22,320
but the login view wasn't actually going to the notes view


2160
13:14:22,320 --> 13:14:25,680
so as you can see here it says the login doesn't route properly it just stays


2161
13:14:25,680 --> 13:14:29,040
there and that's does nothing upon successful login and


2162
13:14:29,040 --> 13:14:32,240
that's exactly what we're going to address in this chapter this chapter is


2163
13:14:32,240 --> 13:14:35,756
going to be quite a short one because all we're basically doing is just doing


2164
13:14:35,756 --> 13:14:40,480
some cleanup and we're going to go from the login screen to um the login view to


2165
13:14:40,480 --> 13:14:44,080
the note c and we're going to remove some um


2166
13:14:44,080 --> 13:14:46,956
law print statements um and this is like


2167
13:14:46,956 --> 13:14:50,800
what what is gonna happen as you become more and more of a software developer


2168
13:14:50,800 --> 13:14:53,840
and that sometimes you do the heavy lifting as we did in the previous


2169
13:14:53,840 --> 13:15:00,080
chapter we took care of uh logout and you learned a lot about new classes


2170
13:15:00,080 --> 13:15:06,560
like the buttons and the menus and unpressed of those menu items and then


2171
13:15:06,560 --> 13:15:09,680
after you've done that you'll probably spend some time to clean up the code and


2172
13:15:09,680 --> 13:15:13,200
this is one of those chapters that we're going to do


2173
13:15:13,200 --> 13:15:15,680
a cleanup


2174
13:15:16,160 --> 13:15:20,400
so let's have a look at the first thing that we need to remedy and that is our


2175
13:15:20,400 --> 13:15:22,880
print statements um


2176
13:15:22,880 --> 13:15:28,756
let's have a look at the code i'm going to bring up our code


2177
13:15:29,276 --> 13:15:35,840
so i think we call it my nodes so here i think is the right window


2178
13:15:35,840 --> 13:15:39,840
and i'm going to get rid of the debug console right there and i'm going to


2179
13:15:39,840 --> 13:15:44,800
bring up scrcpy which i have somewhere around here


2180
13:15:44,800 --> 13:15:48,720
okay so you can see in login view we have quite a lot of print statements at


2181
13:15:48,720 --> 13:15:52,240
the moment they just say print user not found wrong password user credentials


2182
13:15:52,240 --> 13:15:56,080
and etc and we also have a register view here


2183
13:15:56,080 --> 13:16:02,000
which has a few print statements so let's go and remedy this and use log as


2184
13:16:02,000 --> 13:16:08,160
we talked about it before so let's say i'm going to change the um


2185
13:16:08,480 --> 13:16:11,596
view layout here so you see the code a little bit better


2186
13:16:11,596 --> 13:16:15,040
let's go and use log and if you don't know the difference between log and


2187
13:16:15,040 --> 13:16:18,080
print nice drawing i strongly suggest that you watch the previous chapters


2188
13:16:18,080 --> 13:16:22,400
where we talked about this and why it is actually advised to use log instead of


2189
13:16:22,400 --> 13:16:25,436
print and login itself isn't perfect it has


2190
13:16:25,436 --> 13:16:29,040
it's not like problems but


2191
13:16:29,040 --> 13:16:33,436
not problems maybe downsize or things that you need to be aware of and i


2192
13:16:33,436 --> 13:16:37,040
highly suggest that you read the documentations for log as well but um in


2193
13:16:37,040 --> 13:16:41,200
this case as you can see it's also suggested by the analyzer not to use a


2194
13:16:41,200 --> 13:16:45,436
print so we're going to change that to both in the login view and registry


2195
13:16:45,436 --> 13:16:49,596
we're going to change that to using log so let's go ahead and say


2196
13:16:49,596 --> 13:16:56,080
import dart developer and as devtools show log all right now i'm gonna copy


2197
13:16:56,080 --> 13:17:01,436
paste this in here as well and at the same time i'm gonna clean up the code a


2198
13:17:01,436 --> 13:17:05,116
little bit in register view all right


2199
13:17:05,276 --> 13:17:10,080
okay we've done the import in login view and register you want to save those and


2200
13:17:10,080 --> 13:17:13,756
now let's go to the login view and remove all these print statements and


2201
13:17:13,756 --> 13:17:17,596
instead just say devtools log


2202
13:17:17,596 --> 13:17:21,756
and we're just going to say user credential to string okay remember print


2203
13:17:21,756 --> 13:17:25,360
can print an object if you look at the


2204
13:17:25,360 --> 13:17:28,800
information for print here excuse me


2205
13:17:28,800 --> 13:17:32,720
you can see the function signatures is that i can print an optional


2206
13:17:32,720 --> 13:17:37,840
object which is kind of peculiar that it can print an optional object i mean


2207
13:17:37,840 --> 13:17:40,160
um does it mean that i don't have to


2208
13:17:40,160 --> 13:17:44,240
actually pass a parameter no it has a positional argument but that argument


2209
13:17:44,240 --> 13:17:49,040
can be not so i could say string um


2210
13:17:49,040 --> 13:17:53,916
value is null like this like an optional and just pass that here so i animal


2211
13:17:53,916 --> 13:17:59,436
still work that's what it means so let's have fun it can accept an optional


2212
13:17:59,436 --> 13:18:03,276
object and remember every object has a function


2213
13:18:03,276 --> 13:18:07,916
called to string so this two string functions actually coming from objects


2214
13:18:07,916 --> 13:18:12,720
so we can command click on it and you'll see that uh let's see oh that


2215
13:18:12,720 --> 13:18:21,200
this is the two string of user credential but if we look at um


2216
13:18:21,840 --> 13:18:26,000
if we create for instance how do i explain the tostring and where it comes


2217
13:18:26,000 --> 13:18:27,756
from um


2218
13:18:27,756 --> 13:18:32,080
let's let's do it like this let's say we have an object


2219
13:18:32,080 --> 13:18:37,276
optional object value and that is null now i can say value to string you see


2220
13:18:37,276 --> 13:18:41,040
there's a function there so these are the op these are the


2221
13:18:41,040 --> 13:18:47,840
functions and properties that any object exposes and every class


2222
13:18:47,840 --> 13:18:50,080
in dart is


2223
13:18:50,080 --> 13:18:55,276
implicitly a subclass of object including user credential meaning that


2224
13:18:55,276 --> 13:19:00,400
user credential has inherited the tostring


2225
13:19:00,560 --> 13:19:05,276
function from the object class however if you looked at the source code for


2226
13:19:05,276 --> 13:19:08,480
this particular two string you can see it comes from package firebase off


2227
13:19:08,480 --> 13:19:14,480
firebase off the dart meaning that user credential this class has overwritten


2228
13:19:14,480 --> 13:19:18,880
the functionality of tostring meaning that it is returning its own string to


2229
13:19:18,880 --> 13:19:22,880
represent itself all right and that's this long string that we saw


2230
13:19:22,880 --> 13:19:25,596
actually we can't see it now but let me see if i


2231
13:19:25,596 --> 13:19:30,080
can log in here so you see it poof


2232
13:19:30,080 --> 13:19:33,596
and you see this user credential that is printed right here


2233
13:19:33,596 --> 13:19:38,320
let me change the screen layout a little bit so this user credential


2234
13:19:38,320 --> 13:19:41,596
so this is being printed or this is being


2235
13:19:41,596 --> 13:19:45,680
returned and calculated by the to string function on user


2236
13:19:45,680 --> 13:19:48,480
credential and you can see it looks like this user credential and then additional


2237
13:19:48,480 --> 13:19:50,880
information and then prints the additional information and that's


2238
13:19:50,880 --> 13:19:54,480
exactly what you can see here you see additional user info and then there's


2239
13:19:54,480 --> 13:19:58,240
credential which i believe


2240
13:19:59,040 --> 13:20:03,436
it should be somewhere around here is anonymous is here credential that's


2241
13:20:03,436 --> 13:20:10,160
the key and then another one called user and where could that be


2242
13:20:10,160 --> 13:20:14,880
it's somewhere in here i can't see it really but it should be somewhere in


2243
13:20:14,880 --> 13:20:17,916
here user password i mean to be honest if you


2244
13:20:17,916 --> 13:20:22,240
copied this like if i actually copied this and brought it into its own file


2245
13:20:22,240 --> 13:20:28,160
and search for user boom boom let's see


2246
13:20:28,320 --> 13:20:31,680
it's a little bit strange that it's all in one line but that's okay too i'm


2247
13:20:31,680 --> 13:20:36,240
going to search for user boom and that is the user information you can


2248
13:20:36,240 --> 13:20:42,160
see user is user display name etc so that's two string okay the reason i'm


2249
13:20:42,160 --> 13:20:45,436
explaining all of this is because you need to know that print can print an


2250
13:20:45,436 --> 13:20:50,640
object but log can't log needs a string so if you look at the function signature


2251
13:20:50,640 --> 13:20:53,436
it says give me a message of type string okay


2252
13:20:53,436 --> 13:20:56,000
so um that's what we're doing here we're


2253
13:20:56,000 --> 13:21:00,240
saying devtools log and then user credentials to string


2254
13:21:00,240 --> 13:21:05,040
we need to do the tostring okay so go ahead copy this dev tools log and


2255
13:21:05,040 --> 13:21:07,840
then let's change all these print statements


2256
13:21:07,840 --> 13:21:12,560
to say that that's what needs to be printed now or logged


2257
13:21:12,560 --> 13:21:16,080
change all of those in your login view so that you don't have any more warnings


2258
13:21:16,080 --> 13:21:19,116
here related to print okay


2259
13:21:19,116 --> 13:21:22,640
save your login view and then go to register view and do the exact same


2260
13:21:22,640 --> 13:21:25,756
thing so user credentials


2261
13:21:25,756 --> 13:21:31,520
needs to be to stream and for weak password do the same thing


2262
13:21:31,520 --> 13:21:36,240
email to the same thing and then invalid email entered and we have no other print


2263
13:21:36,240 --> 13:21:39,916
statements and what you could do i mean i haven't


2264
13:21:39,916 --> 13:21:45,756
had a plan for this uh in in my notes here i don't see


2265
13:21:45,756 --> 13:21:48,956
anywhere that i'd plan for that but i think we could just


2266
13:21:48,956 --> 13:21:51,276
uh we could just improvise a little bit and


2267
13:21:51,276 --> 13:21:54,560
what i really like to do when i'm doing like cleanups like this in my source


2268
13:21:54,560 --> 13:21:58,400
code i like to go and make sure that there's no print statement statement


2269
13:21:58,400 --> 13:22:03,276
anywhere else because it just feels like when you're clean on cleaning up your


2270
13:22:03,276 --> 13:22:06,000
code especially if you're doing something as simple as what we're doing


2271
13:22:06,000 --> 13:22:10,080
here it is worth spending maybe just a few more seconds and making sure that


2272
13:22:10,080 --> 13:22:14,240
you're applying the same cleanup in the entire source now sometimes your source


2273
13:22:14,240 --> 13:22:19,840
code may be so big and complicated that you changing even a simple bit of code


2274
13:22:19,840 --> 13:22:23,596
may affect the source code in such a way that you may not know if you're breaking


2275
13:22:23,596 --> 13:22:26,640
it or anything so


2276
13:22:26,640 --> 13:22:32,080
and for that we need tests unit tests widget tests etc but if that is the case


2277
13:22:32,080 --> 13:22:35,040
you don't have to do that but in this case since our application is so new


2278
13:22:35,040 --> 13:22:38,720
we've just created it there's not much logic in it i think it's worth maybe


2279
13:22:38,720 --> 13:22:43,200
just doing a command shift f in visual studio on mac or ctrl shift f


2280
13:22:43,200 --> 13:22:46,956
it was just here to go on linux and windows just to go go to this global


2281
13:22:46,956 --> 13:22:51,040
search and just search for print and i can see here that we don't have


2282
13:22:51,040 --> 13:22:54,800
any print left in our source code so we don't have to change anything else all


2283
13:22:54,800 --> 13:22:59,360
the prints seem to have been in the login view and in the register view so


2284
13:22:59,360 --> 13:23:03,596
don't worry about that anymore okay


2285
13:23:04,320 --> 13:23:08,840
all right that was for our prints


2286
13:23:08,840 --> 13:23:14,400
um so now what we need to do is to ensure


2287
13:23:14,400 --> 13:23:16,956
that yeah basically we need to now focus on


2288
13:23:16,956 --> 13:23:21,840
what we wanted to do in this chapter that was a side kind of like a


2289
13:23:21,840 --> 13:23:24,956
side note there to clean up our print statements what we need to do in this


2290
13:23:24,956 --> 13:23:28,956
chapter to make sure that we can go from the login view to the


2291
13:23:28,956 --> 13:23:32,560
notes view i believe is what we created in the


2292
13:23:32,560 --> 13:23:39,840
and one of the previous chapters um is it here in the main dart perhaps


2293
13:23:40,000 --> 13:23:43,436
let's see notes view yeah


2294
13:23:43,436 --> 13:23:48,160
so let's do that and you remember from the previous chapters where we oh we


2295
13:23:48,160 --> 13:23:51,680
don't need the devtools log here okay


2296
13:23:51,680 --> 13:23:54,800
if you remember from one of the previous chapters where we talked about named


2297
13:23:54,800 --> 13:23:59,680
routes and named routes as you can see that are defined in the main function


2298
13:23:59,680 --> 13:24:05,276
now remember the main function does not get recompiled


2299
13:24:05,276 --> 13:24:10,240
when you do a hot reload keep that in mind so we're now going to modify our


2300
13:24:10,240 --> 13:24:15,520
routes and allow and create a new route as you can see here it's called nodes


2301
13:24:15,520 --> 13:24:21,756
actually it should be node slash so i'm going to hide this caption


2302
13:24:21,756 --> 13:24:26,080
and change it so that it is actually accurate


2303
13:24:26,080 --> 13:24:30,240
like that um and i'm going to bring it up


2304
13:24:30,240 --> 13:24:33,916
again so you see the correct route that we have to create


2305
13:24:33,916 --> 13:24:36,560
okay so let's go in here and create a new


2306
13:24:36,560 --> 13:24:41,276
route for our notes and anybody who then


2307
13:24:41,276 --> 13:24:45,520
that tries to push this route on the screen will get


2308
13:24:45,520 --> 13:24:48,000
the notes view appear


2309
13:24:48,000 --> 13:24:53,200
on their screen okay so let's just say as a string and notes slash as the


2310
13:24:53,200 --> 13:24:58,320
captions suggest and then you have to provide remember the routes was a map


2311
13:24:58,320 --> 13:25:03,200
where the keys were strings and the values had to be functions that accept


2312
13:25:03,200 --> 13:25:07,040
the build context and return a widget it's a little bit of a string syntax but


2313
13:25:07,040 --> 13:25:10,800
you'll get used to so the value should accept the build context as you can see


2314
13:25:10,800 --> 13:25:15,756
here and it should return a widget so in this case we return the notes view okay


2315
13:25:15,756 --> 13:25:18,640
as a constant


2316
13:25:19,040 --> 13:25:24,880
okay that part is done now so what we need to do now is to ensure that


2317
13:25:24,880 --> 13:25:30,000
upon pressing the login view sorry upon press upon pressing the login button


2318
13:25:30,000 --> 13:25:36,480
that we are doing a code similar to what we did in um if you look here in


2319
13:25:36,480 --> 13:25:40,000
our login view when we went to register do you remember this navigator of


2320
13:25:40,000 --> 13:25:45,840
context push name and remove until okay so


2321
13:25:45,840 --> 13:25:50,400
we need to we need to do that and when we do this


2322
13:25:50,400 --> 13:25:54,080
when we did this initially when we worked with push name and remove until i


2323
13:25:54,080 --> 13:25:58,240
don't think i actually explained entirely what push named and remove


2324
13:25:58,240 --> 13:26:02,956
until does to be honest so i'll do that now


2325
13:26:02,956 --> 13:26:07,436
as its name suggests it pushes around on the screen so it says that you have a


2326
13:26:07,436 --> 13:26:10,956
screen and you want to put something on top of it okay so pushing is something


2327
13:26:10,956 --> 13:26:14,720
that is very popular in mobile development because


2328
13:26:14,720 --> 13:26:19,680
a mobile screen usually i mean after ios came um


2329
13:26:19,680 --> 13:26:23,116
it became very popular that you had a screen you press the button and another


2330
13:26:23,116 --> 13:26:27,840
screen got pushed on top of that screen so this has been available i mean in


2331
13:26:27,840 --> 13:26:32,000
many other places even web browsers are not doing it these days and even nokia


2332
13:26:32,000 --> 13:26:35,360
phones in in the good old days were doing the same thing but it wasn't as


2333
13:26:35,360 --> 13:26:40,320
popular back then and it wasn't like coined as a term of pushing until ios


2334
13:26:40,320 --> 13:26:43,756
and android became more and more popular back in 2007


2335
13:26:43,756 --> 13:26:46,880
so pushing is the concept of having a


2336
13:26:46,880 --> 13:26:50,480
screen and then moving and pushing physically another


2337
13:26:50,480 --> 13:26:56,080
screen on top of it okay so that's what push means in push name


2338
13:26:56,080 --> 13:27:00,000
all right the named part of this function means that you have a named


2339
13:27:00,000 --> 13:27:05,200
route so you have defined a route somewhere such as your main screen here


2340
13:27:05,200 --> 13:27:09,360
and you are trying to push that using its name so you're not just pushing a


2341
13:27:09,360 --> 13:27:13,680
new widget out of nowhere okay so that's what the name means


2342
13:27:13,680 --> 13:27:18,160
now the part that says and remove until


2343
13:27:18,160 --> 13:27:22,320
what it says is um if you have for instance one screen here


2344
13:27:22,320 --> 13:27:25,840
another one is pushed on top of it and now you want to push another one on the


2345
13:27:25,840 --> 13:27:29,200
screen what the remove until says it says if


2346
13:27:29,200 --> 13:27:32,000
you want to push this one on the screen i'm going to give you the chance to get


2347
13:27:32,000 --> 13:27:37,436
rid of the existing screen on the stack so i remove these first and then i'll


2348
13:27:37,436 --> 13:27:41,840
push yours and this is kind of useful for for instance if you're let's say you


2349
13:27:41,840 --> 13:27:46,160
have a login view and then you press the login button and


2350
13:27:46,160 --> 13:27:50,800
in the in our case when the user credentials are correct if we then


2351
13:27:50,800 --> 13:27:55,436
um if we then want to go to the notes view


2352
13:27:55,436 --> 13:28:00,000
we don't have to keep this logging view on the screen so if this login view is


2353
13:28:00,000 --> 13:28:04,080
here what we could do is to push the notes via on top of it some nodes view


2354
13:28:04,080 --> 13:28:08,800
is always sitting here but then you as a programmer not the user as a programmer


2355
13:28:08,800 --> 13:28:12,880
you'll always know that the login view is sitting behind this so


2356
13:28:12,880 --> 13:28:16,080
that's not so good because once you're logged in


2357
13:28:16,080 --> 13:28:19,276
and you're on the notes view you don't need this view anymore you don't need


2358
13:28:19,276 --> 13:28:24,160
the login view sitting there and consuming memory so that's what remove


2359
13:28:24,160 --> 13:28:28,640
until does because it gives you the opportunity it passes you see a route of


2360
13:28:28,640 --> 13:28:33,916
dynamic and it says let me know when you want me to stop


2361
13:28:33,916 --> 13:28:38,720
move removing things from the screen before i push yours and us returning


2362
13:28:38,720 --> 13:28:42,956
false basically says just remove everything don't care about


2363
13:28:42,956 --> 13:28:46,400
the routes that are on the screen at the moment and don't care about the routes


2364
13:28:46,400 --> 13:28:50,400
that you're telling me about just remove everything and go to this register view


2365
13:28:50,400 --> 13:28:53,520
okay all right that was a lot of information


2366
13:28:53,520 --> 13:28:57,756
hopefully you got that so now we need to do is to go to our login


2367
13:28:57,756 --> 13:29:04,000
view which we are right now and upon getting our user credentials here what


2368
13:29:04,000 --> 13:29:08,560
we need to do is to send the user to the um


2369
13:29:08,560 --> 13:29:11,840
main ui so i'm just gonna check in my notes that


2370
13:29:11,840 --> 13:29:15,916
i've explained everything to you before we go forward


2371
13:29:15,916 --> 13:29:20,956
and yeah that seems to be the case so um let's then go ahead and do that right


2372
13:29:20,956 --> 13:29:23,840
here what we're going to do is going to get


2373
13:29:23,840 --> 13:29:30,000
rid of this dev tools log here okay let's then go in here and say


2374
13:29:30,000 --> 13:29:33,680
and navigator of and remember we have a build context


2375
13:29:33,680 --> 13:29:37,276
and we're going to say push name and remove until


2376
13:29:37,276 --> 13:29:43,756
uh like this and our new route name is actually what's it called notes i think


2377
13:29:43,756 --> 13:29:48,720
we call it right in here yeah slash note slash


2378
13:29:48,720 --> 13:29:52,560
so put put that in there and in here you could just say


2379
13:29:52,560 --> 13:29:57,360
return false okay now this is one thing of also i haven't


2380
13:29:57,360 --> 13:30:02,400
mentioned in the previous chapters but in dart it is very important that you


2381
13:30:02,400 --> 13:30:08,240
always suffix your parameters parameter values with a


2382
13:30:08,240 --> 13:30:13,360
a comma and a comma you can see here is placed usually between parameters but


2383
13:30:13,360 --> 13:30:16,956
also the last parameter is suggested to have a comma because as you can see here


2384
13:30:16,956 --> 13:30:20,400
the dart formatter right now isn't really able to break this


2385
13:30:20,400 --> 13:30:24,640
these two parameters into two separate lines of code and that's what we usually


2386
13:30:24,640 --> 13:30:29,436
do in dart you can see here for instance when we did a wait on firebase instance


2387
13:30:29,436 --> 13:30:34,160
sign in in the last parameter we had a comma if i remove that the code will


2388
13:30:34,160 --> 13:30:38,800
actually be a little bit uglier in this it looks like this but if you put a


2389
13:30:38,800 --> 13:30:43,756
comma at the end of your last parameter dark is able to break your parameters


2390
13:30:43,756 --> 13:30:48,400
each parameter and its value in its own line and that's like a usual convention


2391
13:30:48,400 --> 13:30:51,916
in dart so if you see something like this that doesn't look quite right put a


2392
13:30:51,916 --> 13:30:55,756
comma at the end of the last parameter and press command s for dark formatter


2393
13:30:55,756 --> 13:31:00,080
to be able to format your uh code okay


2394
13:31:00,080 --> 13:31:04,400
great we've done that now and at the moment we're not using


2395
13:31:04,400 --> 13:31:09,436
the user credentials um at all so what we could do to be honest with you is to


2396
13:31:09,436 --> 13:31:13,840
get rid of that so all we'll do is we say firebase instance sign in with email


2397
13:31:13,840 --> 13:31:18,000
and password okay and um that's it because this whole


2398
13:31:18,000 --> 13:31:22,000
thing is in a try block so if this thing doesn't work properly then we'll come


2399
13:31:22,000 --> 13:31:24,880
here okay now


2400
13:31:24,880 --> 13:31:28,240
well this is great actually now we're gonna go from our


2401
13:31:28,240 --> 13:31:33,436
um login view to the notes view but you'll be a bit disappointed to see that


2402
13:31:33,436 --> 13:31:37,680
this isn't going to work as it should so let me change the


2403
13:31:37,680 --> 13:31:42,480
uh ui a little bit here and then press the login button


2404
13:31:42,480 --> 13:31:46,720
and you'll see we get an error here that says unfortunately on unknown route was


2405
13:31:46,720 --> 13:31:50,240
not set it's quite cute that they say


2406
13:31:50,240 --> 13:31:55,756
unfortunately in the uh in the actual airlocks so


2407
13:31:55,756 --> 13:32:00,000
that's what this caption also tells you you see i i talked about it a little bit


2408
13:32:00,000 --> 13:32:02,240
before when we kind of started with this


2409
13:32:02,240 --> 13:32:05,040
chapter that we said that we're going to put the


2410
13:32:05,040 --> 13:32:10,000
login as our the notes name route in the main function


2411
13:32:10,000 --> 13:32:12,400
but this is i told you that this isn't going


2412
13:32:12,400 --> 13:32:17,680
to really work so well the reason is again the main function isn't going to


2413
13:32:17,680 --> 13:32:22,400
rebuild when you do hot reload so in order for your changes in the main


2414
13:32:22,400 --> 13:32:26,480
function to take effect you need to do a hot restart so what is happening here is


2415
13:32:26,480 --> 13:32:29,756
that you've defined everything correctly everything is done right there's nothing


2416
13:32:29,756 --> 13:32:33,596
wrong in the code itself it's just the way we are executing the code that is


2417
13:32:33,596 --> 13:32:36,956
wrong and now you have to do a hot restart for flutter to be able to pick


2418
13:32:36,956 --> 13:32:40,800
up your changes in the main function as well okay so hot reload is not going to


2419
13:32:40,800 --> 13:32:45,520
do it so you need to do a hot restart so i'm going to do hot restart here


2420
13:32:45,520 --> 13:32:48,720
we come here and now you see we're in the hello world because


2421
13:32:48,720 --> 13:32:52,240
we are actually logged in from the previous section


2422
13:32:52,240 --> 13:32:56,560
um i'm going to log out and we come here now i'm going to enter


2423
13:32:56,560 --> 13:32:59,276
my details


2424
13:32:59,276 --> 13:33:03,276
foo bar baths and please don't use football bats as your password i'm


2425
13:33:03,276 --> 13:33:08,880
just doing it for the sake of simplicity and now we say login and you see that by


2426
13:33:08,880 --> 13:33:16,880
doing login we come to the main ui of the application so and as you saw


2427
13:33:16,880 --> 13:33:22,080
pushing in android using material design isn't the same thing as


2428
13:33:22,080 --> 13:33:25,916
pushing on ios let me let me demonstrate it one more time for you so you'll have


2429
13:33:25,916 --> 13:33:29,680
a good look at it in the login view enter


2430
13:33:29,680 --> 13:33:32,480
your information


2431
13:33:33,200 --> 13:33:36,956
uh through barbados and then do log in and


2432
13:33:36,956 --> 13:33:40,400
before you do that just have just make sure that you're focusing very well on


2433
13:33:40,400 --> 13:33:43,596
the screen i'm going to bring it up a little bit more


2434
13:33:43,596 --> 13:33:49,116
so you'll see better um look how this main ui of the application won't


2435
13:33:49,116 --> 13:33:53,756
actually be pushed but it instead will be kind of like moved from the bottom of


2436
13:33:53,756 --> 13:33:58,400
the screen to the top while that previous screen gets faded away so


2437
13:33:58,400 --> 13:34:02,800
focus on the screen please did you see that so


2438
13:34:02,800 --> 13:34:06,480
ios and android are going to work differently differently but the


2439
13:34:06,480 --> 13:34:11,200
concept is the same so now that the main ui is pushed to the screen where an


2440
13:34:11,200 --> 13:34:16,320
android is displayed on the screen the login view has disappeared and been


2441
13:34:16,320 --> 13:34:22,240
removed from the view stack okay so that's great that's all we have to do


2442
13:34:22,240 --> 13:34:27,756
in this chapter so i hope actually you are happy with the results and that we


2443
13:34:27,756 --> 13:34:30,720
didn't have to do too much now what we need to do also we need to make sure


2444
13:34:30,720 --> 13:34:35,200
that we do like we did in the other chapters so let's go ahead and


2445
13:34:35,200 --> 13:34:41,520
let's go and commit and tag our changes all right so we if you look at our tag


2446
13:34:41,520 --> 13:34:44,956
um if you say git tag we have now step one


2447
13:34:44,956 --> 13:34:47,436
two three and this


2448
13:34:47,436 --> 13:34:51,040
chapter in this chapter we're gonna commit our message commit our changes


2449
13:34:51,040 --> 13:34:57,276
and tag it with the tag name of step four so if you look at git log we did


2450
13:34:57,276 --> 13:35:01,040
step three in the previous chapter now we're gonna do step four so let's say


2451
13:35:01,040 --> 13:35:04,800
git add all and you can see it was just a few


2452
13:35:04,800 --> 13:35:08,720
files that we changed now let's um i'm not sorry i'm going to


2453
13:35:08,720 --> 13:35:13,200
change the screen layout i'm also going to say git commit


2454
13:35:13,200 --> 13:35:16,080
um step 4


2455
13:35:16,080 --> 13:35:19,116
okay and um


2456
13:35:19,116 --> 13:35:22,720
now let's tag it as well


2457
13:35:22,800 --> 13:35:30,720
let's push our changes to uh github and also let's get a push our tags


2458
13:35:30,720 --> 13:35:35,116
like this so if you say git tag now now we have


2459
13:35:35,116 --> 13:35:41,436
four tags and if we do its log you'll see we have step two three and


2460
13:35:41,436 --> 13:35:47,116
four and the initial commit which is step one all right well done that was


2461
13:35:47,116 --> 13:35:52,240
great and work for this chapter quite a short chapter and sweet um and now we


2462
13:35:52,240 --> 13:35:55,116
need to get ready for the next chapter as you can see in the caption here says


2463
13:35:55,116 --> 13:35:58,080
we need to clean up our routes since they are everywhere


2464
13:35:58,080 --> 13:36:02,320
and that means that you can see here we've defined our routes login register


2465
13:36:02,320 --> 13:36:06,400
nodes but also in the login view we're like redefining we're saying that


2466
13:36:06,400 --> 13:36:09,916
actually not redefining we're trying to like go to the notes route but we're


2467
13:36:09,916 --> 13:36:14,240
typing the entire route name again and this is usually in programming not a


2468
13:36:14,240 --> 13:36:18,000
good idea like if you have strings flying all over the all over the place


2469
13:36:18,000 --> 13:36:22,240
like one is defined in the main dart the other one is called in the login view


2470
13:36:22,240 --> 13:36:26,240
and this something similar is used for instance in the register view as you can


2471
13:36:26,240 --> 13:36:30,880
see here usually this means that you need to um


2472
13:36:30,880 --> 13:36:36,000
bring these into one central place and kind of reuse them and that is exactly


2473
13:36:36,000 --> 13:36:38,956
what we're gonna do in the next chapter so


2474
13:36:38,956 --> 13:36:42,080
um let's just leave it like this and i'll see you in


2475
13:36:42,080 --> 13:36:46,560
the next chapter hello and welcome to chapter 20 of this


2476
13:36:46,560 --> 13:36:50,000
flutter course in this chapter which is going to be a


2477
13:36:50,000 --> 13:36:52,956
very short one i think it's going to be the shortest chapter of all the chapters


2478
13:36:52,956 --> 13:36:57,520
we've done so far we're going to do some cleanup now


2479
13:36:57,520 --> 13:37:02,956
you can see that uh i mean i'll show you what state we left our code in in the


2480
13:37:02,956 --> 13:37:06,080
previous chapter this is what we've done so i'm gonna


2481
13:37:06,080 --> 13:37:10,560
bring up the project uh files up here


2482
13:37:10,560 --> 13:37:15,756
you will see that um the state that we left our project in was if we go to our


2483
13:37:15,756 --> 13:37:19,916
main dart we had some routes defined i'm gonna


2484
13:37:19,916 --> 13:37:23,596
do it like this you'll see it better we had some routes defined


2485
13:37:23,596 --> 13:37:28,160
and um and one was called a login which the


2486
13:37:28,160 --> 13:37:32,000
register view actually uses to send the user to the login view


2487
13:37:32,000 --> 13:37:36,240
if the user already had a


2488
13:37:36,240 --> 13:37:39,360
if the user had already registered and we don't actually have to


2489
13:37:39,360 --> 13:37:42,400
talk about that without showing it so let's


2490
13:37:42,400 --> 13:37:46,400
go here let's go here in the register view so if the user ends up in the


2491
13:37:46,400 --> 13:37:50,880
registry and they already have a username and


2492
13:37:50,880 --> 13:37:55,276
their email and password setup then they can click on this or tap on this button


2493
13:37:55,276 --> 13:38:01,436
that says already registered log in here and that happens in our


2494
13:38:01,436 --> 13:38:06,956
register view here navigator of push name and then goes to the login route


2495
13:38:06,956 --> 13:38:11,916
which is defined in main art and kind of the same thing happens in the login view


2496
13:38:11,916 --> 13:38:16,160
here so if the user doesn't have their


2497
13:38:16,160 --> 13:38:20,640
if the user hasn't registered for our service then they can actually tap on


2498
13:38:20,640 --> 13:38:23,840
not register yet register here button okay


2499
13:38:23,840 --> 13:38:28,480
and that's the register route and the third route that we have is the notes


2500
13:38:28,480 --> 13:38:34,320
route which allows us to send the user from the login screen to the main ui of


2501
13:38:34,320 --> 13:38:37,200
the application which we just call at the moment


2502
13:38:37,200 --> 13:38:43,116
notes view which right now resides inside main dart and i'll just


2503
13:38:43,116 --> 13:38:48,480
have a look at my code here and just to ensure that that is


2504
13:38:48,480 --> 13:38:51,756
what i had intended yeah so we haven't yet


2505
13:38:51,756 --> 13:38:57,116
refactored notes view and we haven't yet put it into its own file okay


2506
13:38:57,116 --> 13:39:01,596
so let's talk about hard coding now


2507
13:39:01,596 --> 13:39:04,240
if you're not a programmer like if you don't have a software development


2508
13:39:04,240 --> 13:39:08,160
background you probably don't know what hard coding is but


2509
13:39:08,160 --> 13:39:15,360
i'll i'll kind of give you the um i'll give you example maybe in different


2510
13:39:15,360 --> 13:39:19,436
worlds that may also be relevant for a programmer let's say


2511
13:39:19,436 --> 13:39:24,720
you're working in figma and you're working with a design so you have a list


2512
13:39:24,720 --> 13:39:29,756
of items to display on the screen and you create these list designs like you


2513
13:39:29,756 --> 13:39:33,596
have a little cell that should be displayed inside a view then you go and


2514
13:39:33,596 --> 13:39:38,320
copy paste this in 10 different places and then


2515
13:39:38,320 --> 13:39:41,680
you talk to the team about the design that you've created and then they say oh


2516
13:39:41,680 --> 13:39:45,276
you'd be really great if this label was a little bit bigger then what you'd have


2517
13:39:45,276 --> 13:39:50,640
to do is to go to every place that you've copy pasted that


2518
13:39:50,640 --> 13:39:54,720
cell and you have to change the label a better way of doing that in figma if


2519
13:39:54,720 --> 13:39:59,756
you're a designer would be to create a component and then create instances of


2520
13:39:59,756 --> 13:40:04,880
that design component in various pages of your figma design


2521
13:40:04,880 --> 13:40:07,756
so if so you need to update something then you


2522
13:40:07,756 --> 13:40:11,756
need to just update it in one place so


2523
13:40:11,756 --> 13:40:14,800
even if you're not coming from a design background and you're working for


2524
13:40:14,800 --> 13:40:20,080
instance as a project this is a product owner or a project manager you may be


2525
13:40:20,080 --> 13:40:24,320
working with some like um excel sheets and you're creating maybe


2526
13:40:24,320 --> 13:40:29,756
um some graphs now if you create a graph from a


2527
13:40:29,756 --> 13:40:33,200
data set you probably want to reuse that graph in


2528
13:40:33,200 --> 13:40:37,040
other places so if someone says okay can i get like all the graphs available in


2529
13:40:37,040 --> 13:40:40,240
the project then you don't go and create the same graph over and over again you


2530
13:40:40,240 --> 13:40:43,276
kind of want to refer to the same sheet in your


2531
13:40:43,276 --> 13:40:49,360
google sheets or your excel sheets so the concept is the same you don't want


2532
13:40:49,360 --> 13:40:52,880
to repeat yourself and that's what the mistake that we've done at the moment in


2533
13:40:52,880 --> 13:40:57,596
our source code in that we have our routes defined in one place however


2534
13:40:57,596 --> 13:41:01,680
where every word we're gonna use these routes we're writing their names again


2535
13:41:01,680 --> 13:41:06,240
and this is one thing that most programmers do not like


2536
13:41:06,240 --> 13:41:11,040
when you become more of a seasoned like a senior developer then you try to avoid


2537
13:41:11,040 --> 13:41:17,276
these things because if we now go to our main dart file and change this login to


2538
13:41:17,276 --> 13:41:21,680
just slash login then we have to search everywhere in our project for a name


2539
13:41:21,680 --> 13:41:27,360
route called slash login slash as it was before and change that to this new form


2540
13:41:27,360 --> 13:41:30,720
and that's not a good idea


2541
13:41:31,040 --> 13:41:35,680
that's hard coding and that is why developers don't like it and i suggest


2542
13:41:35,680 --> 13:41:40,560
that you don't like it either so uh what we're gonna do in this


2543
13:41:40,560 --> 13:41:44,560
chapter very quickly hopefully we can get done with it soon


2544
13:41:44,560 --> 13:41:50,080
uh be done with it soon we're gonna create a new file in our project is the


2545
13:41:50,080 --> 13:41:53,680
first file of its kind that we're creating where we're going to put our


2546
13:41:53,680 --> 13:41:58,080
constants okay so constants as you know from where we talked about dart are


2547
13:41:58,080 --> 13:42:01,276
values that don't change during the compile time


2548
13:42:01,276 --> 13:42:05,520
and they don't change during the runtime either so these are our route names


2549
13:42:05,520 --> 13:42:09,200
because they're always constant they're no one is going in there and changing


2550
13:42:09,200 --> 13:42:12,000
them okay so let's go ahead and do that as a


2551
13:42:12,000 --> 13:42:17,276
caption says here let's go create a fox under lib under folder called constants


2552
13:42:17,276 --> 13:42:20,800
and then routes and as i showed you before you don't have to create the


2553
13:42:20,800 --> 13:42:25,756
intermediate directories in this case constants before you create the route


2554
13:42:25,756 --> 13:42:29,276
start file what you'll need to do is just right click on lib where you want


2555
13:42:29,276 --> 13:42:34,956
to create the constants and then the lib sorry the constants folder and then um


2556
13:42:34,956 --> 13:42:40,320
route start file just right click here say new file then say constants um if i


2557
13:42:40,320 --> 13:42:44,840
can spell it um and then say


2558
13:42:44,840 --> 13:42:48,640
routes part and that will create the constants


2559
13:42:48,640 --> 13:42:53,680
folder intermediate folder for you okay so


2560
13:42:53,680 --> 13:42:57,200
what we need now is to define as the caption says here we need to define


2561
13:42:57,200 --> 13:43:01,840
three routes one for the login route one for register and the other one for the


2562
13:43:01,840 --> 13:43:05,916
notes route so let's just say const login route


2563
13:43:05,916 --> 13:43:11,360
and we just say that's equal to login slash i'm gonna copy paste this and i'm


2564
13:43:11,360 --> 13:43:14,720
just gonna in this second one just say this is


2565
13:43:14,720 --> 13:43:19,520
uh register route as the caption suggests and then the notes route okay


2566
13:43:19,520 --> 13:43:23,116
and in here i'm going to say register and in here you should say also notes


2567
13:43:23,116 --> 13:43:28,880
okay so now we've defined these three routes


2568
13:43:28,880 --> 13:43:32,480
but what we need to do now we've defined them but this is not enough what we need


2569
13:43:32,480 --> 13:43:37,436
to do is to actually go and use them so let's go back to our main dart file and


2570
13:43:37,436 --> 13:43:43,680
in here instead of using login we need to use a login route right and you can


2571
13:43:43,680 --> 13:43:47,040
see now visual studio code smart enough to understand that this is a symbol that


2572
13:43:47,040 --> 13:43:52,160
we've defined in a file here but this symbol right now isn't


2573
13:43:52,160 --> 13:43:57,840
available in the current context because we haven't imported that constant


2574
13:43:57,840 --> 13:44:00,880
routes file


2575
13:44:00,880 --> 13:44:02,880
so if i just


2576
13:44:02,880 --> 13:44:06,800
allow visual studio code to auto import that you can see all of a sudden the


2577
13:44:06,800 --> 13:44:11,200
symbol becomes a valid symbol in my current context and if i go up


2578
13:44:11,200 --> 13:44:15,596
here then i should be able to see that visual studio code has imported this


2579
13:44:15,596 --> 13:44:19,680
file for me but if you're if you're working with veeam or if you're working


2580
13:44:19,680 --> 13:44:24,400
with android studio and you're not given the opportunity to


2581
13:44:24,400 --> 13:44:28,000
uh to import you can always go to this symbol and just say


2582
13:44:28,000 --> 13:44:31,756
uh command dot or control dot depending on your operating system and just say


2583
13:44:31,756 --> 13:44:35,916
import that library and even if your


2584
13:44:35,916 --> 13:44:39,840
editor isn't smart enough to do importing in this way you can import it


2585
13:44:39,840 --> 13:44:44,956
yourself so you can just say um import


2586
13:44:44,956 --> 13:44:48,720
package then the name of the application which is my notes and then you'd say


2587
13:44:48,720 --> 13:44:54,640
constants slash routes dot darts so there you have three ways of solving the


2588
13:44:54,640 --> 13:44:59,360
same problem i usually do auto import so i don't have to type all of that um and


2589
13:44:59,360 --> 13:45:03,756
i'm not gonna explain this more than in the upcoming chapter so you have all the


2590
13:45:03,756 --> 13:45:08,240
tools necessary in order to be able to fix a problem like this okay so in here


2591
13:45:08,240 --> 13:45:10,956
i'm going to use register route and since


2592
13:45:10,956 --> 13:45:15,520
uh route start is now imported here here


2593
13:45:15,520 --> 13:45:19,040
then i'm not going to have a problem and i don't have to auto import anything


2594
13:45:19,040 --> 13:45:23,756
okay and for notes i'm going to say notes route


2595
13:45:23,756 --> 13:45:28,956
oh that's great now we've defined them in our main function however we still


2596
13:45:28,956 --> 13:45:33,436
have a few places where we're doing routing and we're hard coding those


2597
13:45:33,436 --> 13:45:39,756
routes so let's fix first our notes view which is the main ui of the application


2598
13:45:39,756 --> 13:45:45,360
so if i type here pixel tab gmail.com


2599
13:45:46,640 --> 13:45:53,040
like that and then i say um login


2600
13:45:53,916 --> 13:45:59,040
and we're getting some oh foobar baz


2601
13:46:00,320 --> 13:46:04,880
in here when we do log out that's where we sending the user to the login route


2602
13:46:04,880 --> 13:46:10,160
so let's change that as well to say login route okay so that's one place


2603
13:46:10,160 --> 13:46:14,956
uh i'm gonna then say log out here poof log out


2604
13:46:14,956 --> 13:46:19,116
so that's fixed now the other place we have to fix is in the login view as you


2605
13:46:19,116 --> 13:46:23,040
can see here where we press the not register yet


2606
13:46:23,040 --> 13:46:26,240
register here button so let's go to the login view


2607
13:46:26,240 --> 13:46:30,480
in our views in login view i'm going to get rid of the explorer


2608
13:46:30,480 --> 13:46:33,200
there in the


2609
13:46:33,200 --> 13:46:38,320
in this button not registered yet let's see where it is


2610
13:46:38,320 --> 13:46:41,840
here you see we're sending the user to the


2611
13:46:41,840 --> 13:46:46,000
register route so i'm going to send them instead to register router and you can


2612
13:46:46,000 --> 13:46:49,680
see you should code smart enough again to do auto import so i'm going to take


2613
13:46:49,680 --> 13:46:52,400
that option and also we have another route here


2614
13:46:52,400 --> 13:46:57,436
which sends you to notes where you have successfully logged in so let's


2615
13:46:57,436 --> 13:47:02,080
just say notes route okay so that's for our login view


2616
13:47:02,080 --> 13:47:06,560
and now the other place that we have to fix is in register so go to your project


2617
13:47:06,560 --> 13:47:10,240
explorer and then go to register view and have a look at where we're doing


2618
13:47:10,240 --> 13:47:15,200
this login button here okay and


2619
13:47:15,200 --> 13:47:21,360
let's then say instead of that we're just going to say


2620
13:47:21,680 --> 13:47:26,720
login routes okay so if you now search for push name and


2621
13:47:26,720 --> 13:47:32,400
remove until and then show the results if you click through them you shouldn't


2622
13:47:32,400 --> 13:47:35,756
have any routes that is hard coded okay so


2623
13:47:35,756 --> 13:47:41,680
nodes route register route and the login route so


2624
13:47:41,680 --> 13:47:47,040
now we fix this and just remember because we now have changed the main


2625
13:47:47,040 --> 13:47:51,436
function here and we have some routes here do you have to do hot restart in


2626
13:47:51,436 --> 13:47:55,596
order to see your changes but if everything's working according to the


2627
13:47:55,596 --> 13:48:00,640
plan and that we didn't like to make any wrong choices in our rat names and that


2628
13:48:00,640 --> 13:48:04,560
we gave them the same name or anything which we haven't


2629
13:48:04,560 --> 13:48:07,840
if everything is working like it did before then you shouldn't see any


2630
13:48:07,840 --> 13:48:13,840
changes in here so if you enter your information like you did before


2631
13:48:13,840 --> 13:48:17,840
and i say foobar about then i should be able to log in


2632
13:48:17,840 --> 13:48:21,680
should be able to log out and i should be able to go to register


2633
13:48:21,680 --> 13:48:26,956
view or the login view so it's working exactly as it did before


2634
13:48:26,956 --> 13:48:31,040
okay all right great stuff that was a quick


2635
13:48:31,040 --> 13:48:36,320
chapter as other chapters since now we have made some changes and we've


2636
13:48:36,320 --> 13:48:40,320
actually made the code better and we've tested to make sure everything works


2637
13:48:40,320 --> 13:48:46,240
fine it's time to commit our changes as you can see the previous chapter we


2638
13:48:46,240 --> 13:48:51,756
committed our changes as step 4 and in this chapter we're gonna commit


2639
13:48:51,756 --> 13:48:55,360
our changes as step five and we're also going to


2640
13:48:55,360 --> 13:48:58,800
um we're also going to tag it like we did


2641
13:48:58,800 --> 13:49:01,436
before and let me change the


2642
13:49:01,436 --> 13:49:06,240
layout as well so you'll see the terminal a little bit better i'm gonna


2643
13:49:06,240 --> 13:49:10,720
do it like this gonna make the terminal bigger even so you see it even better


2644
13:49:10,720 --> 13:49:16,000
so let's go ahead and see what the status is i can see there are lots of


2645
13:49:16,000 --> 13:49:19,840
changes as you can see here it says you've made changes you modified these


2646
13:49:19,840 --> 13:49:24,400
existing files and now all of a sudden there's a new folder as well so what i


2647
13:49:24,400 --> 13:49:29,360
like to do in these cases when there is a new folder i like to do bits add all


2648
13:49:29,360 --> 13:49:32,720
because this adds all the files and folders


2649
13:49:32,720 --> 13:49:37,200
so you can take it at all and if you say git status now you can see


2650
13:49:37,200 --> 13:49:42,000
the new folder including its content is now added to the staging environment or


2651
13:49:42,000 --> 13:49:44,956
the staging area


2652
13:49:45,200 --> 13:49:49,520
okay now we've staged so now let's commit and we say we said that we are


2653
13:49:49,520 --> 13:49:56,400
going to commit and tag as step five so let's say step five um and then get


2654
13:49:56,400 --> 13:50:00,400
tag um step five as well get push your


2655
13:50:00,400 --> 13:50:04,956
changes and then give push the tags as well


2656
13:50:04,956 --> 13:50:08,240
all right so if i say you tag now we have five tags


2657
13:50:08,240 --> 13:50:13,200
and if i say gitland we have step five four three two and then the initial


2658
13:50:13,200 --> 13:50:16,800
commit which is pretty much step one all right so


2659
13:50:16,800 --> 13:50:20,880
great stuff well done for going through this chapter so fast as well together


2660
13:50:20,880 --> 13:50:25,680
with me and what we need to do now is to get ready for the next chapter


2661
13:50:25,680 --> 13:50:29,916
and just to give you a little preview what we're going to work on is to have a


2662
13:50:29,916 --> 13:50:34,720
look at our error handling in specifically the login view so if i make


2663
13:50:34,720 --> 13:50:39,116
this a little bit smaller so it's more digestible you can see at the moment our


2664
13:50:39,116 --> 13:50:43,040
error handling the reason i put quotation marks around it is that it's


2665
13:50:43,040 --> 13:50:46,880
not so much of an error handling to be honest with you what it is doing is just


2666
13:50:46,880 --> 13:50:52,400
says if an error of this type happens then log this message to the console a


2667
13:50:52,400 --> 13:50:56,956
normal user sitting with their phone they don't have access to logs they're


2668
13:50:56,956 --> 13:51:01,916
not going to see any logs so logs are very very much useless for them and what


2669
13:51:01,916 --> 13:51:05,756
we're going to do in the next chapter is actually display meaningful information


2670
13:51:05,756 --> 13:51:10,080
to the user using some alert views and


2671
13:51:10,080 --> 13:51:14,080
dialogues so grab your refreshments if you want to


2672
13:51:14,080 --> 13:51:19,916
and i'll see you in the next chapter hello and welcome to chapter 21 of this


2673
13:51:19,916 --> 13:51:23,276
flutter course in the previous chapter as you remember


2674
13:51:23,276 --> 13:51:27,916
we talked about cleaning up the routes that we have in our main function and we


2675
13:51:27,916 --> 13:51:33,200
put them inside their own dart files so that they are separate from um so we're


2676
13:51:33,200 --> 13:51:36,240
basically not hard coding hard coding them in different places of the


2677
13:51:36,240 --> 13:51:39,360
application we talked about what hard coding also is


2678
13:51:39,360 --> 13:51:43,276
if you're not coming from a software development background and why it is


2679
13:51:43,276 --> 13:51:47,276
usually a good thing not to hard code your strings and spread them around in


2680
13:51:47,276 --> 13:51:52,956
the entire code base in this chapter we are going to focus on


2681
13:51:52,956 --> 13:51:56,720
cleaning up error handling in our login view to


2682
13:51:56,720 --> 13:52:00,956
start with if you remember our login view at the moment


2683
13:52:00,956 --> 13:52:04,080
actually i don't have to say if you remember because i can bring up the code


2684
13:52:04,080 --> 13:52:10,160
so we can have a look at it together here is our


2685
13:52:10,160 --> 13:52:14,000
code i'm going to bring up scrcpy here as


2686
13:52:14,000 --> 13:52:18,800
well so you can see the android phone working okay


2687
13:52:18,800 --> 13:52:23,040
so i'm going to also change a little bit the um


2688
13:52:23,040 --> 13:52:29,520
screen layout so if you remember uh we have our login view right here probably


2689
13:52:29,520 --> 13:52:33,756
have to move some things around here so it becomes a little bit better layout


2690
13:52:33,756 --> 13:52:37,916
let's go to login view and we have then our


2691
13:52:37,916 --> 13:52:41,436
um lock statements here should anything go


2692
13:52:41,436 --> 13:52:45,840
wrong so if we could sign in with an email and a


2693
13:52:45,840 --> 13:52:50,320
password then we were pushing the notes route onto the screen


2694
13:52:50,320 --> 13:52:54,640
but if there was a problem with our firebase authentication and we got a


2695
13:52:54,640 --> 13:52:59,276
firebase auth exception we are simply at the moment logging that


2696
13:52:59,276 --> 13:53:04,400
information to the debug console and that is not good enough because should


2697
13:53:04,400 --> 13:53:08,800
any errors happen for instance if the current user couldn't be found or that


2698
13:53:08,800 --> 13:53:14,080
the password is incorrect uh your end user will not receive these


2699
13:53:14,080 --> 13:53:18,320
logs because they're not running this application beside visual studio code or


2700
13:53:18,320 --> 13:53:22,320
anything like that except your actual users are going to be


2701
13:53:22,320 --> 13:53:27,840
running the application on a normal telephone such as an android or an ios


2702
13:53:27,840 --> 13:53:31,116
or an ipad even or tablet


2703
13:53:31,116 --> 13:53:34,560
so that's what we are going to do in this chapter we're going to clean up the


2704
13:53:34,560 --> 13:53:40,480
logic for our error handling so um so before you begin with this chapter


2705
13:53:40,480 --> 13:53:45,276
just make sure that you're inside your login view as we are right here and then


2706
13:53:45,276 --> 13:53:50,240
ensure that your application or your user is logged out so if you're in the


2707
13:53:50,240 --> 13:53:55,040
main interface of the application or you're inside the notes view as we call


2708
13:53:55,040 --> 13:53:59,520
it ensure that you go to the menu and then you log out of the application also


2709
13:53:59,520 --> 13:54:03,436
make sure that your telephone or your emulator simulator also has internet


2710
13:54:03,436 --> 13:54:07,320
connectivity so you can actually hit firebase back end


2711
13:54:07,320 --> 13:54:10,840
[Music] okay


2712
13:54:10,840 --> 13:54:17,840
so as you've seen in our login view and register view we have logic that tries


2713
13:54:17,840 --> 13:54:21,116
to handle different kinds of errors that may arise


2714
13:54:21,116 --> 13:54:25,276
for instance in the registration view we have weak password handling and we have


2715
13:54:25,276 --> 13:54:30,720
email already in use or an invalid email error handling


2716
13:54:30,720 --> 13:54:37,116
and so here we have three error handling and also in login view we have two error


2717
13:54:37,116 --> 13:54:42,240
handling and aside from these we also need to handle


2718
13:54:42,240 --> 13:54:47,916
the case of any other exception that might arise in this try block and we


2719
13:54:47,916 --> 13:54:51,680
don't have that at the moment you can see we're only catching firebase off


2720
13:54:51,680 --> 13:54:57,756
exceptions so we have to have a generic catch block at the end of our try


2721
13:54:57,756 --> 13:55:02,720
statement in the login view and another catch block which is a


2722
13:55:02,720 --> 13:55:09,040
generic catch block at the end of the try statement on our register view three


2723
13:55:09,040 --> 13:55:12,956
three uh auth exceptions plus and a generic


2724
13:55:12,956 --> 13:55:16,800
exception handling here four total in register view


2725
13:55:16,800 --> 13:55:23,276
plus two here six and a generic one here seven so we are going to handle seven


2726
13:55:23,276 --> 13:55:28,640
types of errors that might occur during login and registration and for any one


2727
13:55:28,640 --> 13:55:32,720
of these we are going to display an alert to the user so we're just gonna


2728
13:55:32,720 --> 13:55:37,360
alert the user that something has happened and it needs to be taken care


2729
13:55:37,360 --> 13:55:42,400
of okay so let's go then into um


2730
13:55:42,400 --> 13:55:46,800
have a look at the end of your main dart file and you


2731
13:55:46,800 --> 13:55:51,436
can see we already have a future bowl show log out dial again this is a log


2732
13:55:51,436 --> 13:55:56,080
out this is a dialog that you can see is an alert dialog that


2733
13:55:56,080 --> 13:56:00,320
at the moment just returns a boolean what we need is a


2734
13:56:00,320 --> 13:56:05,756
future void as the caption shows here a function that says show error dialog and


2735
13:56:05,756 --> 13:56:10,480
it has a context and a string to display to the user so we're just going to use


2736
13:56:10,480 --> 13:56:15,116
it generically generically from anywhere in the application okay


2737
13:56:15,116 --> 13:56:19,520
so for now i need you to go to your login view


2738
13:56:19,520 --> 13:56:23,040
and at the bottom of the login view we're going to create the function


2739
13:56:23,040 --> 13:56:26,880
signature for this so let's just say future void


2740
13:56:26,880 --> 13:56:30,240
and as i've called it here show error dialog and we're going to get a build


2741
13:56:30,240 --> 13:56:34,800
context called context and then we're also going to say string text okay


2742
13:56:34,800 --> 13:56:38,880
just like this and remember you can always put a comma


2743
13:56:38,880 --> 13:56:44,160
here to complete the um to make sure that the dart formatter


2744
13:56:44,160 --> 13:56:49,116
actually formats your functions correctly all right


2745
13:56:49,116 --> 13:56:53,276
so remember show error dialogue uh what it needs to


2746
13:56:53,276 --> 13:56:58,080
do all it has to do is just to create a dialogue and then display it so to do


2747
13:56:58,080 --> 13:57:02,080
you i mean you may think that you always start with the creation of the dialogue


2748
13:57:02,080 --> 13:57:05,680
but in fact you need to first think about returning the result of the


2749
13:57:05,680 --> 13:57:10,240
dialogue which is in cases of void so you do that using um


2750
13:57:10,240 --> 13:57:15,756
show dialogue so say return show dialog


2751
13:57:15,756 --> 13:57:21,360
and the context is available for you as a parameter to your function and also


2752
13:57:21,360 --> 13:57:25,520
let me should i make this a bit bigger or is the size okay i think this size is


2753
13:57:25,520 --> 13:57:28,480
actually quite enough so


2754
13:57:28,480 --> 13:57:34,320
now that we have that let's then go and say that we want to have a builder


2755
13:57:34,320 --> 13:57:37,596
and your builder i'm going to get help from visual studio code to complete this


2756
13:57:37,596 --> 13:57:43,360
you see it takes the um it brings the build context in as a parameter and it


2757
13:57:43,360 --> 13:57:47,436
expects you to return let's get the documentation on


2758
13:57:47,436 --> 13:57:51,596
it and expect you to return a widget and the widget that we're gonna have to


2759
13:57:51,596 --> 13:57:56,880
display in our short in our show dialog is an alert dialog so let's go create


2760
13:57:56,880 --> 13:58:01,200
that alert dialog all right so


2761
13:58:01,200 --> 13:58:04,956
um for the title of our alert dialog since


2762
13:58:04,956 --> 13:58:09,116
this is as you can see from the function signature here that says show


2763
13:58:09,116 --> 13:58:14,240
air dialog this is this dialog is explicitly going to be used and


2764
13:58:14,240 --> 13:58:19,360
exclusively gonna be used for displaying errors to the user so something has


2765
13:58:19,360 --> 13:58:23,200
happened and we need to handle that error okay so


2766
13:58:23,200 --> 13:58:27,840
we are going to in this case write a specific very specific title for our


2767
13:58:27,840 --> 13:58:31,756
alert dialogue that the user understands something bad has happened and it needs


2768
13:58:31,756 --> 13:58:35,520
their attention so for the title we're just going to say


2769
13:58:35,520 --> 13:58:40,320
a constant text remember the title property if you just move your mouse


2770
13:58:40,320 --> 13:58:44,160
over you can see it's a widget it's not a string you actually can configure the


2771
13:58:44,160 --> 13:58:47,276
title to be whatever you want so this is the beauty of


2772
13:58:47,276 --> 13:58:51,916
flutter almost everything is a widget so you'd expect oh the title should just be


2773
13:58:51,916 --> 13:58:56,320
a string but no you can configure the title to be exactly what you want so it


2774
13:58:56,320 --> 13:59:01,680
can just be an icon if you wanted to so so let's in here in the text say an


2775
13:59:01,680 --> 13:59:06,040
error occurred


2776
13:59:06,320 --> 13:59:10,080
and then we're going to go for the content


2777
13:59:10,080 --> 13:59:13,756
of this dialogue remember the content comes in


2778
13:59:13,756 --> 13:59:19,520
here as the text as a string so let's wrap that inside a text


2779
13:59:19,520 --> 13:59:24,400
widget and we just say we display the text in there okay


2780
13:59:24,400 --> 13:59:29,520
and for the actions we're gonna go here


2781
13:59:29,520 --> 13:59:34,640
and let's for the actions then say we're gonna create a text button remember the


2782
13:59:34,640 --> 13:59:39,840
text button has two parameters one is its um


2783
13:59:39,840 --> 13:59:43,756
file the other one is unpressed the text button always has to have both these


2784
13:59:43,756 --> 13:59:47,360
parameters set all right so


2785
13:59:47,360 --> 13:59:52,880
what do we want to do on the unpressed we're going to just create the um


2786
13:59:52,880 --> 13:59:58,400
function signature for it and for its child we're just going to say text


2787
13:59:58,400 --> 14:00:03,360
and let's just say okay okay


2788
14:00:03,360 --> 14:00:06,800
um so now we have that set up


2789
14:00:06,800 --> 14:00:12,320
and uh let's just do some formatting in there so let's think about what we need


2790
14:00:12,320 --> 14:00:16,320
to do on the on press just remember this dialog is just going to be displayed to


2791
14:00:16,320 --> 14:00:19,756
the user the user is just going to get the information such as we're going to


2792
14:00:19,756 --> 14:00:24,880
display an alert saying that oh um your password is too weak or uh hey


2793
14:00:24,880 --> 14:00:28,800
this user already exists or this email already exists or incorrect password so


2794
14:00:28,800 --> 14:00:33,200
it's just text and then ok button so pressing the ok button the only thing is


2795
14:00:33,200 --> 14:00:36,240
going to do is just going to dismiss the alert dialogue so only thing you need to


2796
14:00:36,240 --> 14:00:42,400
do in here is just to say navigator of your context and then you'll just pop


2797
14:00:42,400 --> 14:00:47,040
this ensures that your dialogue then gets dismissed now


2798
14:00:47,040 --> 14:00:50,800
i've done some videos about this before on linkedin and twitter i've done live


2799
14:00:50,800 --> 14:00:54,640
videos about this where we talked about a better way of displaying error


2800
14:00:54,640 --> 14:00:58,160
dialogues because this way of displaying error dialects is


2801
14:00:58,160 --> 14:01:02,320
a little bit limited in that then the


2802
14:01:02,320 --> 14:01:08,400
pressing of the button dismisses the dialog however sometimes you may need to


2803
14:01:08,400 --> 14:01:11,756
have persistent dialogue displayed on the screen even when you push new


2804
14:01:11,756 --> 14:01:16,400
screens on top of other screens so it's a little bit strange that a


2805
14:01:16,400 --> 14:01:20,800
dialogue is doing navigation in that it tells navigator to pop


2806
14:01:20,800 --> 14:01:24,720
a better way of doing this is using overlays but overlays are a little bit


2807
14:01:24,720 --> 14:01:28,400
complicated for this part of the course so we're not going to talk about


2808
14:01:28,400 --> 14:01:33,276
overlays right now let's just say now we have a generic dialogue that can display


2809
14:01:33,276 --> 14:01:40,116
a text with a title of an err occurred okay


2810
14:01:40,160 --> 14:01:46,320
all right so that is in place now and now let's go to the next item that we


2811
14:01:46,320 --> 14:01:52,320
need to handle here and that is to handle user not found


2812
14:01:52,320 --> 14:01:56,000
so if we go to our um


2813
14:01:56,000 --> 14:01:59,276
sorry i just need to have a look at my notes to ensure that i'm telling you


2814
14:01:59,276 --> 14:02:03,436
everything that i i was supposed to tell you


2815
14:02:03,436 --> 14:02:08,560
all right so in here on your login view in the case that the error is used or


2816
14:02:08,560 --> 14:02:15,116
not found we are going to display an alert to the user using our new function


2817
14:02:15,116 --> 14:02:21,436
okay so in if e code user not found instead of devtools log we're going to


2818
14:02:21,436 --> 14:02:25,840
say show error dialog the context is already


2819
14:02:25,840 --> 14:02:29,680
available for us because you see it is passed inside


2820
14:02:29,680 --> 14:02:33,276
your build function already so you don't have to grab it from anywhere else it's


2821
14:02:33,276 --> 14:02:40,240
available right there and for a text we're just gonna say user not found okay


2822
14:02:40,560 --> 14:02:45,916
and close the string you can see now if i format this um code these two


2823
14:02:45,916 --> 14:02:49,360
parameters are displayed on the same line as i mentioned in the previous


2824
14:02:49,360 --> 14:02:53,360
chapter all you have to do for the dart formatter to be able to format this code


2825
14:02:53,360 --> 14:02:56,560
correctly is put a comma at the end of the last parameter and just press


2826
14:02:56,560 --> 14:03:00,880
command s and it will format it again for you so each parameter goes into its


2827
14:03:00,880 --> 14:03:06,400
own separate line okay um in case of the so now that we've


2828
14:03:06,400 --> 14:03:10,720
handled user not found okay so we could literally test that let me do a hot


2829
14:03:10,720 --> 14:03:15,040
restart just to ensure every piece of code is injected into the binary that is


2830
14:03:15,040 --> 14:03:19,276
running in the application let's go and place an email that doesn't


2831
14:03:19,276 --> 14:03:24,160
exist so that we get the user not found and let's just enter some password and


2832
14:03:24,160 --> 14:03:28,880
then i'm going to press the login button and you can see now we get our error


2833
14:03:28,880 --> 14:03:33,520
displayed on the screen that says an error occurred user not found and you


2834
14:03:33,520 --> 14:03:37,276
can press the ok button to get rid of the


2835
14:03:37,276 --> 14:03:41,360
um the dialog and getting rid of the dialog is happening here you see


2836
14:03:41,360 --> 14:03:45,680
pressing that button says navigator of context pop so


2837
14:03:45,680 --> 14:03:51,276
that's what is happening there all right great stuff what we need to do


2838
14:03:51,276 --> 14:03:55,200
now is to handle wrong password as well and this one is going to be a breeze


2839
14:03:55,200 --> 14:04:00,320
because we've already handled user not found so what you can do is copy and


2840
14:04:00,320 --> 14:04:04,480
paste this code that was placed here in the user not found statement and bring


2841
14:04:04,480 --> 14:04:09,360
it here and replace this devtools log wrong password with that and instead of


2842
14:04:09,360 --> 14:04:14,560
saying user not found what we're going to say is going to say wrong credentials


2843
14:04:14,560 --> 14:04:16,880
okay


2844
14:04:17,116 --> 14:04:21,916
so let me now go and try to log in you can also do that at


2845
14:04:21,916 --> 14:04:25,756
home or wherever you're watching this course from you can enter the email


2846
14:04:25,756 --> 14:04:28,956
address of a user who's already registered with your application so like


2847
14:04:28,956 --> 14:04:32,720
if you're testing you may enter the email address of the person that or your


2848
14:04:32,720 --> 14:04:35,680
own email address if that's what you're testing with but enter the wrong


2849
14:04:35,680 --> 14:04:40,000
credentials so there we go and then press login and now you can see


2850
14:04:40,000 --> 14:04:44,956
that message being printed to the screen wrong credentials okay


2851
14:04:44,956 --> 14:04:50,956
all right perfect now um what we also need to do


2852
14:04:50,956 --> 14:04:53,756
um [Music]


2853
14:04:53,756 --> 14:04:58,400
is handle other firebase authentication exceptions


2854
14:04:58,400 --> 14:05:02,320
and you can see here in this case we're saying if there is a firebase auth


2855
14:05:02,320 --> 14:05:07,276
exception and if the code is used or not found or if the code is wrong password


2856
14:05:07,276 --> 14:05:12,400
however there might also be an exception that you haven't accounted for and


2857
14:05:12,400 --> 14:05:17,680
although these are the most known error codes that you can get there's always a


2858
14:05:17,680 --> 14:05:22,400
possibility that there will be another error code in the future maybe not now


2859
14:05:22,400 --> 14:05:25,276
that you will receive from firebase which you haven't accounted for in that


2860
14:05:25,276 --> 14:05:27,840
case the code then goes in here and says oh


2861
14:05:27,840 --> 14:05:31,916
the code is not user not found is not wrong password and it will just


2862
14:05:31,916 --> 14:05:36,880
fall through meaning that this entire code will this entire catch block will


2863
14:05:36,880 --> 14:05:42,480
not be able to catch the actual exception and your code will crash


2864
14:05:42,480 --> 14:05:45,916
so it is very or you will actually get an error screen


2865
14:05:45,916 --> 14:05:48,956
so it's very important that you


2866
14:05:48,956 --> 14:05:54,000
think about your exception handling early on so you don't send out a code to


2867
14:05:54,000 --> 14:05:57,116
production that doesn't have proper error handling okay


2868
14:05:57,116 --> 14:06:01,040
so um that's what we're going to do


2869
14:06:01,040 --> 14:06:05,520
so two things we need to do we have to handle other exceptions that might occur


2870
14:06:05,520 --> 14:06:11,276
and also other firebase off exceptions so let's do those things


2871
14:06:11,520 --> 14:06:15,596
so um actually we need to first do this so


2872
14:06:15,596 --> 14:06:21,040
let's first take care of other all firebase auth exception so place an else


2873
14:06:21,040 --> 14:06:25,840
statement in here and then in that case just display a dialog


2874
14:06:25,840 --> 14:06:30,400
like i'm doing here and for the error we're just going to say error and then


2875
14:06:30,400 --> 14:06:33,360
in here e dot code


2876
14:06:33,360 --> 14:06:37,040
now you may not be familiar with this syntax from before because maybe i


2877
14:06:37,040 --> 14:06:40,400
haven't explained this before but this is like string formatting and guardian


2878
14:06:40,400 --> 14:06:44,480
is very elegant it's also available i mean kind of the same thing is available


2879
14:06:44,480 --> 14:06:47,916
in almost every language that i work with swift it's available in python when


2880
14:06:47,916 --> 14:06:50,560
you're working with django it's available in ros it's available in


2881
14:06:50,560 --> 14:06:55,596
javascript javascript so you're basically escaping a string and


2882
14:06:55,596 --> 14:07:00,160
injecting some actual variables inside that all right


2883
14:07:00,160 --> 14:07:05,116
so in python for instance you would do a f which means you're formatting and


2884
14:07:05,116 --> 14:07:09,200
you'd be like hello and you would i think you would say


2885
14:07:09,200 --> 14:07:12,800
dollar value


2886
14:07:12,800 --> 14:07:16,880
and then you would put your value at the end something with a percentage sign


2887
14:07:16,880 --> 14:07:20,240
something like that and in javascript you will do


2888
14:07:20,240 --> 14:07:24,956
back quotes like this so and in swift you will do something like this uh e


2889
14:07:24,956 --> 14:07:30,800
code like that inside a string so this is basically a way for dark to inject an


2890
14:07:30,800 --> 14:07:34,320
actual code inside your string


2891
14:07:34,320 --> 14:07:38,240
and you can see in the case of firebase auth exception


2892
14:07:38,240 --> 14:07:43,116
the e becomes then a firebase auth exception and every


2893
14:07:43,116 --> 14:07:47,360
exception of this type has a code of type string


2894
14:07:47,360 --> 14:07:52,400
and this is us basically injecting that string inside our own string so every


2895
14:07:52,400 --> 14:07:57,040
code then will be prefixed with the value of error and then a double double


2896
14:07:57,040 --> 14:08:01,520
column here and then space and the code string itself


2897
14:08:01,520 --> 14:08:05,520
now that we've done that we also need to handle the case where the exception is


2898
14:08:05,520 --> 14:08:09,276
not a firebase auth exception and that's the next point that we need to talk


2899
14:08:09,276 --> 14:08:15,360
about so in here uh at the end of this


2900
14:08:15,360 --> 14:08:18,880
on firebase auth exception block and if you're kind of like unsure where things


2901
14:08:18,880 --> 14:08:22,000
start and then you can see that as you go to this


2902
14:08:22,000 --> 14:08:25,756
end of this curly bracket here you can see that visual studio code has


2903
14:08:25,756 --> 14:08:29,360
highlighted this curly bracket right there saying that this is the beginning


2904
14:08:29,360 --> 14:08:32,720
of the code and even if that's not enough for you you can always go to


2905
14:08:32,720 --> 14:08:37,520
visual studio codes and gutter on the left hand side and like


2906
14:08:37,520 --> 14:08:42,320
collapse these pieces of code so you can see oh


2907
14:08:42,320 --> 14:08:46,480
here here you can easily see them you can also i think


2908
14:08:46,480 --> 14:08:50,880
can we not collapse this entire if no we can't collapse that entire thing


2909
14:08:50,880 --> 14:08:54,956
but anyway so at the end of this we need to do now is


2910
14:08:54,956 --> 14:09:01,276
just to say catch e this is a generic catch block meaning


2911
14:09:01,276 --> 14:09:04,800
that if the exception that occurs in the try


2912
14:09:04,800 --> 14:09:09,840
statement is not a firebase auth exception then go into this catch block


2913
14:09:09,840 --> 14:09:15,040
and in this cache block now e you can see is an object so it's not like a


2914
14:09:15,040 --> 14:09:19,116
normal exception anymore it's just any object because if you remember when we


2915
14:09:19,116 --> 14:09:24,240
talked about exceptions in dart you can throw pretty much anything in dart as an


2916
14:09:24,240 --> 14:09:27,276
exception you can even throw an enumeration value so


2917
14:09:27,276 --> 14:09:30,720
that's why it's telling us saying that any except any other exception other


2918
14:09:30,720 --> 14:09:35,276
than this is just an object it's not known to me i don't know what it is so


2919
14:09:35,276 --> 14:09:39,756
it's up to you now to display that error now if you remember from before from the


2920
14:09:39,756 --> 14:09:44,560
previous chapter objects all have a function called tostring


2921
14:09:44,560 --> 14:09:49,040
so that's perfect then we can go here let me expand these so that they don't


2922
14:09:49,040 --> 14:09:51,916
become a little bit cryptic like they did


2923
14:09:51,916 --> 14:09:57,840
and paste that code to display a show error dialogue again in here also we're


2924
14:09:57,840 --> 14:10:00,560
just going to say


2925
14:10:00,720 --> 14:10:06,320
e to string just like that right


2926
14:10:06,640 --> 14:10:09,116
so we we're handling wrong credentials with


2927
14:10:09,116 --> 14:10:13,916
handling any other error that might arise and also sorry any other firebase


2928
14:10:13,916 --> 14:10:18,400
exception of exception and any other exception in


2929
14:10:18,400 --> 14:10:24,560
general that might arise during logging the user in


2930
14:10:25,276 --> 14:10:28,000
all right that was a lot of information i


2931
14:10:28,000 --> 14:10:32,560
understand and i move past this quite fast since when we talk about one thing


2932
14:10:32,560 --> 14:10:35,360
like we've already talked about displaying dialogues i don't think it's


2933
14:10:35,360 --> 14:10:39,040
worth your time and my time to spend too much time explaining all of these over


2934
14:10:39,040 --> 14:10:43,116
and over again and so and that's why i move past these


2935
14:10:43,116 --> 14:10:47,840
sometimes quite fast what we need to do now is to do some


2936
14:10:47,840 --> 14:10:51,596
cleanup because you see now we have our login view m here


2937
14:10:51,596 --> 14:10:56,640
sorry login view dart file here and the m in visual studio code means modified


2938
14:10:56,640 --> 14:11:01,756
since we last committed this into git and we have that file however we also


2939
14:11:01,756 --> 14:11:06,160
have the show error dialog that is sitting here that is also going to be


2940
14:11:06,160 --> 14:11:10,640
useful for the register view however it's right now just sitting in the login


2941
14:11:10,640 --> 14:11:15,116
view so if register view wants to then use this same code you will have to


2942
14:11:15,116 --> 14:11:20,400
import the login view and then use this feature it's a little bit wrong this is


2943
14:11:20,400 --> 14:11:24,000
supposed to be like a generic show error dialogue and it should be available for


2944
14:11:24,000 --> 14:11:28,160
pretty much any piece of code that needs it so what we were going to do as a


2945
14:11:28,160 --> 14:11:30,720
caption says here we're going to create a new file


2946
14:11:30,720 --> 14:11:37,596
um and folder as i can see under lib so open your project explorer under lib


2947
14:11:37,596 --> 14:11:42,720
go and create and you can see here we need to create a file called show error


2948
14:11:42,720 --> 14:11:46,000
dialog dart and it's it needs to be inside


2949
14:11:46,000 --> 14:11:50,720
a folder called utility so i'm going to right click on lib and say new file and


2950
14:11:50,720 --> 14:11:55,436
i'm just going to type utilities slash


2951
14:11:55,436 --> 14:12:00,000
show error dialogue dart all right


2952
14:12:00,000 --> 14:12:05,916
and go to your login view and grab that code


2953
14:12:05,916 --> 14:12:11,520
uh for show error dialogue uh poof i'm gonna grab the code


2954
14:12:11,520 --> 14:12:15,680
and cut it however you cut in your operating system


2955
14:12:15,680 --> 14:12:20,640
in mac is command x in visual studio code and bring it into your show error


2956
14:12:20,640 --> 14:12:24,720
dialog file all right we're gonna get a lot of uh errors but as i've explained


2957
14:12:24,720 --> 14:12:28,160
in the previous chapters we can also import these things material dart to get


2958
14:12:28,160 --> 14:12:32,720
rid of almost actually all of those errors so that was fantastic


2959
14:12:32,720 --> 14:12:35,520
now that we've done that you can see visual studio is already showing this


2960
14:12:35,520 --> 14:12:40,080
tab the login view as having an error and that is because login view is using


2961
14:12:40,080 --> 14:12:44,800
show error dialog but now that we've removed show error dialog from there it


2962
14:12:44,800 --> 14:12:49,680
doesn't know where this show error dialog now resides


2963
14:12:49,680 --> 14:12:55,276
so what we need to do is to use our new file in the login view dart file


2964
14:12:55,276 --> 14:12:58,880
and you could do that you could ask visual studio code to help you with this


2965
14:12:58,880 --> 14:13:02,320
and you could just say import library and


2966
14:13:02,320 --> 14:13:07,116
that's it it imported it for us and


2967
14:13:07,116 --> 14:13:10,956
as you can see now that we're we don't have any more


2968
14:13:10,956 --> 14:13:15,916
logs inside our login view visual studio code is helping and saying


2969
14:13:15,916 --> 14:13:20,160
you're no more using you're no longer using the dev tools or the dart


2970
14:13:20,160 --> 14:13:23,360
developer package import


2971
14:13:23,360 --> 14:13:27,840
what you can do is just to safely remove that and clean up your imports as well


2972
14:13:27,840 --> 14:13:31,360
while we're going okay so um


2973
14:13:31,360 --> 14:13:34,720
that is working fine and we can just confirm that so i'm just going to enter


2974
14:13:34,720 --> 14:13:38,880
an existing email here with the wrong credentials and just to


2975
14:13:38,880 --> 14:13:42,400
ensure that we're getting the dialogue wrong credentials okay


2976
14:13:42,400 --> 14:13:45,116
perfect now that we've done that i'm going to


2977
14:13:45,116 --> 14:13:49,840
change the screen layout a little bit and what we're going to do is that we


2978
14:13:49,840 --> 14:13:53,360
need to wrap up this chapter we've cleaned up our error handling and we


2979
14:13:53,360 --> 14:13:58,000
need to just make a commit remember pretty much in every chapter from a few


2980
14:13:58,000 --> 14:14:03,040
chapters uh back onwards we're to commit our code at the end of the chapter just


2981
14:14:03,040 --> 14:14:06,800
to make sure that you have traceability for for your code and this is what you


2982
14:14:06,800 --> 14:14:10,080
will need to do even if you're working for instance actually especially if


2983
14:14:10,080 --> 14:14:14,480
you're working inside a a team with other people doing flutter


2984
14:14:14,480 --> 14:14:18,640
code or any other code you need to ensure that your code which is ready or


2985
14:14:18,640 --> 14:14:22,240
even if it's not ready it is committed so um


2986
14:14:22,240 --> 14:14:26,240
even if your code isn't ready you can commit it into a specific branch but you


2987
14:14:26,240 --> 14:14:30,800
should never leave your work day without committing your work remember


2988
14:14:30,800 --> 14:14:35,200
that okay so let's now go and commit our work i'm


2989
14:14:35,200 --> 14:14:39,680
gonna bring up the terminal a little bit here so and you can see that the


2990
14:14:39,680 --> 14:14:44,480
previous chapter we did a step five and in here we're going to commit our


2991
14:14:44,480 --> 14:14:48,956
work as step 6 and also we're going to tag our work okay


2992
14:14:48,956 --> 14:14:53,276
so let's say git status you can see utilities is a new folder i'm just going


2993
14:14:53,276 --> 14:14:56,720
to say git add all i'm going to increase the size of the screen as well so you


2994
14:14:56,720 --> 14:14:59,360
see it better make your studio code a little bit


2995
14:14:59,360 --> 14:15:02,320
larger as well clean


2996
14:15:02,320 --> 14:15:07,916
and get add dash dash all and then git status now you can see these are staged


2997
14:15:07,916 --> 14:15:13,116
for committing and i'm going to commit them as step 6 i believe


2998
14:15:13,116 --> 14:15:16,800
after doing that let's tag it as well as step six


2999
14:15:16,800 --> 14:15:23,360
um and get push our changes and we're also gonna push tags


3000
14:15:23,360 --> 14:15:29,116
all right that is absolutely perfect so that was that to be honest with you


